/*! For license information please see bundle.js.LICENSE.txt */
(()=>{"use strict";var e={20:(e,t,n)=>{var r=n(540),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,o={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:c,props:o,_owner:s.current}}t.Fragment=o,t.jsx=u,t.jsxs=u},287:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),f=Symbol.iterator,h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||h}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||h}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var x=b.prototype=new y;x.constructor=b,m(x,v.prototype),x.isPureReactComponent=!0;var _=Array.isArray,w=Object.prototype.hasOwnProperty,C={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)w.call(t,i)&&!S.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];o.children=u}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:C.current}}function T(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}var k=/\/+/g;function O(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function N(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===o?"."+O(l,0):o,_(a)?(i="",null!=e&&(i=e.replace(k,"$&/")+"/"),N(a,t,i,"",function(e){return e})):null!=a&&(T(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(k,"$&/")+"/")+e)),t.push(a)),1;if(l=0,o=""===o?".":o+":",_(e))for(var u=0;u<e.length;u++){var c=o+O(s=e[u],u);l+=N(s,t,i,c,a)}else if(c=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"==typeof c)for(e=c.call(e),u=0;!(s=e.next()).done;)l+=N(s=s.value,t,i,c=o+O(s,u++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",function(e){return t.call(n,e,i++)}),r}function I(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},j={transition:null},R={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:j,ReactCurrentOwner:C};function M(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:A,forEach:function(e,t,n){A(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return A(e,function(){t++}),t},toArray:function(e){return A(e,function(e){return e})||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=o,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.act=M,t.cloneElement=function(e,t,r){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=C.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)w.call(t,u)&&!S.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:I}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=j.transition;j.transition={};try{e()}finally{j.transition=t}},t.unstable_act=M,t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.3.1"},338:(e,t,n)=>{var r=n(961);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},463:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,l=e[s],u=s+1,c=e[u];if(0>o(l,n))u<i&&0>o(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[s]=n,r=s);else{if(!(u<i&&0>o(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],c=[],d=1,p=null,f=3,h=!1,m=!1,g=!1,v="function"==typeof setTimeout?setTimeout:null,y="function"==typeof clearTimeout?clearTimeout:null,b="undefined"!=typeof setImmediate?setImmediate:null;function x(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function _(e){if(g=!1,x(e),!m)if(null!==r(u))m=!0,j(w);else{var t=r(c);null!==t&&R(_,t.startTime-e)}}function w(e,n){m=!1,g&&(g=!1,y(T),T=-1),h=!0;var o=f;try{for(x(n),p=r(u);null!==p&&(!(p.expirationTime>n)||e&&!N());){var a=p.callback;if("function"==typeof a){p.callback=null,f=p.priorityLevel;var s=a(p.expirationTime<=n);n=t.unstable_now(),"function"==typeof s?p.callback=s:p===r(u)&&i(u),x(n)}else i(u);p=r(u)}if(null!==p)var l=!0;else{var d=r(c);null!==d&&R(_,d.startTime-n),l=!1}return l}finally{p=null,f=o,h=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var C,S=!1,E=null,T=-1,k=5,O=-1;function N(){return!(t.unstable_now()-O<k)}function A(){if(null!==E){var e=t.unstable_now();O=e;var n=!0;try{n=E(!0,e)}finally{n?C():(S=!1,E=null)}}else S=!1}if("function"==typeof b)C=function(){b(A)};else if("undefined"!=typeof MessageChannel){var I=new MessageChannel,P=I.port2;I.port1.onmessage=A,C=function(){P.postMessage(null)}}else C=function(){v(A,0)};function j(e){E=e,S||(S=!0,C())}function R(e,n){T=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||h||(m=!0,j(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch(o="object"==typeof o&&null!==o&&"number"==typeof(o=o.delay)&&0<o?a+o:a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(c,e),null===r(u)&&e===r(c)&&(g?(y(T),T=-1):g=!0,R(_,o-a))):(e.sortIndex=s,n(u,e),m||h||(m=!0,j(w))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},540:(e,t,n)=>{e.exports=n(287)},551:(e,t,n)=>{var r=n(540),i=n(982);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var c=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},h={};function m(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(h,e)||!d.call(f,e)&&(p.test(e)?h[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),w=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),k=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var j=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function M(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=R&&e[R]||e["@@iterator"])?e:null}var D,L=Object.assign;function U(e){if(void 0===D)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var F=!1;function z(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(t){if(t&&r&&"string"==typeof t.stack){for(var i=t.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=s);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function V(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return z(e.type,!1);case 11:return z(e.type.render,!1);case 1:return z(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case C:return"Fragment";case w:return"Portal";case E:return"Profiler";case S:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case k:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case O:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case I:return null!==(t=e.displayName||null)?t:q(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return q(e(t))}catch(e){}}return null}function B(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function G(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function $(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Z(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function W(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function K(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Q(e,t){Y(e,t);var n=G(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function X(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&W(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function oe(e,t){var n=G(t.value),r=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,de=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ce(e,t)})}:ce);function pe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach(function(e){he.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]})});var ve=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,Ce=null,Se=null;function Ee(e){if(e=bi(e)){if("function"!=typeof we)throw Error(o(280));var t=e.stateNode;t&&(t=_i(t),we(e.stateNode,e.type,t))}}function Te(e){Ce?Se?Se.push(e):Se=[e]:Ce=e}function ke(){if(Ce){var e=Ce,t=Se;if(Se=Ce=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Oe(e,t){return e(t)}function Ne(){}var Ae=!1;function Ie(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Oe(e,t,n)}finally{Ae=!1,(null!==Ce||null!==Se)&&(Ne(),ke())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=_i(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(o(231,t,typeof n));return n}var je=!1;if(c)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){je=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(ce){je=!1}function Me(e,t,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}var De=!1,Le=null,Ue=!1,Fe=null,ze={onError:function(e){De=!0,Le=e}};function Ve(e,t,n,r,i,o,a,s,l){De=!1,Le=null,Me.apply(ze,arguments)}function qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Be(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function Ge(e){if(qe(e)!==e)throw Error(o(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Ge(i),e;if(a===r)return Ge(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?$e(e):null}function $e(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=$e(e);if(null!==t)return t;e=e.sibling}return null}var Ze=i.unstable_scheduleCallback,We=i.unstable_cancelCallback,Je=i.unstable_shouldYield,Ke=i.unstable_requestPaint,Ye=i.unstable_now,Qe=i.unstable_getCurrentPriorityLevel,Xe=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null,at=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2,ut=64,ct=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=dt(s):0!==(o&=a)&&(r=dt(o))}else 0!==(a=n&~i)?r=dt(a):0!==o&&(r=dt(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&4194240&o))return t;if(4&r&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ht(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ut;return!(4194240&(ut<<=1))&&(ut=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function xt(e){return 1<(e&=-e)?4<e?268435455&e?16:536870912:4:1}var _t,wt,Ct,St,Et,Tt=!1,kt=[],Ot=null,Nt=null,At=null,It=new Map,Pt=new Map,jt=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":Ot=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":It.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Dt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&null!==(t=bi(t))&&wt(t),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Lt(e){var t=yi(e.target);if(null!==t){var n=qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Be(n)))return e.blockedOn=t,void Et(e.priority,function(){Ct(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);xe=r,n.target.dispatchEvent(r),xe=null,t.shift()}return!0}function Ft(e,t,n){Ut(e)&&n.delete(t)}function zt(){Tt=!1,null!==Ot&&Ut(Ot)&&(Ot=null),null!==Nt&&Ut(Nt)&&(Nt=null),null!==At&&Ut(At)&&(At=null),It.forEach(Ft),Pt.forEach(Ft)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,zt)))}function qt(e){function t(t){return Vt(t,e)}if(0<kt.length){Vt(kt[0],e);for(var n=1;n<kt.length;n++){var r=kt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ot&&Vt(Ot,e),null!==Nt&&Vt(Nt,e),null!==At&&Vt(At,e),It.forEach(t),Pt.forEach(t),n=0;n<jt.length;n++)(r=jt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<jt.length&&null===(n=jt[0]).blockedOn;)Lt(n),null===n.blockedOn&&jt.shift()}var Bt=x.ReactCurrentBatchConfig,Gt=!0;function Ht(e,t,n,r){var i=bt,o=Bt.transition;Bt.transition=null;try{bt=1,Zt(e,t,n,r)}finally{bt=i,Bt.transition=o}}function $t(e,t,n,r){var i=bt,o=Bt.transition;Bt.transition=null;try{bt=4,Zt(e,t,n,r)}finally{bt=i,Bt.transition=o}}function Zt(e,t,n,r){if(Gt){var i=Jt(e,t,n,r);if(null===i)Gr(e,t,r,Wt,n),Mt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ot=Dt(Ot,e,t,n,r,i),!0;case"dragenter":return Nt=Dt(Nt,e,t,n,r,i),!0;case"mouseover":return At=Dt(At,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return It.set(o,Dt(It.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Pt.set(o,Dt(Pt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&_t(o),null===(o=Jt(e,t,n,r))&&Gr(e,t,r,Wt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Gr(e,t,r,null,n)}}var Wt=null;function Jt(e,t,n,r){if(Wt=null,null!==(e=yi(e=_e(r))))if(null===(t=qe(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Be(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Wt=e,null}function Kt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qe()){case Xe:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Qt=null,Xt=null;function en(){if(Xt)return Xt;var e,t,n=Qt,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Xt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=on(un),dn=L({},un,{view:0,detail:0}),pn=on(dn),fn=L({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),hn=on(fn),mn=on(L({},fn,{dataTransfer:0})),gn=on(L({},dn,{relatedTarget:0})),vn=on(L({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=L({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(yn),xn=on(L({},un,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Cn[e])&&!!t[e]}function En(){return Sn}var Tn=L({},dn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),kn=on(Tn),On=on(L({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=on(L({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),An=on(L({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),In=L({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=on(In),jn=[9,13,27,32],Rn=c&&"CompositionEvent"in window,Mn=null;c&&"documentMode"in document&&(Mn=document.documentMode);var Dn=c&&"TextEvent"in window&&!Mn,Ln=c&&(!Rn||Mn&&8<Mn&&11>=Mn),Un=String.fromCharCode(32),Fn=!1;function zn(e,t){switch(e){case"keyup":return-1!==jn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var qn=!1,Bn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Bn[e.type]:"textarea"===t}function Hn(e,t,n,r){Te(r),0<(t=$r(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var $n=null,Zn=null;function Wn(e){Ur(e,0)}function Jn(e){if(Z(xi(e)))return e}function Kn(e,t){if("change"===e)return t}var Yn=!1;if(c){var Qn;if(c){var Xn="oninput"in document;if(!Xn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Xn="function"==typeof er.oninput}Qn=Xn}else Qn=!1;Yn=Qn&&(!document.documentMode||9<document.documentMode)}function tr(){$n&&($n.detachEvent("onpropertychange",nr),Zn=$n=null)}function nr(e){if("value"===e.propertyName&&Jn(Zn)){var t=[];Hn(t,Zn,e,_e(e)),Ie(Wn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Zn=n,($n=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Zn)}function or(e,t){if("click"===e)return Jn(t)}function ar(e,t){if("input"===e||"change"===e)return Jn(t)}var sr="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function lr(e,t){if(sr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function pr(){for(var e=window,t=W();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=W((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function hr(e){var t=pr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=cr(n,o);var a=cr(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=c&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,br=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==W(r)||(r="selectionStart"in(r=gr)&&fr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=$r(vr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function _r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wr={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},Cr={},Sr={};function Er(e){if(Cr[e])return Cr[e];if(!wr[e])return e;var t,n=wr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return Cr[e]=n[t];return e}c&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);var Tr=Er("animationend"),kr=Er("animationiteration"),Or=Er("animationstart"),Nr=Er("transitionend"),Ar=new Map,Ir="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Ar.set(e,t),l(t,[e])}for(var jr=0;jr<Ir.length;jr++){var Rr=Ir[jr];Pr(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}Pr(Tr,"onAnimationEnd"),Pr(kr,"onAnimationIteration"),Pr(Or,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Nr,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,l,u){if(Ve.apply(this,arguments),De){if(!De)throw Error(o(198));var c=Le;De=!1,Le=null,Ue||(Ue=!0,Fe=c)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;Lr(i,s,u),o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;Lr(i,s,u),o=l}}}if(Ue)throw e=Fe,Ue=!1,Fe=null,e}function Fr(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(Br(t,e,2,!1),n.add(r))}function zr(e,t,n){var r=0;t&&(r|=4),Br(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function qr(e){if(!e[Vr]){e[Vr]=!0,a.forEach(function(t){"selectionchange"!==t&&(Dr.has(t)||zr(t,!1,e),zr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,zr("selectionchange",!1,t))}}function Br(e,t,n,r){switch(Kt(t)){case 1:var i=Ht;break;case 4:i=$t;break;default:i=Zt}n=i.bind(null,t,n,e),i=void 0,!je||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Gr(e,t,n,r,i){var o=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=yi(s)))return;if(5===(l=a.tag)||6===l){r=o=a;continue e}s=s.parentNode}}r=r.return}Ie(function(){var r=o,i=_e(n),a=[];e:{var s=Ar.get(e);if(void 0!==s){var l=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=kn;break;case"focusin":u="focus",l=gn;break;case"focusout":u="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Nn;break;case Tr:case kr:case Or:l=vn;break;case Nr:l=An;break;case"scroll":l=pn;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=On}var c=!!(4&t),d=!c&&"scroll"===e,p=c?null!==s?s+"Capture":null:s;c=[];for(var f,h=r;null!==h;){var m=(f=h).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==p&&null!=(m=Pe(h,p))&&c.push(Hr(h,m,f))),d)break;h=h.return}0<c.length&&(s=new l(s,u,null,n,i),a.push({event:s,listeners:c}))}}if(!(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===xe||!(u=n.relatedTarget||n.fromElement)||!yi(u)&&!u[hi])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?yi(u):null)&&(u!==(d=qe(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=hn,m="onMouseLeave",p="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(c=On,m="onPointerLeave",p="onPointerEnter",h="pointer"),d=null==l?s:xi(l),f=null==u?s:xi(u),(s=new c(m,h+"leave",l,n,i)).target=d,s.relatedTarget=f,m=null,yi(i)===r&&((c=new c(p,h+"enter",u,n,i)).target=f,c.relatedTarget=d,m=c),d=m,l&&u)e:{for(p=u,h=0,f=c=l;f;f=Zr(f))h++;for(f=0,m=p;m;m=Zr(m))f++;for(;0<h-f;)c=Zr(c),h--;for(;0<f-h;)p=Zr(p),f--;for(;h--;){if(c===p||null!==p&&c===p.alternate)break e;c=Zr(c),p=Zr(p)}c=null}else c=null;null!==l&&Wr(a,s,l,c,!1),null!==u&&null!==d&&Wr(a,d,u,c,!0)}if("select"===(l=(s=r?xi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Kn;else if(Gn(s))if(Yn)g=ar;else{g=ir;var v=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=or);switch(g&&(g=g(e,r))?Hn(a,g,n,i):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&ee(s,"number",s.value)),v=r?xi(r):window,e){case"focusin":(Gn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,xr(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":xr(a,n,i)}var y;if(Rn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else qn?zn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Ln&&"ko"!==n.locale&&(qn||"onCompositionStart"!==b?"onCompositionEnd"===b&&qn&&(y=en()):(Qt="value"in(Yt=i)?Yt.value:Yt.textContent,qn=!0)),0<(v=$r(r,b)).length&&(b=new xn(b,e,null,n,i),a.push({event:b,listeners:v}),(y||null!==(y=Vn(n)))&&(b.data=y))),(y=Dn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Un);case"textInput":return(e=t.data)===Un&&Fn?null:e;default:return null}}(e,n):function(e,t){if(qn)return"compositionend"===e||!Rn&&zn(e,t)?(e=en(),Xt=Qt=Yt=null,qn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(r=$r(r,"onBeforeInput")).length&&(i=new xn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y)}Ur(a,t)})}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function $r(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Pe(e,n))&&r.unshift(Hr(e,o,i)),null!=(o=Pe(e,t))&&r.push(Hr(e,o,i))),e=e.return}return r}function Zr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Wr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==u&&(s=u,i?null!=(l=Pe(n,o))&&a.unshift(Hr(n,l,s)):i||null!=(l=Pe(n,o))&&a.push(Hr(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Jr=/\r\n?/g,Kr=/\u0000|\uFFFD/g;function Yr(e){return("string"==typeof e?e:""+e).replace(Jr,"\n").replace(Kr,"")}function Qr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(o(425))}function Xr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"==typeof setTimeout?setTimeout:void 0,ii="function"==typeof clearTimeout?clearTimeout:void 0,oi="function"==typeof Promise?Promise:void 0,ai="function"==typeof queueMicrotask?queueMicrotask:void 0!==oi?function(e){return oi.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout(function(){throw e})}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void qt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);qt(t)}function ui(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),pi="__reactFiber$"+di,fi="__reactProps$"+di,hi="__reactContainer$"+di,mi="__reactEvents$"+di,gi="__reactListeners$"+di,vi="__reactHandles$"+di;function yi(e){var t=e[pi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[hi]||n[pi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[pi])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[pi]||e[hi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function _i(e){return e[fi]||null}var wi=[],Ci=-1;function Si(e){return{current:e}}function Ei(e){0>Ci||(e.current=wi[Ci],wi[Ci]=null,Ci--)}function Ti(e,t){Ci++,wi[Ci]=e.current,e.current=t}var ki={},Oi=Si(ki),Ni=Si(!1),Ai=ki;function Ii(e,t){var n=e.type.contextTypes;if(!n)return ki;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Pi(e){return null!=e.childContextTypes}function ji(){Ei(Ni),Ei(Oi)}function Ri(e,t,n){if(Oi.current!==ki)throw Error(o(168));Ti(Oi,t),Ti(Ni,n)}function Mi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,B(e)||"Unknown",i));return L({},n,r)}function Di(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ki,Ai=Oi.current,Ti(Oi,e),Ti(Ni,Ni.current),!0}function Li(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Mi(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Ei(Ni),Ei(Oi),Ti(Oi,e)):Ei(Ni),Ti(Ni,n)}var Ui=null,Fi=!1,zi=!1;function Vi(e){null===Ui?Ui=[e]:Ui.push(e)}function qi(){if(!zi&&null!==Ui){zi=!0;var e=0,t=bt;try{var n=Ui;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ui=null,Fi=!1}catch(t){throw null!==Ui&&(Ui=Ui.slice(e+1)),Ze(Xe,qi),t}finally{bt=t,zi=!1}}return null}var Bi=[],Gi=0,Hi=null,$i=0,Zi=[],Wi=0,Ji=null,Ki=1,Yi="";function Qi(e,t){Bi[Gi++]=$i,Bi[Gi++]=Hi,Hi=e,$i=t}function Xi(e,t,n){Zi[Wi++]=Ki,Zi[Wi++]=Yi,Zi[Wi++]=Ji,Ji=e;var r=Ki;e=Yi;var i=32-at(r)-1;r&=~(1<<i),n+=1;var o=32-at(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Ki=1<<32-at(t)+i|n<<i|r,Yi=o+e}else Ki=1<<o|n<<i|r,Yi=e}function eo(e){null!==e.return&&(Qi(e,1),Xi(e,1,0))}function to(e){for(;e===Hi;)Hi=Bi[--Gi],Bi[Gi]=null,$i=Bi[--Gi],Bi[Gi]=null;for(;e===Ji;)Ji=Zi[--Wi],Zi[Wi]=null,Yi=Zi[--Wi],Zi[Wi]=null,Ki=Zi[--Wi],Zi[Wi]=null}var no=null,ro=null,io=!1,oo=null;function ao(e,t){var n=Iu(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ui(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ji?{id:Ki,overflow:Yi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Iu(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function lo(e){return!(!(1&e.mode)||128&e.flags)}function uo(e){if(io){var t=ro;if(t){var n=t;if(!so(e,t)){if(lo(e))throw Error(o(418));t=ui(n.nextSibling);var r=no;t&&so(e,t)?ao(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function co(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function po(e){if(e!==no)return!1;if(!io)return co(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(lo(e))throw fo(),Error(o(418));for(;t;)ao(e,t),t=ui(t.nextSibling)}if(co(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ui(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ui(e.stateNode.nextSibling):null;return!0}function fo(){for(var e=ro;e;)e=ui(e.nextSibling)}function ho(){ro=no=null,io=!1}function mo(e){null===oo?oo=[e]:oo.push(e)}var go=x.ReactCurrentBatchConfig;function vo(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!=typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function yo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bo(e){return(0,e._init)(e._payload)}function xo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=ju(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Lu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var o=n.type;return o===C?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"==typeof o&&null!==o&&o.$$typeof===P&&bo(o)===t.type)?((r=i(t,n.props)).ref=vo(e,t,n),r.return=e,r):((r=Ru(n.type,n.key,n.props,null,e.mode,r)).ref=vo(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=Mu(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function p(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=Lu(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Ru(t.type,t.key,t.props,null,e.mode,n)).ref=vo(e,null,t),n.return=e,n;case w:return(t=Uu(t,e.mode,n)).return=e,t;case P:return p(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Mu(t,e.mode,n,null)).return=e,t;yo(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==i?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?u(e,t,n,r):null;case w:return n.key===i?c(e,t,n,r):null;case P:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||M(n))return null!==i?null:d(e,t,n,r,null);yo(e,n)}return null}function h(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case _:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return h(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||M(r))return d(t,e=e.get(n)||null,r,i,null);yo(t,r)}return null}function m(i,o,s,l){for(var u=null,c=null,d=o,m=o=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(i,d,s[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),o=a(v,o,m),null===c?u=v:c.sibling=v,c=v,d=g}if(m===s.length)return n(i,d),io&&Qi(i,m),u;if(null===d){for(;m<s.length;m++)null!==(d=p(i,s[m],l))&&(o=a(d,o,m),null===c?u=d:c.sibling=d,c=d);return io&&Qi(i,m),u}for(d=r(i,d);m<s.length;m++)null!==(g=h(d,i,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),o=a(g,o,m),null===c?u=g:c.sibling=g,c=g);return e&&d.forEach(function(e){return t(i,e)}),io&&Qi(i,m),u}function g(i,s,l,u){var c=M(l);if("function"!=typeof c)throw Error(o(150));if(null==(l=c.call(l)))throw Error(o(151));for(var d=c=null,m=s,g=s=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(i,m,y.value,u);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),s=a(b,s,g),null===d?c=b:d.sibling=b,d=b,m=v}if(y.done)return n(i,m),io&&Qi(i,g),c;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=p(i,y.value,u))&&(s=a(y,s,g),null===d?c=y:d.sibling=y,d=y);return io&&Qi(i,g),c}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=h(m,i,g,y.value,u))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),s=a(y,s,g),null===d?c=y:d.sibling=y,d=y);return e&&m.forEach(function(e){return t(i,e)}),io&&Qi(i,g),c}return function e(r,o,a,l){if("object"==typeof a&&null!==a&&a.type===C&&null===a.key&&(a=a.props.children),"object"==typeof a&&null!==a){switch(a.$$typeof){case _:e:{for(var u=a.key,c=o;null!==c;){if(c.key===u){if((u=a.type)===C){if(7===c.tag){n(r,c.sibling),(o=i(c,a.props.children)).return=r,r=o;break e}}else if(c.elementType===u||"object"==typeof u&&null!==u&&u.$$typeof===P&&bo(u)===c.type){n(r,c.sibling),(o=i(c,a.props)).ref=vo(r,c,a),o.return=r,r=o;break e}n(r,c);break}t(r,c),c=c.sibling}a.type===C?((o=Mu(a.props.children,r.mode,l,a.key)).return=r,r=o):((l=Ru(a.type,a.key,a.props,null,r.mode,l)).ref=vo(r,o,a),l.return=r,r=l)}return s(r);case w:e:{for(c=a.key;null!==o;){if(o.key===c){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Uu(a,r.mode,l)).return=r,r=o}return s(r);case P:return e(r,o,(c=a._init)(a._payload),l)}if(te(a))return m(r,o,a,l);if(M(a))return g(r,o,a,l);yo(r,a)}return"string"==typeof a&&""!==a||"number"==typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=Lu(a,r.mode,l)).return=r,r=o),s(r)):n(r,o)}}var _o=xo(!0),wo=xo(!1),Co=Si(null),So=null,Eo=null,To=null;function ko(){To=Eo=So=null}function Oo(e){var t=Co.current;Ei(Co),e._currentValue=t}function No(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ao(e,t){So=e,To=Eo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function Io(e){var t=e._currentValue;if(To!==e)if(e={context:e,memoizedValue:t,next:null},null===Eo){if(null===So)throw Error(o(308));Eo=e,So.dependencies={lanes:0,firstContext:e}}else Eo=Eo.next=e;return t}var Po=null;function jo(e){null===Po?Po=[e]:Po.push(e)}function Ro(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,jo(t)):(n.next=i.next,i.next=n),t.interleaved=n,Mo(e,r)}function Mo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Do=!1;function Lo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Uo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&Ol){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Mo(e,n)}return null===(i=r.interleaved)?(t.next=t,jo(r)):(t.next=i.next,i.next=t),r.interleaved=t,Mo(e,n)}function Vo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function qo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Bo(e,t,n,r){var i=e.updateQueue;Do=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,u=l.next;l.next=null,null===a?o=u:a.next=u,a=l;var c=e.alternate;null!==c&&(s=(c=c.updateQueue).lastBaseUpdate)!==a&&(null===s?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l)}if(null!==o){var d=i.baseState;for(a=0,c=u=l=null,s=o;;){var p=s.lane,f=s.eventTime;if((r&p)===p){null!==c&&(c=c.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var h=e,m=s;switch(p=t,f=n,m.tag){case 1:if("function"==typeof(h=m.payload)){d=h.call(f,d,p);break e}d=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null==(p="function"==typeof(h=m.payload)?h.call(f,d,p):h))break e;d=L({},d,p);break e;case 2:Do=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(p=i.effects)?i.effects=[s]:p.push(s))}else f={eventTime:f,lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(u=c=f,l=d):c=c.next=f,a|=p;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(p=s).next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}if(null===c&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Dl|=a,e.lanes=a,e.memoizedState=d}}function Go(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(o(191,i));i.call(r)}}}var Ho={},$o=Si(Ho),Zo=Si(Ho),Wo=Si(Ho);function Jo(e){if(e===Ho)throw Error(o(174));return e}function Ko(e,t){switch(Ti(Wo,t),Ti(Zo,e),Ti($o,Ho),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei($o),Ti($o,t)}function Yo(){Ei($o),Ei(Zo),Ei(Wo)}function Qo(e){Jo(Wo.current);var t=Jo($o.current),n=le(t,e.type);t!==n&&(Ti(Zo,e),Ti($o,n))}function Xo(e){Zo.current===e&&(Ei($o),Ei(Zo))}var ea=Si(0);function ta(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var na=[];function ra(){for(var e=0;e<na.length;e++)na[e]._workInProgressVersionPrimary=null;na.length=0}var ia=x.ReactCurrentDispatcher,oa=x.ReactCurrentBatchConfig,aa=0,sa=null,la=null,ua=null,ca=!1,da=!1,pa=0,fa=0;function ha(){throw Error(o(321))}function ma(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function ga(e,t,n,r,i,a){if(aa=a,sa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ia.current=null===e||null===e.memoizedState?Xa:es,e=n(r,i),da){a=0;do{if(da=!1,pa=0,25<=a)throw Error(o(301));a+=1,ua=la=null,t.updateQueue=null,ia.current=ts,e=n(r,i)}while(da)}if(ia.current=Qa,t=null!==la&&null!==la.next,aa=0,ua=la=sa=null,ca=!1,t)throw Error(o(300));return e}function va(){var e=0!==pa;return pa=0,e}function ya(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ua?sa.memoizedState=ua=e:ua=ua.next=e,ua}function ba(){if(null===la){var e=sa.alternate;e=null!==e?e.memoizedState:null}else e=la.next;var t=null===ua?sa.memoizedState:ua.next;if(null!==t)ua=t,la=e;else{if(null===e)throw Error(o(310));e={memoizedState:(la=e).memoizedState,baseState:la.baseState,baseQueue:la.baseQueue,queue:la.queue,next:null},null===ua?sa.memoizedState=ua=e:ua=ua.next=e}return ua}function xa(e,t){return"function"==typeof t?t(e):t}function _a(e){var t=ba(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=la,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=s=null,u=null,c=a;do{var d=c.lane;if((aa&d)===d)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var p={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=p,s=r):u=u.next=p,sa.lanes|=d,Dl|=d}c=c.next}while(null!==c&&c!==a);null===u?s=r:u.next=l,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,sa.lanes|=a,Dl|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function wa(e){var t=ba(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);sr(a,t.memoizedState)||(bs=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Ca(){}function Sa(e,t){var n=sa,r=ba(),i=t(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,bs=!0),r=r.queue,Da(ka.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ua&&1&ua.memoizedState.tag){if(n.flags|=2048,Ia(9,Ta.bind(null,n,r,i,t),void 0,null),null===Nl)throw Error(o(349));30&aa||Ea(n,t,i)}return i}function Ea(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ta(e,t,n,r){t.value=n,t.getSnapshot=r,Oa(t)&&Na(e)}function ka(e,t,n){return n(function(){Oa(t)&&Na(e)})}function Oa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(e){return!0}}function Na(e){var t=Mo(e,1);null!==t&&nu(t,e,1,-1)}function Aa(e){var t=ya();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xa,lastRenderedState:e},t.queue=e,e=e.dispatch=Wa.bind(null,sa,e),[t.memoizedState,e]}function Ia(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Pa(){return ba().memoizedState}function ja(e,t,n,r){var i=ya();sa.flags|=e,i.memoizedState=Ia(1|t,n,void 0,void 0===r?null:r)}function Ra(e,t,n,r){var i=ba();r=void 0===r?null:r;var o=void 0;if(null!==la){var a=la.memoizedState;if(o=a.destroy,null!==r&&ma(r,a.deps))return void(i.memoizedState=Ia(t,n,o,r))}sa.flags|=e,i.memoizedState=Ia(1|t,n,o,r)}function Ma(e,t){return ja(8390656,8,e,t)}function Da(e,t){return Ra(2048,8,e,t)}function La(e,t){return Ra(4,2,e,t)}function Ua(e,t){return Ra(4,4,e,t)}function Fa(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function za(e,t,n){return n=null!=n?n.concat([e]):null,Ra(4,4,Fa.bind(null,t,e),n)}function Va(){}function qa(e,t){var n=ba();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ma(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ba(e,t){var n=ba();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ma(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ga(e,t,n){return 21&aa?(sr(n,t)||(n=mt(),sa.lanes|=n,Dl|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n)}function Ha(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=oa.transition;oa.transition={};try{e(!1),t()}finally{bt=n,oa.transition=r}}function $a(){return ba().memoizedState}function Za(e,t,n){var r=tu(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ja(e)?Ka(t,n):null!==(n=Ro(e,t,n,r))&&(nu(n,e,r,eu()),Ya(n,t,r))}function Wa(e,t,n){var r=tu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ja(e))Ka(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a)){var l=t.interleaved;return null===l?(i.next=i,jo(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(e){}null!==(n=Ro(e,t,i,r))&&(nu(n,e,r,i=eu()),Ya(n,t,r))}}function Ja(e){var t=e.alternate;return e===sa||null!==t&&t===sa}function Ka(e,t){da=ca=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ya(e,t,n){if(4194240&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Qa={readContext:Io,useCallback:ha,useContext:ha,useEffect:ha,useImperativeHandle:ha,useInsertionEffect:ha,useLayoutEffect:ha,useMemo:ha,useReducer:ha,useRef:ha,useState:ha,useDebugValue:ha,useDeferredValue:ha,useTransition:ha,useMutableSource:ha,useSyncExternalStore:ha,useId:ha,unstable_isNewReconciler:!1},Xa={readContext:Io,useCallback:function(e,t){return ya().memoizedState=[e,void 0===t?null:t],e},useContext:Io,useEffect:Ma,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,ja(4194308,4,Fa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ja(4194308,4,e,t)},useInsertionEffect:function(e,t){return ja(4,2,e,t)},useMemo:function(e,t){var n=ya();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ya();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Za.bind(null,sa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ya().memoizedState=e},useState:Aa,useDebugValue:Va,useDeferredValue:function(e){return ya().memoizedState=e},useTransition:function(){var e=Aa(!1),t=e[0];return e=Ha.bind(null,e[1]),ya().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=sa,i=ya();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Nl)throw Error(o(349));30&aa||Ea(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Ma(ka.bind(null,r,a,e),[e]),r.flags|=2048,Ia(9,Ta.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=ya(),t=Nl.identifierPrefix;if(io){var n=Yi;t=":"+t+"R"+(n=(Ki&~(1<<32-at(Ki)-1)).toString(32)+n),0<(n=pa++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:Io,useCallback:qa,useContext:Io,useEffect:Da,useImperativeHandle:za,useInsertionEffect:La,useLayoutEffect:Ua,useMemo:Ba,useReducer:_a,useRef:Pa,useState:function(){return _a(xa)},useDebugValue:Va,useDeferredValue:function(e){return Ga(ba(),la.memoizedState,e)},useTransition:function(){return[_a(xa)[0],ba().memoizedState]},useMutableSource:Ca,useSyncExternalStore:Sa,useId:$a,unstable_isNewReconciler:!1},ts={readContext:Io,useCallback:qa,useContext:Io,useEffect:Da,useImperativeHandle:za,useInsertionEffect:La,useLayoutEffect:Ua,useMemo:Ba,useReducer:wa,useRef:Pa,useState:function(){return wa(xa)},useDebugValue:Va,useDeferredValue:function(e){var t=ba();return null===la?t.memoizedState=e:Ga(t,la.memoizedState,e)},useTransition:function(){return[wa(xa)[0],ba().memoizedState]},useMutableSource:Ca,useSyncExternalStore:Sa,useId:$a,unstable_isNewReconciler:!1};function ns(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function rs(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var is={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),o=Fo(r,i);o.payload=t,null!=n&&(o.callback=n),null!==(t=zo(e,o,i))&&(nu(t,e,i,r),Vo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),o=Fo(r,i);o.tag=1,o.payload=t,null!=n&&(o.callback=n),null!==(t=zo(e,o,i))&&(nu(t,e,i,r),Vo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=eu(),r=tu(e),i=Fo(n,r);i.tag=2,null!=t&&(i.callback=t),null!==(t=zo(e,i,r))&&(nu(t,e,r,n),Vo(t,e,r))}};function os(e,t,n,r,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!(t.prototype&&t.prototype.isPureReactComponent&&lr(n,r)&&lr(i,o))}function as(e,t,n){var r=!1,i=ki,o=t.contextType;return"object"==typeof o&&null!==o?o=Io(o):(i=Pi(t)?Ai:Oi.current,o=(r=null!=(r=t.contextTypes))?Ii(e,i):ki),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=is,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function ss(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&is.enqueueReplaceState(t,t.state,null)}function ls(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Lo(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=Io(o):(o=Pi(t)?Ai:Oi.current,i.context=Ii(e,o)),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(rs(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&is.enqueueReplaceState(i,i.state,null),Bo(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4194308)}function us(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i,digest:null}}function cs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(e){setTimeout(function(){throw e})}}var ps="function"==typeof WeakMap?WeakMap:Map;function fs(e,t,n){(n=Fo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Gl||(Gl=!0,Hl=r),ds(0,t)},n}function hs(e,t,n){(n=Fo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ds(0,t)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){ds(0,t),"function"!=typeof r&&(null===$l?$l=new Set([this]):$l.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ps;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Eu.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function vs(e,t,n,r,i){return 1&e.mode?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fo(-1,1)).tag=2,zo(n,t,1))),n.lanes|=1),e)}var ys=x.ReactCurrentOwner,bs=!1;function xs(e,t,n,r){t.child=null===e?wo(t,null,n,r):_o(t,e.child,n,r)}function _s(e,t,n,r,i){n=n.render;var o=t.ref;return Ao(t,i),r=ga(e,t,n,r,o,i),n=va(),null===e||bs?(io&&n&&eo(t),t.flags|=1,xs(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gs(e,t,i))}function ws(e,t,n,r,i){if(null===e){var o=n.type;return"function"!=typeof o||Pu(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ru(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Cs(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return Gs(e,t,i)}return t.flags|=1,(e=ju(o,r)).ref=t.ref,e.return=t,t.child=e}function Cs(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(lr(o,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Gs(e,t,i);131072&e.flags&&(bs=!0)}}return Ts(e,t,n,r,i)}function Ss(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(1&t.mode){if(!(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ti(jl,Pl),Pl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ti(jl,Pl),Pl|=r}else t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ti(jl,Pl),Pl|=n;else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ti(jl,Pl),Pl|=r;return xs(e,t,i,n),t.child}function Es(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ts(e,t,n,r,i){var o=Pi(n)?Ai:Oi.current;return o=Ii(t,o),Ao(t,i),n=ga(e,t,n,r,o,i),r=va(),null===e||bs?(io&&r&&eo(t),t.flags|=1,xs(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gs(e,t,i))}function ks(e,t,n,r,i){if(Pi(n)){var o=!0;Di(t)}else o=!1;if(Ao(t,i),null===t.stateNode)Bs(e,t),as(t,n,r),ls(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=n.contextType;u="object"==typeof u&&null!==u?Io(u):Ii(t,u=Pi(n)?Ai:Oi.current);var c=n.getDerivedStateFromProps,d="function"==typeof c||"function"==typeof a.getSnapshotBeforeUpdate;d||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||l!==u)&&ss(t,a,r,u),Do=!1;var p=t.memoizedState;a.state=p,Bo(t,r,a,i),l=t.memoizedState,s!==r||p!==l||Ni.current||Do?("function"==typeof c&&(rs(t,n,c,r),l=t.memoizedState),(s=Do||os(t,n,s,r,p,l,u))?(d||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4194308)):("function"==typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):("function"==typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Uo(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:ns(t.type,s),a.props=u,d=t.pendingProps,p=a.context,l="object"==typeof(l=n.contextType)&&null!==l?Io(l):Ii(t,l=Pi(n)?Ai:Oi.current);var f=n.getDerivedStateFromProps;(c="function"==typeof f||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==d||p!==l)&&ss(t,a,r,l),Do=!1,p=t.memoizedState,a.state=p,Bo(t,r,a,i);var h=t.memoizedState;s!==d||p!==h||Ni.current||Do?("function"==typeof f&&(rs(t,n,f,r),h=t.memoizedState),(u=Do||os(t,n,u,r,p,h,l)||!1)?(c||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,h,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,h,l)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),a.props=r,a.state=h,a.context=l,r=u):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return Os(e,t,n,r,o,i)}function Os(e,t,n,r,i,o){Es(e,t);var a=!!(128&t.flags);if(!r&&!a)return i&&Li(t,n,!1),Gs(e,t,o);r=t.stateNode,ys.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=_o(t,e.child,null,o),t.child=_o(t,null,s,o)):xs(e,t,s,o),t.memoizedState=r.state,i&&Li(t,n,!0),t.child}function Ns(e){var t=e.stateNode;t.pendingContext?Ri(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ri(0,t.context,!1),Ko(e,t.containerInfo)}function As(e,t,n,r,i){return ho(),mo(i),t.flags|=256,xs(e,t,n,r),t.child}var Is,Ps,js,Rs,Ms={dehydrated:null,treeContext:null,retryLane:0};function Ds(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ls(e,t,n){var r,i=t.pendingProps,a=ea.current,s=!1,l=!!(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&!!(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ti(ea,1&a),null===e)return uo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(1&t.mode?"$!"===e.data?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=i.children,e=i.fallback,s?(i=t.mode,s=t.child,l={mode:"hidden",children:l},1&i||null===s?s=Du(l,i,0,null):(s.childLanes=0,s.pendingProps=l),e=Mu(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ds(n),t.memoizedState=Ms,e):Us(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,s){if(n)return 256&t.flags?(t.flags&=-257,Fs(e,t,s,r=cs(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Du({mode:"visible",children:r.children},i,0,null),(a=Mu(a,i,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,1&t.mode&&_o(t,e.child,null,s),t.child.memoizedState=Ds(s),t.memoizedState=Ms,a);if(!(1&t.mode))return Fs(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Fs(e,t,s,r=cs(a=Error(o(419)),r,void 0))}if(l=0!==(s&e.childLanes),bs||l){if(null!==(r=Nl)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Mo(e,i),nu(r,e,i,-1))}return mu(),Fs(e,t,s,r=cs(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=ku.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ro=ui(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Zi[Wi++]=Ki,Zi[Wi++]=Yi,Zi[Wi++]=Ji,Ki=e.id,Yi=e.overflow,Ji=t),(t=Us(t,r.children)).flags|=4096,t)}(e,t,l,i,r,a,n);if(s){s=i.fallback,l=t.mode,r=(a=e.child).sibling;var u={mode:"hidden",children:i.children};return 1&l||t.child===a?(i=ju(a,u)).subtreeFlags=14680064&a.subtreeFlags:((i=t.child).childLanes=0,i.pendingProps=u,t.deletions=null),null!==r?s=ju(r,s):(s=Mu(s,l,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,l=null===(l=e.child.memoizedState)?Ds(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Ms,i}return e=(s=e.child).sibling,i=ju(s,{mode:"visible",children:i.children}),!(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Us(e,t){return(t=Du({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fs(e,t,n,r){return null!==r&&mo(r),_o(t,e.child,null,n),(e=Us(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),No(e.return,t,n)}function Vs(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function qs(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(xs(e,t,r.children,n),2&(r=ea.current))r=1&r|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zs(e,n,t);else if(19===e.tag)zs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ti(ea,r),1&t.mode)switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ta(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Vs(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ta(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Vs(t,!0,n,null,o);break;case"together":Vs(t,!1,null,null,void 0);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function Bs(e,t){!(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Dl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=ju(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=ju(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Hs(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function $s(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Zs(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $s(t),null;case 1:case 17:return Pi(t.type)&&ji(),$s(t),null;case 3:return r=t.stateNode,Yo(),Ei(Ni),Ei(Oi),ra(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(po(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,null!==oo&&(au(oo),oo=null))),Ps(e,t),$s(t),null;case 5:Xo(t);var i=Jo(Wo.current);if(n=t.type,null!==e&&null!=t.stateNode)js(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return $s(t),null}if(e=Jo($o.current),po(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[pi]=t,r[fi]=a,e=!!(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(i=0;i<Mr.length;i++)Fr(Mr[i],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":K(r,a),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Fr("invalid",r);break;case"textarea":ie(r,a),Fr("invalid",r)}for(var l in ye(n,a),i=null,a)if(a.hasOwnProperty(l)){var u=a[l];"children"===l?"string"==typeof u?r.textContent!==u&&(!0!==a.suppressHydrationWarning&&Qr(r.textContent,u,e),i=["children",u]):"number"==typeof u&&r.textContent!==""+u&&(!0!==a.suppressHydrationWarning&&Qr(r.textContent,u,e),i=["children",""+u]):s.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Fr("scroll",r)}switch(n){case"input":$(r),X(r,a,!0);break;case"textarea":$(r),ae(r);break;case"select":case"option":break;default:"function"==typeof a.onClick&&(r.onclick=Xr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[pi]=t,e[fi]=r,Is(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),i=r;break;case"iframe":case"object":case"embed":Fr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mr.length;i++)Fr(Mr[i],e);i=r;break;case"source":Fr("error",e),i=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),i=r;break;case"details":Fr("toggle",e),i=r;break;case"input":K(e,r),i=J(e,r),Fr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=L({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Fr("invalid",e)}for(a in ye(n,i),u=i)if(u.hasOwnProperty(a)){var c=u[a];"style"===a?ge(e,c):"dangerouslySetInnerHTML"===a?null!=(c=c?c.__html:void 0)&&de(e,c):"children"===a?"string"==typeof c?("textarea"!==n||""!==c)&&pe(e,c):"number"==typeof c&&pe(e,""+c):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=c&&"onScroll"===a&&Fr("scroll",e):null!=c&&b(e,a,c,l))}switch(n){case"input":$(e),X(e,r,!1);break;case"textarea":$(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+G(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof i.onClick&&(e.onclick=Xr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return $s(t),null;case 6:if(e&&null!=t.stateNode)Rs(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(o(166));if(n=Jo(Wo.current),Jo($o.current),po(t)){if(r=t.stateNode,n=t.memoizedProps,r[pi]=t,(a=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Qr(r.nodeValue,n,!!(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Qr(r.nodeValue,n,!!(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[pi]=t,t.stateNode=r}return $s(t),null;case 13:if(Ei(ea),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&1&t.mode&&!(128&t.flags))fo(),ho(),t.flags|=98560,a=!1;else if(a=po(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[pi]=t}else ho(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;$s(t),a=!1}else null!==oo&&(au(oo),oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 128&t.flags?(t.lanes=n,t):((r=null!==r)!=(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,1&t.mode&&(null===e||1&ea.current?0===Rl&&(Rl=3):mu())),null!==t.updateQueue&&(t.flags|=4),$s(t),null);case 4:return Yo(),Ps(e,t),null===e&&qr(t.stateNode.containerInfo),$s(t),null;case 10:return Oo(t.type._context),$s(t),null;case 19:if(Ei(ea),null===(a=t.memoizedState))return $s(t),null;if(r=!!(128&t.flags),null===(l=a.rendering))if(r)Hs(a,!1);else{if(0!==Rl||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(l=ta(e))){for(t.flags|=128,Hs(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ti(ea,1&ea.current|2),t.child}e=e.sibling}null!==a.tail&&Ye()>ql&&(t.flags|=128,r=!0,Hs(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ta(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Hs(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!io)return $s(t),null}else 2*Ye()-a.renderingStartTime>ql&&1073741824!==n&&(t.flags|=128,r=!0,Hs(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ye(),t.sibling=null,n=ea.current,Ti(ea,r?1&n|2:1&n),t):($s(t),null);case 22:case 23:return du(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&1&t.mode?!!(1073741824&Pl)&&($s(t),6&t.subtreeFlags&&(t.flags|=8192)):$s(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Ws(e,t){switch(to(t),t.tag){case 1:return Pi(t.type)&&ji(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Yo(),Ei(Ni),Ei(Oi),ra(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Xo(t),null;case 13:if(Ei(ea),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));ho()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(ea),null;case 4:return Yo(),null;case 10:return Oo(t.type._context),null;case 22:case 23:return du(),null;default:return null}}Is=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ps=function(){},js=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Jo($o.current);var o,a=null;switch(n){case"input":i=J(e,i),r=J(e,r),a=[];break;case"select":i=L({},i,{value:void 0}),r=L({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!=typeof i.onClick&&"function"==typeof r.onClick&&(e.onclick=Xr)}for(c in ye(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var l=i[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(a||(a=[]),a.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(a=a||[]).push(c,u)):"children"===c?"string"!=typeof u&&"number"!=typeof u||(a=a||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Fr("scroll",e),a||l===u||(a=[])):(a=a||[]).push(c,u))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}},Rs=function(e,t,n,r){n!==r&&(t.flags|=4)};var Js=!1,Ks=!1,Ys="function"==typeof WeakSet?WeakSet:Set,Qs=null;function Xs(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(n){Su(e,t,n)}else n.current=null}function el(e,t,n){try{n()}catch(n){Su(e,t,n)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&el(t,n,o)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&null!==(t=e.stateNode)&&(delete t[pi],delete t[fi],delete t[mi],delete t[gi],delete t[vi]),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Xr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var cl=null,dl=!1;function pl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(ot&&"function"==typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(e){}switch(n.tag){case 5:Ks||Xs(n,t);case 6:var r=cl,i=dl;cl=null,pl(e,t,n),dl=i,null!==(cl=r)&&(dl?(e=cl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cl.removeChild(n.stateNode));break;case 18:null!==cl&&(dl?(e=cl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),qt(e)):li(cl,n.stateNode));break;case 4:r=cl,i=dl,cl=n.stateNode.containerInfo,dl=!0,pl(e,t,n),cl=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Ks&&null!==(r=n.updateQueue)&&null!==(r=r.lastEffect)){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(2&o||4&o)&&el(n,t,a),i=i.next}while(i!==r)}pl(e,t,n);break;case 1:if(!Ks&&(Xs(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(e){Su(n,t,e)}pl(e,t,n);break;case 21:pl(e,t,n);break;case 22:1&n.mode?(Ks=(r=Ks)||null!==n.memoizedState,pl(e,t,n),Ks=r):pl(e,t,n);break;default:pl(e,t,n)}}function hl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ys),t.forEach(function(t){var r=Ou.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,dl=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===cl)throw Error(o(160));fl(a,s,i),cl=null,dl=!1;var u=i.alternate;null!==u&&(u.return=null),i.return=null}catch(e){Su(i,t,e)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),vl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(t){Su(e,e.return,t)}try{nl(5,e,e.return)}catch(t){Su(e,e.return,t)}}break;case 1:ml(t,e),vl(e),512&r&&null!==n&&Xs(n,n.return);break;case 5:if(ml(t,e),vl(e),512&r&&null!==n&&Xs(n,n.return),32&e.flags){var i=e.stateNode;try{pe(i,"")}catch(t){Su(e,e.return,t)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===a.type&&null!=a.name&&Y(i,a),be(l,s);var c=be(l,a);for(s=0;s<u.length;s+=2){var d=u[s],p=u[s+1];"style"===d?ge(i,p):"dangerouslySetInnerHTML"===d?de(i,p):"children"===d?pe(i,p):b(i,d,p,c)}switch(l){case"input":Q(i,a);break;case"textarea":oe(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var h=a.value;null!=h?ne(i,!!a.multiple,h,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[fi]=a}catch(t){Su(e,e.return,t)}}break;case 6:if(ml(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(t){Su(e,e.return,t)}}break;case 3:if(ml(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{qt(t.containerInfo)}catch(t){Su(e,e.return,t)}break;case 4:default:ml(t,e),vl(e);break;case 13:ml(t,e),vl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Vl=Ye())),4&r&&hl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Ks=(c=Ks)||d,ml(t,e),Ks=c):ml(t,e),vl(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&1&e.mode)for(Qs=e,d=e.child;null!==d;){for(p=Qs=d;null!==Qs;){switch(h=(f=Qs).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Xs(f,f.return);var m=f.stateNode;if("function"==typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(e){Su(r,n,e)}}break;case 5:Xs(f,f.return);break;case 22:if(null!==f.memoizedState){_l(p);continue}}null!==h?(h.return=f,Qs=h):_l(p)}d=d.sibling}e:for(d=null,p=e;;){if(5===p.tag){if(null===d){d=p;try{i=p.stateNode,c?"function"==typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=p.stateNode,s=null!=(u=p.memoizedProps.style)&&u.hasOwnProperty("display")?u.display:null,l.style.display=me("display",s))}catch(t){Su(e,e.return,t)}}}else if(6===p.tag){if(null===d)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(t){Su(e,e.return,t)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===e)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;null===p.sibling;){if(null===p.return||p.return===e)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:ml(t,e),vl(e),4&r&&hl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(pe(i,""),r.flags&=-33),ul(e,sl(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;ll(e,sl(e),a);break;default:throw Error(o(161))}}catch(t){Su(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Qs=e,bl(e,t,n)}function bl(e,t,n){for(var r=!!(1&e.mode);null!==Qs;){var i=Qs,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Js;if(!a){var s=i.alternate,l=null!==s&&null!==s.memoizedState||Ks;s=Js;var u=Ks;if(Js=a,(Ks=l)&&!u)for(Qs=i;null!==Qs;)l=(a=Qs).child,22===a.tag&&null!==a.memoizedState?wl(i):null!==l?(l.return=a,Qs=l):wl(i);for(;null!==o;)Qs=o,bl(o,t,n),o=o.sibling;Qs=i,Js=s,Ks=u}xl(e)}else 8772&i.subtreeFlags&&null!==o?(o.return=i,Qs=o):xl(e)}}function xl(e){for(;null!==Qs;){var t=Qs;if(8772&t.flags){var n=t.alternate;try{if(8772&t.flags)switch(t.tag){case 0:case 11:case 15:Ks||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ks)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ns(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Go(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Go(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var p=d.dehydrated;null!==p&&qt(p)}}}break;default:throw Error(o(163))}Ks||512&t.flags&&il(t)}catch(e){Su(t,t.return,e)}}if(t===e){Qs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Qs=n;break}Qs=t.return}}function _l(e){for(;null!==Qs;){var t=Qs;if(t===e){Qs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Qs=n;break}Qs=t.return}}function wl(e){for(;null!==Qs;){var t=Qs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(e){Su(t,n,e)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(e){Su(t,i,e)}}var o=t.return;try{il(t)}catch(e){Su(t,o,e)}break;case 5:var a=t.return;try{il(t)}catch(e){Su(t,a,e)}}}catch(e){Su(t,t.return,e)}if(t===e){Qs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Qs=s;break}Qs=t.return}}var Cl,Sl=Math.ceil,El=x.ReactCurrentDispatcher,Tl=x.ReactCurrentOwner,kl=x.ReactCurrentBatchConfig,Ol=0,Nl=null,Al=null,Il=0,Pl=0,jl=Si(0),Rl=0,Ml=null,Dl=0,Ll=0,Ul=0,Fl=null,zl=null,Vl=0,ql=1/0,Bl=null,Gl=!1,Hl=null,$l=null,Zl=!1,Wl=null,Jl=0,Kl=0,Yl=null,Ql=-1,Xl=0;function eu(){return 6&Ol?Ye():-1!==Ql?Ql:Ql=Ye()}function tu(e){return 1&e.mode?2&Ol&&0!==Il?Il&-Il:null!==go.transition?(0===Xl&&(Xl=mt()),Xl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Kt(e.type):1}function nu(e,t,n,r){if(50<Kl)throw Kl=0,Yl=null,Error(o(185));vt(e,n,r),2&Ol&&e===Nl||(e===Nl&&(!(2&Ol)&&(Ll|=n),4===Rl&&su(e,Il)),ru(e,r),1===n&&0===Ol&&!(1&t.mode)&&(ql=Ye()+500,Fi&&qi()))}function ru(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,l=i[a];-1===l?0!==(s&n)&&0===(s&r)||(i[a]=ft(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=pt(e,e===Nl?Il:0);if(0===r)null!==n&&We(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&We(n),1===t)0===e.tag?function(e){Fi=!0,Vi(e)}(lu.bind(null,e)):Vi(lu.bind(null,e)),ai(function(){!(6&Ol)&&qi()}),n=null;else{switch(xt(r)){case 1:n=Xe;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nu(n,iu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function iu(e,t){if(Ql=-1,Xl=0,6&Ol)throw Error(o(327));var n=e.callbackNode;if(wu()&&e.callbackNode!==n)return null;var r=pt(e,e===Nl?Il:0);if(0===r)return null;if(30&r||0!==(r&e.expiredLanes)||t)t=gu(e,r);else{t=r;var i=Ol;Ol|=2;var a=hu();for(Nl===e&&Il===t||(Bl=null,ql=Ye()+500,pu(e,t));;)try{yu();break}catch(t){fu(e,t)}ko(),El.current=a,Ol=i,null!==Al?t=0:(Nl=null,Il=0,t=Rl)}if(0!==t){if(2===t&&0!==(i=ht(e))&&(r=i,t=ou(e,i)),1===t)throw n=Ml,pu(e,0),su(e,r),ru(e,Ye()),n;if(6===t)su(e,r);else{if(i=e.current.alternate,!(30&r||function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(e){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)||(t=gu(e,r),2===t&&(a=ht(e),0!==a&&(r=a,t=ou(e,a))),1!==t)))throw n=Ml,pu(e,0),su(e,r),ru(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:_u(e,zl,Bl);break;case 3:if(su(e,r),(130023424&r)===r&&10<(t=Vl+500-Ye())){if(0!==pt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){eu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(_u.bind(null,e,zl,Bl),t);break}_u(e,zl,Bl);break;case 4:if(su(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Sl(r/1960))-r)){e.timeoutHandle=ri(_u.bind(null,e,zl,Bl),r);break}_u(e,zl,Bl);break;default:throw Error(o(329))}}}return ru(e,Ye()),e.callbackNode===n?iu.bind(null,e):null}function ou(e,t){var n=Fl;return e.current.memoizedState.isDehydrated&&(pu(e,t).flags|=256),2!==(e=gu(e,t))&&(t=zl,zl=n,null!==t&&au(t)),e}function au(e){null===zl?zl=e:zl.push.apply(zl,e)}function su(e,t){for(t&=~Ul,t&=~Ll,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function lu(e){if(6&Ol)throw Error(o(327));wu();var t=pt(e,0);if(!(1&t))return ru(e,Ye()),null;var n=gu(e,t);if(0!==e.tag&&2===n){var r=ht(e);0!==r&&(t=r,n=ou(e,r))}if(1===n)throw n=Ml,pu(e,0),su(e,t),ru(e,Ye()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_u(e,zl,Bl),ru(e,Ye()),null}function uu(e,t){var n=Ol;Ol|=1;try{return e(t)}finally{0===(Ol=n)&&(ql=Ye()+500,Fi&&qi())}}function cu(e){null!==Wl&&0===Wl.tag&&!(6&Ol)&&wu();var t=Ol;Ol|=1;var n=kl.transition,r=bt;try{if(kl.transition=null,bt=1,e)return e()}finally{bt=r,kl.transition=n,!(6&(Ol=t))&&qi()}}function du(){Pl=jl.current,Ei(jl)}function pu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Al)for(n=Al.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&ji();break;case 3:Yo(),Ei(Ni),Ei(Oi),ra();break;case 5:Xo(r);break;case 4:Yo();break;case 13:case 19:Ei(ea);break;case 10:Oo(r.type._context);break;case 22:case 23:du()}n=n.return}if(Nl=e,Al=e=ju(e.current,null),Il=Pl=t,Rl=0,Ml=null,Ul=Ll=Dl=0,zl=Fl=null,null!==Po){for(t=0;t<Po.length;t++)if(null!==(r=(n=Po[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}Po=null}return e}function fu(e,t){for(;;){var n=Al;try{if(ko(),ia.current=Qa,ca){for(var r=sa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ca=!1}if(aa=0,ua=la=sa=null,da=!1,pa=0,Tl.current=null,null===n||null===n.return){Rl=1,Ml=t,Al=null;break}e:{var a=e,s=n.return,l=n,u=t;if(t=Il,l.flags|=32768,null!==u&&"object"==typeof u&&"function"==typeof u.then){var c=u,d=l,p=d.tag;if(!(1&d.mode||0!==p&&11!==p&&15!==p)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=gs(s);if(null!==h){h.flags&=-257,vs(h,s,l,0,t),1&h.mode&&ms(a,c,t),u=c;var m=(t=h).updateQueue;if(null===m){var g=new Set;g.add(u),t.updateQueue=g}else m.add(u);break e}if(!(1&t)){ms(a,c,t),mu();break e}u=Error(o(426))}else if(io&&1&l.mode){var v=gs(s);if(null!==v){!(65536&v.flags)&&(v.flags|=256),vs(v,s,l,0,t),mo(us(u,l));break e}}a=u=us(u,l),4!==Rl&&(Rl=2),null===Fl?Fl=[a]:Fl.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,qo(a,fs(0,u,t));break e;case 1:l=u;var y=a.type,b=a.stateNode;if(!(128&a.flags||"function"!=typeof y.getDerivedStateFromError&&(null===b||"function"!=typeof b.componentDidCatch||null!==$l&&$l.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,qo(a,hs(a,l,t));break e}}a=a.return}while(null!==a)}xu(n)}catch(e){t=e,Al===n&&null!==n&&(Al=n=n.return);continue}break}}function hu(){var e=El.current;return El.current=Qa,null===e?Qa:e}function mu(){0!==Rl&&3!==Rl&&2!==Rl||(Rl=4),null===Nl||!(268435455&Dl)&&!(268435455&Ll)||su(Nl,Il)}function gu(e,t){var n=Ol;Ol|=2;var r=hu();for(Nl===e&&Il===t||(Bl=null,pu(e,t));;)try{vu();break}catch(t){fu(e,t)}if(ko(),Ol=n,El.current=r,null!==Al)throw Error(o(261));return Nl=null,Il=0,Rl}function vu(){for(;null!==Al;)bu(Al)}function yu(){for(;null!==Al&&!Je();)bu(Al)}function bu(e){var t=Cl(e.alternate,e,Pl);e.memoizedProps=e.pendingProps,null===t?xu(e):Al=t,Tl.current=null}function xu(e){var t=e;do{var n=t.alternate;if(e=t.return,32768&t.flags){if(null!==(n=Ws(n,t)))return n.flags&=32767,void(Al=n);if(null===e)return Rl=6,void(Al=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}else if(null!==(n=Zs(n,t,Pl)))return void(Al=n);if(null!==(t=t.sibling))return void(Al=t);Al=t=e}while(null!==t);0===Rl&&(Rl=5)}function _u(e,t,n){var r=bt,i=kl.transition;try{kl.transition=null,bt=1,function(e,t,n,r){do{wu()}while(null!==Wl);if(6&Ol)throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===Nl&&(Al=Nl=null,Il=0),!(2064&n.subtreeFlags)&&!(2064&n.flags)||Zl||(Zl=!0,Nu(tt,function(){return wu(),null})),a=!!(15990&n.flags),15990&n.subtreeFlags||a){a=kl.transition,kl.transition=null;var s=bt;bt=1;var l=Ol;Ol|=4,Tl.current=null,function(e,t){if(ei=Gt,fr(e=pr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(e){n=null;break e}var s=0,l=-1,u=-1,c=0,d=0,p=e,f=null;t:for(;;){for(var h;p!==n||0!==i&&3!==p.nodeType||(l=s+i),p!==a||0!==r&&3!==p.nodeType||(u=s+r),3===p.nodeType&&(s+=p.nodeValue.length),null!==(h=p.firstChild);)f=p,p=h;for(;;){if(p===e)break t;if(f===n&&++c===i&&(l=s),f===a&&++d===r&&(u=s),null!==(h=p.nextSibling))break;f=(p=f).parentNode}p=h}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Gt=!1,Qs=t;null!==Qs;)if(e=(t=Qs).child,1028&t.subtreeFlags&&null!==e)e.return=t,Qs=e;else for(;null!==Qs;){t=Qs;try{var m=t.alternate;if(1024&t.flags)switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:ns(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(o(163))}}catch(e){Su(t,t.return,e)}if(null!==(e=t.sibling)){e.return=t.return,Qs=e;break}Qs=t.return}m=tl,tl=!1}(e,n),gl(n,e),hr(ti),Gt=!!ei,ti=ei=null,e.current=n,yl(n,e,i),Ke(),Ol=l,bt=s,kl.transition=a}else e.current=n;if(Zl&&(Zl=!1,Wl=e,Jl=i),0===(a=e.pendingLanes)&&($l=null),function(e){if(ot&&"function"==typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,!(128&~e.current.flags))}catch(e){}}(n.stateNode),ru(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Gl)throw Gl=!1,e=Hl,Hl=null,e;!!(1&Jl)&&0!==e.tag&&wu(),1&(a=e.pendingLanes)?e===Yl?Kl++:(Kl=0,Yl=e):Kl=0,qi()}(e,t,n,r)}finally{kl.transition=i,bt=r}return null}function wu(){if(null!==Wl){var e=xt(Jl),t=kl.transition,n=bt;try{if(kl.transition=null,bt=16>e?16:e,null===Wl)var r=!1;else{if(e=Wl,Wl=null,Jl=0,6&Ol)throw Error(o(331));var i=Ol;for(Ol|=4,Qs=e.current;null!==Qs;){var a=Qs,s=a.child;if(16&Qs.flags){var l=a.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Qs=c;null!==Qs;){var d=Qs;switch(d.tag){case 0:case 11:case 15:nl(8,d,a)}var p=d.child;if(null!==p)p.return=d,Qs=p;else for(;null!==Qs;){var f=(d=Qs).sibling,h=d.return;if(ol(d),d===c){Qs=null;break}if(null!==f){f.return=h,Qs=f;break}Qs=h}}}var m=a.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Qs=a}}if(2064&a.subtreeFlags&&null!==s)s.return=a,Qs=s;else e:for(;null!==Qs;){if(2048&(a=Qs).flags)switch(a.tag){case 0:case 11:case 15:nl(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Qs=y;break e}Qs=a.return}}var b=e.current;for(Qs=b;null!==Qs;){var x=(s=Qs).child;if(2064&s.subtreeFlags&&null!==x)x.return=s,Qs=x;else e:for(s=b;null!==Qs;){if(2048&(l=Qs).flags)try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(e){Su(l,l.return,e)}if(l===s){Qs=null;break e}var _=l.sibling;if(null!==_){_.return=l.return,Qs=_;break e}Qs=l.return}}if(Ol=i,qi(),ot&&"function"==typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(e){}r=!0}return r}finally{bt=n,kl.transition=t}}return!1}function Cu(e,t,n){e=zo(e,t=fs(0,t=us(n,t),1),1),t=eu(),null!==e&&(vt(e,1,t),ru(e,t))}function Su(e,t,n){if(3===e.tag)Cu(e,e,n);else for(;null!==t;){if(3===t.tag){Cu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===$l||!$l.has(r))){t=zo(t,e=hs(t,e=us(n,e),1),1),e=eu(),null!==t&&(vt(t,1,e),ru(t,e));break}}t=t.return}}function Eu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=eu(),e.pingedLanes|=e.suspendedLanes&n,Nl===e&&(Il&n)===n&&(4===Rl||3===Rl&&(130023424&Il)===Il&&500>Ye()-Vl?pu(e,0):Ul|=n),ru(e,t)}function Tu(e,t){0===t&&(1&e.mode?(t=ct,!(130023424&(ct<<=1))&&(ct=4194304)):t=1);var n=eu();null!==(e=Mo(e,t))&&(vt(e,t,n),ru(e,n))}function ku(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tu(e,n)}function Ou(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Tu(e,n)}function Nu(e,t){return Ze(e,t)}function Au(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Iu(e,t,n,r){return new Au(e,t,n,r)}function Pu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function ju(e,t){var n=e.alternate;return null===n?((n=Iu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ru(e,t,n,r,i,a){var s=2;if(r=e,"function"==typeof e)Pu(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case C:return Mu(n.children,i,a,t);case S:s=8,i|=8;break;case E:return(e=Iu(12,n,t,2|i)).elementType=E,e.lanes=a,e;case N:return(e=Iu(13,n,t,i)).elementType=N,e.lanes=a,e;case A:return(e=Iu(19,n,t,i)).elementType=A,e.lanes=a,e;case j:return Du(n,i,a,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case T:s=10;break e;case k:s=9;break e;case O:s=11;break e;case I:s=14;break e;case P:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Iu(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Mu(e,t,n,r){return(e=Iu(7,e,r,t)).lanes=n,e}function Du(e,t,n,r){return(e=Iu(22,e,r,t)).elementType=j,e.lanes=n,e.stateNode={isHidden:!1},e}function Lu(e,t,n){return(e=Iu(6,e,null,t)).lanes=n,e}function Uu(e,t,n){return(t=Iu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fu(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zu(e,t,n,r,i,o,a,s,l){return e=new Fu(e,t,n,s,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Iu(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lo(o),e}function Vu(e){if(!e)return ki;e:{if(qe(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Mi(e,n,t)}return t}function qu(e,t,n,r,i,o,a,s,l){return(e=zu(n,r,!0,e,0,o,0,s,l)).context=Vu(null),n=e.current,(o=Fo(r=eu(),i=tu(n))).callback=null!=t?t:null,zo(n,o,i),e.current.lanes=i,vt(e,i,r),ru(e,r),e}function Bu(e,t,n,r){var i=t.current,o=eu(),a=tu(i);return n=Vu(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fo(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=zo(i,t,a))&&(nu(e,i,a,o),Vo(e,i,a)),a}function Gu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function $u(e,t){Hu(e,t),(e=e.alternate)&&Hu(e,t)}Cl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)bs=!0;else{if(0===(e.lanes&n)&&!(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:Ns(t),ho();break;case 5:Qo(t);break;case 1:Pi(t.type)&&Di(t);break;case 4:Ko(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ti(Co,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ti(ea,1&ea.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ls(e,t,n):(Ti(ea,1&ea.current),null!==(e=Gs(e,t,n))?e.sibling:null);Ti(ea,1&ea.current);break;case 19:if(r=0!==(n&t.childLanes),128&e.flags){if(r)return qs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ti(ea,ea.current),r)break;return null;case 22:case 23:return t.lanes=0,Ss(e,t,n)}return Gs(e,t,n)}(e,t,n);bs=!!(131072&e.flags)}else bs=!1,io&&1048576&t.flags&&Xi(t,$i,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Bs(e,t),e=t.pendingProps;var i=Ii(t,Oi.current);Ao(t,n),i=ga(null,t,r,e,i,n);var a=va();return t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(a=!0,Di(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Lo(t),i.updater=is,t.stateNode=i,i._reactInternals=t,ls(t,r,e,n),t=Os(null,t,r,!0,a,n)):(t.tag=0,io&&a&&eo(t),xs(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Bs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"==typeof e)return Pu(e)?1:0;if(null!=e){if((e=e.$$typeof)===O)return 11;if(e===I)return 14}return 2}(r),e=ns(r,e),i){case 0:t=Ts(null,t,r,e,n);break e;case 1:t=ks(null,t,r,e,n);break e;case 11:t=_s(null,t,r,e,n);break e;case 14:t=ws(null,t,r,ns(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ts(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 1:return r=t.type,i=t.pendingProps,ks(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 3:e:{if(Ns(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,Uo(e,t),Bo(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=As(e,t,r,n,i=us(Error(o(423)),t));break e}if(r!==i){t=As(e,t,r,n,i=us(Error(o(424)),t));break e}for(ro=ui(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=wo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ho(),r===i){t=Gs(e,t,n);break e}xs(e,t,r,n)}t=t.child}return t;case 5:return Qo(t),null===e&&uo(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(t.flags|=32),Es(e,t),xs(e,t,s,n),t.child;case 6:return null===e&&uo(t),null;case 13:return Ls(e,t,n);case 4:return Ko(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=_o(t,null,r,n):xs(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_s(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 7:return xs(e,t,t.pendingProps,n),t.child;case 8:case 12:return xs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Ti(Co,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!Ni.current){t=Gs(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===a.tag){(u=Fo(-1,n&-n)).tag=2;var c=a.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}a.lanes|=n,null!==(u=a.alternate)&&(u.lanes|=n),No(a.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),No(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}xs(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ao(t,n),r=r(i=Io(i)),t.flags|=1,xs(e,t,r,n),t.child;case 14:return i=ns(r=t.type,t.pendingProps),ws(e,t,r,i=ns(r.type,i),n);case 15:return Cs(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ns(r,i),Bs(e,t),t.tag=1,Pi(r)?(e=!0,Di(t)):e=!1,Ao(t,n),as(t,r,i),ls(t,r,i,n),Os(null,t,r,!0,e,n);case 19:return qs(e,t,n);case 22:return Ss(e,t,n)}throw Error(o(156,t.tag))};var Zu="function"==typeof reportError?reportError:function(e){console.error(e)};function Wu(e){this._internalRoot=e}function Ju(e){this._internalRoot=e}function Ku(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Yu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Qu(){}function Xu(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"==typeof i){var s=i;i=function(){var e=Gu(a);s.call(e)}}Bu(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"==typeof r){var o=r;r=function(){var e=Gu(a);o.call(e)}}var a=qu(t,r,e,0,null,!1,0,"",Qu);return e._reactRootContainer=a,e[hi]=a.current,qr(8===e.nodeType?e.parentNode:e),cu(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"==typeof r){var s=r;r=function(){var e=Gu(l);s.call(e)}}var l=zu(e,0,!1,null,0,!1,0,"",Qu);return e._reactRootContainer=l,e[hi]=l.current,qr(8===e.nodeType?e.parentNode:e),cu(function(){Bu(t,l,n,r)}),l}(n,t,e,i,r);return Gu(a)}Ju.prototype.render=Wu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Bu(e,t,null,null)},Ju.prototype.unmount=Wu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cu(function(){Bu(null,e,null,null)}),t[hi]=null}},Ju.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<jt.length&&0!==t&&t<jt[n].priority;n++);jt.splice(n,0,e),0===n&&Lt(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),ru(t,Ye()),!(6&Ol)&&(ql=Ye()+500,qi()))}break;case 13:cu(function(){var t=Mo(e,1);if(null!==t){var n=eu();nu(t,e,1,n)}}),$u(e,1)}},wt=function(e){if(13===e.tag){var t=Mo(e,134217728);null!==t&&nu(t,e,134217728,eu()),$u(e,134217728)}},Ct=function(e){if(13===e.tag){var t=tu(e),n=Mo(e,t);null!==n&&nu(n,e,t,eu()),$u(e,t)}},St=function(){return bt},Et=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},we=function(e,t,n){switch(t){case"input":if(Q(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=_i(r);if(!i)throw Error(o(90));Z(r),Q(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Oe=uu,Ne=cu;var ec={usingClientEntryPoint:!1,Events:[bi,xi,_i,Te,ke,uu]},tc={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nc={bundleType:tc.bundleType,version:tc.version,rendererPackageName:tc.rendererPackageName,rendererConfig:tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:tc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{it=rc.inject(nc),ot=rc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Ku(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Ku(e))throw Error(o(299));var n=!1,r="",i=Zu;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zu(e,1,!1,null,0,n,0,r,i),e[hi]=t.current,qr(8===e.nodeType?e.parentNode:e),new Wu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return cu(e)},t.hydrate=function(e,t,n){if(!Yu(t))throw Error(o(200));return Xu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Ku(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=Zu;if(null!=n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=qu(t,null,e,1,null!=n?n:null,i,0,a,s),e[hi]=t.current,qr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Ju(t)},t.render=function(e,t,n){if(!Yu(t))throw Error(o(200));return Xu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Yu(e))throw Error(o(40));return!!e._reactRootContainer&&(cu(function(){Xu(null,null,e,!1,function(){e._reactRootContainer=null,e[hi]=null})}),!0)},t.unstable_batchedUpdates=uu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Yu(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return Xu(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},848:(e,t,n)=>{e.exports=n(20)},961:(e,t,n)=>{!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(551)},982:(e,t,n)=>{e.exports=n(463)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}var r=n(848),i=n(540),o=n(338);const a=e=>(0,r.jsxs)("svg",Object.assign({},e,{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{d:"M12 2L2 7V17L12 22L22 17V7L12 2Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M2 7L12 12L22 7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M12 12V22",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,r.jsx)("path",{d:"M17 4.5L7 9.5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})),s=e=>(0,r.jsx)("svg",Object.assign({},e,{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5"})})),l=e=>(0,r.jsx)("svg",Object.assign({},e,{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 9l10.5-3m0 6.553v3.75a2.25 2.25 0 01-1.632 2.163l-1.32.377a1.803 1.803 0 11-.99-3.467l2.31-.66a2.25 2.25 0 001.632-2.163zm0 0V7.5A2.25 2.25 0 0013.5 5.25h-3A2.25 2.25 0 008.25 7.5v3.75c0 .621.504 1.125 1.125 1.125h3.75z"})})),u=e=>(0,r.jsx)("svg",Object.assign({},e,{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})),c=e=>(0,r.jsx)("svg",Object.assign({},e,{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0011.664 0l3.181-3.183m-4.991-2.696a8.25 8.25 0 00-11.664 0l-3.181 3.183"})})),d=e=>(0,r.jsx)("svg",Object.assign({},e,{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 11-18 0 9 9 0 0118 0zm-9 3.75h.008v.008H12v-.008z"})})),p=e=>(0,r.jsx)("svg",Object.assign({},e,{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12a7.5 7.5 0 0015 0m-15 0a7.5 7.5 0 1115 0m-15 0H3m18 0h-1.5m-15 0a7.5 7.5 0 1115 0m-15 0H3m18 0h-1.5m-15 0a7.5 7.5 0 1115 0m-15 0H3m18 0h-1.5"})})),f=e=>(0,r.jsx)("svg",Object.assign({},e,{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"})})),h=e=>(0,r.jsx)("svg",Object.assign({},e,{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0012 15.75a7.488 7.488 0 00-5.982 2.975m11.963 0a9 9 0 10-11.963 0m11.963 0A8.966 8.966 0 0112 21a8.966 8.966 0 01-5.982-2.275M15 9.75a3 3 0 11-6 0 3 3 0 016 0z"})})),m=e=>(0,r.jsx)("svg",Object.assign({},e,{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"})})),g=e=>(0,r.jsx)("svg",Object.assign({},e,{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75"})})),v=e=>(0,r.jsx)("svg",Object.assign({},e,{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 10-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 002.25-2.25v-6.75a2.25 2.25 0 00-2.25-2.25H6.75a2.25 2.25 0 00-2.25 2.25v6.75a2.25 2.25 0 002.25 2.25z"})})),y=e=>(0,r.jsx)("svg",Object.assign({},e,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M4.5 5.653c0-1.426 1.529-2.33 2.779-1.643l11.54 6.647c1.295.742 1.295 2.545 0 3.286L7.279 20.99c-1.25.717-2.779-.217-2.779-1.643V5.653z",clipRule:"evenodd"})})),b=e=>(0,r.jsx)("svg",Object.assign({},e,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M6.75 5.25a.75.75 0 01.75.75v12a.75.75 0 01-1.5 0v-12a.75.75 0 01.75-.75zm9 0a.75.75 0 01.75.75v12a.75.75 0 01-1.5 0v-12a.75.75 0 01.75-.75z",clipRule:"evenodd"})})),x=e=>(0,r.jsx)("svg",Object.assign({},e,{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.217 10.907a2.25 2.25 0 100 2.186m0-2.186c.195.025.39.044.585.058a2.25 2.25 0 012.186 2.186m0 0c.016.195.035.39.058.585a2.25 2.25 0 01-2.186 2.186m0 0c-.195.016-.39.035-.585.058a2.25 2.25 0 00-2.186 2.186m0 0c-.025.195-.044.39-.058.585a2.25 2.25 0 002.186 2.186m0 0c.195.025.39.044.585.058a2.25 2.25 0 012.186-2.186m0 0c.016-.195.035-.39.058-.585a2.25 2.25 0 012.186-2.186m0 0c.195-.016.39-.035.585-.058a2.25 2.25 0 002.186-2.186m0 0c.025-.195.044-.39.058-.585a2.25 2.25 0 00-2.186-2.186m-4.372 0c-.195-.025-.39-.044-.585-.058a2.25 2.25 0 00-2.186 2.186m0 0c-.016.195-.035.39-.058.585a2.25 2.25 0 002.186 2.186m0 0c.195.016.39.035.585.058a2.25 2.25 0 012.186 2.186"})})),_=({isLoggedIn:e,user:t,onLogout:n})=>{const[o,s]=(0,i.useState)(!1),l=(0,i.useRef)(null);(0,i.useEffect)(()=>{const e=e=>{l.current&&!l.current.contains(e.target)&&s(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);const u=({href:e,children:t})=>(0,r.jsxs)("a",{href:e,className:"relative text-sm font-medium text-gray-300 hover:text-white transition-colors group",children:[t,(0,r.jsx)("span",{className:"absolute bottom-0 left-0 w-full h-0.5 bg-blue-500 scale-x-0 group-hover:scale-x-100 transition-transform origin-left duration-300"})]});return(0,r.jsx)("header",{className:"w-full bg-slate-900/60 backdrop-blur-lg border-b border-slate-300/10 sticky top-0 z-50",children:(0,r.jsx)("nav",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,r.jsxs)("a",{href:"#/",className:"flex items-center gap-3",children:[(0,r.jsx)(a,{className:"h-8 w-8 text-blue-500"}),(0,r.jsx)("h1",{className:"text-xl font-bold text-white tracking-tight hidden sm:block",children:"AI Agent Mastering"})]}),(0,r.jsx)("div",{className:"flex items-center gap-6",children:e?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"hidden md:flex items-center gap-6",children:[(0,r.jsx)(u,{href:"#/dashboard",children:"Dashboard"}),(0,r.jsx)(u,{href:"#/mastering",children:"Mastering Tool"}),(null==t?void 0:t.isAdmin)&&(0,r.jsx)(u,{href:"#/admin",children:"Admin"})]}),(0,r.jsxs)("div",{className:"relative",ref:l,children:[(0,r.jsxs)("button",{onClick:()=>s(!o),className:"flex items-center gap-2 text-sm font-medium text-gray-300 hover:text-white transition-colors",children:[(0,r.jsx)(h,{className:"h-7 w-7"}),(0,r.jsx)("span",{className:"hidden md:inline",children:null==t?void 0:t.name})]}),o&&(0,r.jsxs)("div",{className:"absolute right-0 mt-3 w-48 bg-slate-800 rounded-md shadow-lg py-1 z-50 border border-slate-700",children:[(0,r.jsx)("a",{href:"#/settings",className:"block px-4 py-2 text-sm text-gray-300 hover:bg-slate-700/50",onClick:()=>s(!1),children:"Settings"}),(0,r.jsx)("a",{href:"#/mastering",className:"block md:hidden px-4 py-2 text-sm text-gray-300 hover:bg-slate-700/50",onClick:()=>s(!1),children:"Mastering"}),(0,r.jsx)("button",{onClick:()=>{n(),s(!1)},className:"w-full text-left block px-4 py-2 text-sm text-red-400 hover:bg-slate-700/50",children:"Logout"})]})]})]}):(0,r.jsx)("a",{href:"#/login",className:"btn-primary py-1.5 px-5",children:"Login / Sign Up"})})]})})})},w=({children:e,isLoggedIn:t,user:n,onLogout:i})=>(0,r.jsxs)("div",{className:"min-h-screen text-gray-200 flex flex-col font-sans",children:[(0,r.jsx)(_,{isLoggedIn:t,user:n,onLogout:i}),(0,r.jsx)("main",{className:"flex-grow w-full max-w-7xl mx-auto p-4 sm:p-6 lg:p-8",children:e}),(0,r.jsx)("footer",{className:"w-full max-w-7xl mx-auto mt-8 py-4 text-center text-xs text-gray-600",children:(0,r.jsx)("p",{children:"Powered by Gemini. This is a conceptual demonstration and does not perform real audio processing."})})]}),C=["Autonomous Multi-Agent System","Natural Language Instructions","Genre-Aware Profile Generation","Self-Correction & Improvement Loops","DAW & External Tool Integration","Detailed Quality Assurance Reports"],S=({navigate:e})=>(0,r.jsxs)("div",{className:"relative overflow-hidden",children:[(0,r.jsxs)("div",{"aria-hidden":"true",className:"absolute inset-0 z-0",children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-slate-900"}),(0,r.jsx)("div",{className:"absolute inset-x-0 top-0 h-[800px] bg-gradient-to-b from-slate-900 to-transparent"}),(0,r.jsx)("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-[1200px] h-[700px] bg-gradient-to-tr from-blue-900/50 via-purple-900/30 to-fuchsia-900/50 rounded-full blur-3xl opacity-40"})]}),(0,r.jsxs)("div",{className:"relative z-10 text-white text-center py-16 sm:py-24",children:[(0,r.jsxs)("div",{className:"max-w-4xl mx-auto px-4",children:[(0,r.jsx)(a,{className:"h-20 w-20 text-blue-400 mx-auto mb-6"}),(0,r.jsx)("h1",{className:"text-4xl sm:text-6xl font-extrabold tracking-tight mb-4 bg-clip-text text-transparent bg-gradient-to-br from-white to-gray-400",children:"The Future of Audio Mastering is Here"}),(0,r.jsx)("p",{className:"max-w-2xl mx-auto text-lg sm:text-xl text-gray-300 mb-10",children:"Experience the world's first AI Agent Mastering service. Our autonomous agents diagnose, refine, and perfect your audio with an engineer's intuition."}),(0,r.jsx)("button",{onClick:()=>e("#/login"),className:"btn-primary text-lg py-3 px-8 rounded-full shadow-lg shadow-blue-500/30 transform hover:scale-105 transition-transform",children:"Get Started for Free"})]}),(0,r.jsxs)("div",{className:"max-w-6xl mx-auto mt-24 sm:mt-32 px-4",children:[(0,r.jsx)("h2",{className:"text-3xl font-bold mb-12",children:"Why AI Agent Mastering?"}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 text-left",children:C.map((e,t)=>(0,r.jsxs)("div",{className:"glass-card p-6 rounded-xl transition-transform duration-300 hover:-translate-y-2 hover:shadow-2xl hover:shadow-blue-900/30",children:[(0,r.jsx)(u,{className:"h-7 w-7 text-green-400 mb-4"}),(0,r.jsx)("h3",{className:"font-semibold text-lg mb-2 text-gray-100",children:e}),(0,r.jsx)("p",{className:"text-gray-400 text-sm",children:"Our system goes beyond simple presets, making intelligent decisions at every step of the process."})]},t))})]})]})]}),E=({onLogin:e,onSignup:t})=>{const[n,o]=(0,i.useState)(!0),[a,s]=(0,i.useState)(""),[l,u]=(0,i.useState)(""),[c,d]=(0,i.useState)(""),[p,f]=(0,i.useState)(!1),[h,y]=(0,i.useState)(null);return(0,r.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,r.jsx)("div",{className:"w-full max-w-md",children:(0,r.jsxs)("div",{className:"glass-card rounded-xl p-8 shadow-lg",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-center text-white mb-2",children:n?"Welcome Back":"Create Your Account"}),(0,r.jsx)("p",{className:"text-center text-gray-400 mb-8",children:n?"Sign in to continue":"Get started with AI Mastering"}),(0,r.jsxs)("form",{onSubmit:async r=>{r.preventDefault(),f(!0),y(null);try{n?await e(l,c):await t(a,l,c)}catch(e){console.error("Authentication failed:",e),y(e instanceof Error?e.message:"Authentication failed. Please try again.")}finally{f(!1)}},className:"space-y-6",children:[h&&(0,r.jsx)("div",{className:"text-sm text-red-400 text-center bg-red-500/10 border border-red-500/30 rounded-md py-2 px-3",children:h}),!n&&(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-300 mb-1",children:"Name"}),(0,r.jsxs)("div",{className:"relative input-container",children:[(0,r.jsx)("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:(0,r.jsx)(m,{className:"h-5 w-5 text-gray-400 transition-colors"})}),(0,r.jsx)("input",{id:"name",name:"name",type:"text",required:!0,value:a,onChange:e=>s(e.target.value),className:"input-field pl-10",placeholder:"Nova Spark"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-1",children:"Email address"}),(0,r.jsxs)("div",{className:"relative input-container",children:[(0,r.jsx)("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:(0,r.jsx)(g,{className:"h-5 w-5 text-gray-400 transition-colors"})}),(0,r.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:l,onChange:e=>u(e.target.value),className:"input-field pl-10",placeholder:"you@example.com"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-300 mb-1",children:"Password"}),(0,r.jsxs)("div",{className:"relative input-container",children:[(0,r.jsx)("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:(0,r.jsx)(v,{className:"h-5 w-5 text-gray-400 transition-colors"})}),(0,r.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:n?"current-password":"new-password",required:!0,value:c,onChange:e=>d(e.target.value),className:"input-field pl-10",placeholder:""})]}),!n&&(0,r.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Use at least 8 characters for a strong password."})]}),(0,r.jsx)("div",{children:(0,r.jsx)("button",{type:"submit",className:"w-full btn-primary py-3 mt-2",disabled:p,children:p?"Processing...":n?"Sign In":"Sign Up"})})]}),(0,r.jsx)("div",{className:"text-center mt-6",children:(0,r.jsx)("button",{onClick:()=>{o(e=>!e),y(null)},className:"text-sm text-blue-400 hover:text-blue-300",children:n?"Don't have an account? Sign Up":"Already have an account? Sign In"})})]})})})},T=[{id:1,name:"Midnight Drive.wav",status:"Completed",date:"2 days ago",format:"44.1kHz / 24bit",lufs:-9.5},{id:2,name:"Sunrise Groove.mp3",status:"Completed",date:"5 days ago",format:"48kHz / 16bit",lufs:-12},{id:3,name:"City Lights Final Mix.flac",status:"Completed",date:"1 week ago",format:"96kHz / 24bit",lufs:-8.9},{id:4,name:"Oceanic Depth.wav",status:"Completed",date:"2 weeks ago",format:"44.1kHz / 24bit",lufs:-14}],k=({project:e,playingId:t,onPlay:n})=>{const i=t===e.id;return(0,r.jsxs)("div",{style:{backgroundColor:"var(--dashboard-card-bg)"},className:"rounded-xl p-5 border border-slate-800 flex flex-col transition-all duration-300 hover:border-cyan-500/50 hover:shadow-2xl hover:shadow-cyan-900/50",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,r.jsx)("div",{onClick:()=>n(i?-1:e.id),className:"w-12 h-12 flex-shrink-0 rounded-full flex items-center justify-center cursor-pointer transition-all duration-200",style:{backgroundColor:i?"var(--dashboard-accent)":"rgba(0, 255, 255, 0.1)",color:i?"black":"var(--dashboard-accent)",boxShadow:"0 0 15px -5px "+(i?"var(--dashboard-accent)":"transparent")},children:i?(0,r.jsx)(b,{className:"w-6 h-6"}):(0,r.jsx)(y,{className:"w-6 h-6"})}),(0,r.jsxs)("div",{className:"overflow-hidden",children:[(0,r.jsx)("p",{className:"font-bold text-white truncate",children:e.name}),(0,r.jsx)("p",{className:"text-sm text-slate-400",children:e.date})]})]}),(0,r.jsxs)("div",{className:"flex-grow space-y-3 text-sm mb-5",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-slate-400",children:"Status:"}),(0,r.jsx)("span",{className:"font-semibold text-green-400",children:e.status})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-slate-400",children:"Format:"}),(0,r.jsx)("span",{className:"font-mono text-slate-300",children:e.format})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-slate-400",children:"Loudness:"}),(0,r.jsxs)("span",{className:"font-mono font-bold",style:{color:"var(--dashboard-accent)"},children:[e.lufs.toFixed(1)," LUFS"]})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)("button",{className:"flex-1 flex items-center justify-center gap-2 py-2 rounded-md bg-slate-700/50 hover:bg-slate-700 transition-colors",children:[(0,r.jsx)(f,{className:"w-4 h-4"})," Download"]}),(0,r.jsxs)("button",{className:"flex-1 flex items-center justify-center gap-2 py-2 rounded-md bg-slate-700/50 hover:bg-slate-700 transition-colors",children:[(0,r.jsx)(x,{className:"w-4 h-4"})," Share"]})]})]})},O=({user:e,navigate:t})=>{const[n,o]=(0,i.useState)(null);return(0,r.jsxs)("div",{style:{backgroundColor:"var(--dashboard-bg)"},className:"p-4 sm:p-6 rounded-2xl",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-4xl font-extrabold text-white",children:"Dashboard"}),(0,r.jsxs)("p",{className:"text-slate-400 mt-2 text-lg",children:["Welcome back, ",e.name,"!"]})]}),(0,r.jsx)("button",{onClick:()=>t("#/mastering"),className:"btn-primary",children:"New Project"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-white mb-4",children:"Recent Projects"}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:T.map(e=>(0,r.jsx)(k,{project:e,playingId:n,onPlay:o},e.id))})]})]})},N=[{id:"streaming",name:"Streaming (Spotify, etc.)"},{id:"beatport",name:"Beatport"},{id:"cd",name:"CD Master"},{id:"youtube",name:"YouTube"},{id:"auto",name:"Auto-Detect"}],A=["Punchy & Wide","Warm & Vintage","Crystal Clear","Bass Focused","Vocals Forward","Dynamic & Open","Loud & Proud","Natural & Transparent"],I=({audioFile:e,setAudioFile:t,masteringGoal:n,setMasteringGoal:i,onStart:o,onReset:a,isProcessing:u,isFinished:c})=>(0,r.jsxs)("div",{className:"glass-card rounded-xl p-5 flex flex-col h-full space-y-6",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-white tracking-wider",children:"1. SETUP"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Upload Audio"}),e?(0,r.jsxs)("div",{className:"bg-slate-900/80 p-3 rounded-lg flex items-center justify-between border border-blue-500/50 shadow-inner shadow-blue-900/50",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 overflow-hidden",children:[(0,r.jsx)(l,{className:"h-6 w-6 text-blue-400 flex-shrink-0"}),(0,r.jsx)("p",{className:"text-sm truncate",title:e.name,children:e.name})]}),(0,r.jsx)("button",{onClick:()=>t(null),className:"text-gray-400 hover:text-white text-xl transition-colors",children:""})]}):(0,r.jsxs)("label",{htmlFor:"file-upload",className:"relative flex flex-col items-center justify-center w-full h-36 border-2 border-slate-700 border-dashed rounded-lg cursor-pointer bg-slate-900/50 hover:border-blue-500 hover:bg-slate-900 transition-all duration-300 group",children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-blue-900/30 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center pt-5 pb-6 z-10",children:[(0,r.jsx)(s,{className:"w-8 h-8 mb-3 text-gray-400 group-hover:text-blue-400 transition-colors"}),(0,r.jsxs)("p",{className:"mb-2 text-sm text-gray-400",children:[(0,r.jsx)("span",{className:"font-semibold",children:"Click to upload"})," or drag & drop"]}),(0,r.jsx)("p",{className:"text-xs text-gray-500",children:"WAV, FLAC, MP3 (Max 100MB)"})]}),(0,r.jsx)("input",{id:"file-upload",type:"file",className:"hidden",onChange:e=>{e.target.files&&e.target.files[0]&&t(e.target.files[0])},accept:"audio/*"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"platform",className:"block text-sm font-medium text-gray-300 mb-2",children:"Target Platform"}),(0,r.jsx)("select",{id:"platform",value:n.platform,onChange:e=>{i(Object.assign(Object.assign({},n),{platform:e.target.value}))},className:"input-field",disabled:u||c,children:N.map(e=>(0,r.jsx)("option",{value:e.id,children:e.name},e.id))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Desired Characteristics"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:A.map(e=>{const t=n.tags.includes(e);return(0,r.jsx)("button",{onClick:()=>(e=>{const t=n.tags.includes(e)?n.tags.filter(t=>t!==e):[...n.tags,e];i(Object.assign(Object.assign({},n),{tags:t}))})(e),disabled:u||c,className:"px-3 py-1.5 text-xs font-semibold rounded-full transition-all duration-200 border "+(t?"bg-blue-500 border-blue-400 text-white shadow-md shadow-blue-900/50":"bg-slate-700/50 border-slate-600 hover:bg-slate-700 hover:border-slate-500"),children:e},e)})})]}),(0,r.jsx)("div",{className:"flex-grow"}),(0,r.jsx)("div",{className:"space-y-3 pt-2",children:c?(0,r.jsx)("button",{onClick:a,className:"btn-secondary w-full py-3",children:"Start New Session"}):(0,r.jsx)("button",{onClick:o,disabled:!e||u,className:"btn-primary w-full py-3 text-base",children:u?"Processing...":"Start AI Mastering"})})]}),P=e=>{switch(e){case"complete":return(0,r.jsx)(u,{className:"h-6 w-6 text-green-400"});case"in-progress":return(0,r.jsx)(p,{className:"h-6 w-6 text-blue-400 animate-spin"});case"evaluating":case"reworking":return(0,r.jsx)(c,{className:"h-6 w-6 text-yellow-400 animate-spin"});case"error":return(0,r.jsx)(d,{className:"h-6 w-6 text-red-400"});default:return(0,r.jsx)("div",{className:"h-6 w-6 flex items-center justify-center",children:(0,r.jsx)("div",{className:"h-3 w-3 rounded-full bg-slate-600 border-2 border-slate-500"})})}},j=({step:e,isLast:t})=>{return(0,r.jsxs)("li",{className:"relative pl-12 pb-8",children:[!t&&(0,r.jsx)("div",{className:"absolute left-[22px] top-2 h-full w-0.5 bg-slate-700"}),"in-progress"===e.status&&(0,r.jsx)("div",{className:"absolute left-[18px] top-2 h-2 w-2 rounded-full bg-blue-400 animate-ping"}),(0,r.jsxs)("div",{className:"flex items-start gap-4",children:[(0,r.jsx)("div",{className:"absolute left-0 top-0 flex items-center justify-center w-11 h-11 rounded-full bg-slate-800 border-2 border-slate-700",children:P(e.status)}),(0,r.jsxs)("div",{className:`flex-1 p-4 rounded-lg border ${n=e.agent,{Analysis:"bg-cyan-900/50 border-cyan-500",EQ:"bg-green-900/50 border-green-500",Dynamics:"bg-orange-900/50 border-orange-500",StereoImage:"bg-purple-900/50 border-purple-500",Enhancement:"bg-pink-900/50 border-pink-500",QualityCheck:"bg-yellow-900/50 border-yellow-500",Improvement:"bg-amber-900/50 border-amber-500",Delivery:"bg-blue-900/50 border-blue-500"}[n]||"bg-slate-800 border-slate-600"}`,children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("p",{className:"font-bold text-gray-100 text-lg",children:e.agent}),(0,r.jsx)("p",{className:"text-xs font-mono text-gray-500 capitalize",children:e.status})]}),(0,r.jsx)("p",{className:"text-sm text-gray-300 mt-1",children:e.task}),e.details&&(0,r.jsx)("p",{className:"mt-2 pl-2 border-l-2 border-slate-600 text-xs text-gray-400 italic",children:e.details})]})]})]});var n},R=({steps:e,statusMessage:t,isProcessing:n})=>(0,r.jsxs)("div",{className:"glass-card rounded-xl p-5 h-full flex flex-col",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-white mb-6 tracking-wider",children:"2. AGENT PROCESS FLOW"}),0===e.length?(0,r.jsxs)("div",{className:"flex-grow flex flex-col items-center justify-center text-center text-gray-500",children:[(0,r.jsx)(p,{className:"h-16 w-16 mb-4 text-slate-600"}),(0,r.jsx)("p",{className:"font-semibold text-lg",children:"Awaiting Instructions"}),(0,r.jsx)("p",{className:"text-sm max-w-xs",children:"Upload a file and define your goal to initiate the autonomous mastering sequence."})]}):(0,r.jsxs)("div",{className:"flex-grow flex flex-col",children:[(0,r.jsx)("div",{className:"flex-grow overflow-y-auto pr-2 -mr-2",children:(0,r.jsx)("ul",{children:e.map((t,n)=>(0,r.jsx)(j,{step:t,isLast:n===e.length-1},t.id))})}),n&&(0,r.jsx)("div",{className:"mt-4 p-3 bg-blue-900/50 rounded-lg text-center border border-blue-500/50",children:(0,r.jsx)("p",{className:"text-sm text-blue-300 animate-pulse font-semibold",children:t})})]})]}),M=({data:e,color:t,glowColor:n,id:i})=>{const o=200/e.length;return(0,r.jsxs)("svg",{width:"100%",height:80,viewBox:"0 0 200 80",preserveAspectRatio:"none",children:[(0,r.jsxs)("defs",{children:[(0,r.jsxs)("linearGradient",{id:`gradient-${i}`,x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,r.jsx)("stop",{offset:"0%",stopColor:n,stopOpacity:"0.8"}),(0,r.jsx)("stop",{offset:"100%",stopColor:t,stopOpacity:"0.9"})]}),(0,r.jsxs)("filter",{id:`glow-${i}`,x:"-50%",y:"-50%",width:"200%",height:"200%",children:[(0,r.jsx)("feGaussianBlur",{stdDeviation:"1.5",result:"coloredBlur"}),(0,r.jsxs)("feMerge",{children:[(0,r.jsx)("feMergeNode",{in:"coloredBlur"}),(0,r.jsx)("feMergeNode",{in:"SourceGraphic"})]})]})]}),(0,r.jsx)("g",{style:{filter:`url(#glow-${i})`},children:e.map((e,t)=>(0,r.jsx)("rect",{x:t*o,y:80-80*e,width:o-1,height:80*e,fill:`url(#gradient-${i})`,rx:"1",style:{transition:"y 0.3s ease, height 0.3s ease"}},t))})]})},D=({label:e,value:t,unit:n})=>(0,r.jsxs)("div",{className:"text-center glass-card p-3 rounded-lg bg-slate-900/50",children:[(0,r.jsx)("p",{className:"text-sm text-gray-400",children:e}),(0,r.jsxs)("p",{className:"text-2xl font-bold text-white tracking-tight",children:[t," ",(0,r.jsx)("span",{className:"text-base font-medium text-gray-400",children:n})]})]}),L=({data:e,isProcessing:t})=>{const{before:n,after:i}=e;return(0,r.jsxs)("div",{className:"glass-card rounded-xl p-5 h-full flex flex-col",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-white mb-4",children:"3. Quality Assurance"}),(0,r.jsxs)("div",{className:"space-y-6 flex-grow flex flex-col justify-around",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-sm font-semibold text-gray-300 mb-2",children:"Spectrum Analysis"}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"Before"}),(0,r.jsx)(M,{data:n.spectrum,color:"#4B5563",glowColor:"#6B7280",id:"before"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs text-gray-500 mb-1",children:"After"}),(0,r.jsx)(M,{data:i.spectrum,color:"#2563EB",glowColor:"#60A5FA",id:"after"})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-sm font-semibold text-gray-300 mb-3",children:"Core Metrics"}),(0,r.jsxs)("div",{className:"grid grid-cols-3 gap-3",children:[(0,r.jsx)(D,{label:"LUFS",value:t?"...":i.lufs.toFixed(1),unit:"LUFS"}),(0,r.jsx)(D,{label:"Peak",value:t?"...":i.peak.toFixed(1),unit:"dBTP"}),(0,r.jsx)(D,{label:"Crest",value:t?"...":i.crest.toFixed(1),unit:"dB"})]})]})]})]})},U=({name:e})=>e.includes("Streaming")?(0,r.jsx)(l,{className:"h-6 w-6 text-cyan-400"}):e.includes("CD")?(0,r.jsx)("div",{className:"font-bold text-lg text-purple-400",children:"CD"}):e.includes("Loud")?(0,r.jsx)("div",{className:"font-extrabold text-lg text-red-400",children:"L"}):e.includes("Analog")?(0,r.jsx)("div",{className:"font-serif font-bold text-lg text-amber-400",children:"A"}):(0,r.jsx)(f,{className:"h-6 w-6 text-gray-400"}),F=({versions:e})=>(0,r.jsxs)("div",{className:"glass-card rounded-xl p-5",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-white mb-4 tracking-wider",children:"4. DELIVERY"}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:e.map(e=>(0,r.jsxs)("div",{className:"group relative bg-slate-900/70 rounded-lg p-4 flex flex-col justify-between border border-slate-800 hover:border-blue-500/50 transition-all duration-300 cursor-pointer",onClick:()=>{return t=e.name,console.log(`Downloading ${t}...`),void alert(`Simulating download for: ${t}`);var t},children:[(0,r.jsx)("div",{className:"absolute -top-px -left-px -right-px h-px bg-gradient-to-r from-transparent via-blue-500/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-bold text-gray-100",children:e.name}),(0,r.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:e.description})]}),(0,r.jsx)("div",{className:"w-10 h-10 flex-shrink-0 bg-slate-800 rounded-full flex items-center justify-center border border-slate-700 group-hover:border-blue-500/50 transition-colors",children:(0,r.jsx)(U,{name:e.name})})]}),(0,r.jsxs)("button",{className:"mt-4 w-full bg-slate-800 group-hover:bg-blue-600 text-white text-sm font-semibold py-2 px-3 rounded-md flex items-center justify-center gap-2 transition-colors",children:[(0,r.jsx)(f,{className:"h-4 w-4"}),"Download"]})]},e.name))})]}),z={streaming:{lufs:-14,peak:-1},beatport:{lufs:-9,peak:-.5},cd:{lufs:-9,peak:-.1},youtube:{lufs:-13,peak:-1.5},auto:{lufs:-12,peak:-1}},V=()=>(0,r.jsxs)("svg",{width:"100%",height:"100",preserveAspectRatio:"none",className:"opacity-50",children:[(0,r.jsx)("path",{d:"M0 50 L20 60 L40 40 L60 55 L80 45 L100 50 L120 60 L140 40 L160 55 L180 45 L200 50 L220 60 L240 40 L260 55 L280 45 L300 50 L320 60 L340 40 L360 55 L380 45 L400 50",fill:"none",stroke:"url(#waveform-gradient)",strokeWidth:"2"}),(0,r.jsx)("defs",{children:(0,r.jsxs)("linearGradient",{id:"waveform-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[(0,r.jsx)("stop",{offset:"0%",stopColor:"var(--primary-glow)"}),(0,r.jsx)("stop",{offset:"100%",stopColor:"var(--secondary-glow)"})]})})]}),q=()=>{const e=i.useMemo(()=>Array.from({length:48},()=>.6*Math.random()+.1),[]);return(0,r.jsx)("svg",{width:"100%",height:"100",preserveAspectRatio:"none",children:e.map((t,n)=>(0,r.jsx)("rect",{x:n/e.length*100+"%",y:100-100*t+"%",width:100/e.length-1+"%",height:100*t+"%",fill:"rgba(0, 255, 255, 0.4)"},n))})},B=({file:e,platform:t})=>{if(!e)return(0,r.jsxs)("div",{className:"glass-card rounded-xl p-5 h-full flex flex-col items-center justify-center text-center",children:[(0,r.jsx)(s,{className:"h-16 w-16 mb-4 text-slate-600"}),(0,r.jsx)("h3",{className:"font-bold text-xl text-white",children:"Awaiting Audio File"}),(0,r.jsx)("p",{className:"text-slate-400 mt-2 max-w-sm",children:"Upload your track in the setup panel to begin the analysis and mastering process."})]});const n=z[t],i=({label:e,currentValue:t,targetValue:n,unit:i})=>{const o=t-n,a=Math.abs(o)<("LUFS"===e?2:.5);return(0,r.jsxs)("tr",{className:"border-b border-slate-800",children:[(0,r.jsx)("td",{className:"py-3 px-4 font-semibold text-slate-300",children:e}),(0,r.jsxs)("td",{className:"py-3 px-4 text-center font-mono",children:[t.toFixed(1)," ",i]}),(0,r.jsxs)("td",{className:"py-3 px-4 text-center font-mono",children:[n.toFixed(1)," ",i]}),(0,r.jsxs)("td",{className:"py-3 px-4 text-center font-mono font-bold "+(a?"text-green-400":"text-amber-400"),children:[o>0?"+":"",o.toFixed(1)," ",i]})]})};return(0,r.jsxs)("div",{className:"glass-card rounded-xl p-6 space-y-6",children:[(0,r.jsxs)("h2",{className:"text-xl font-bold text-white tracking-wider",children:["INITIAL ANALYSIS: ",(0,r.jsx)("span",{className:"text-blue-400",children:e.name})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"bg-slate-900/70 p-4 rounded-lg border border-slate-800",children:[(0,r.jsx)("h3",{className:"font-semibold text-slate-300 mb-2",children:"Waveform"}),(0,r.jsx)(V,{})]}),(0,r.jsxs)("div",{className:"bg-slate-900/70 p-4 rounded-lg border border-slate-800",children:[(0,r.jsx)("h3",{className:"font-semibold text-slate-300 mb-2",children:"Spectrum"}),(0,r.jsx)(q,{})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("h3",{className:"font-semibold text-slate-300 mb-3",children:["Platform Target Comparison: ",(0,r.jsx)("span",{className:"text-cyan-400 capitalize",children:t})]}),(0,r.jsx)("div",{className:"overflow-hidden rounded-lg border border-slate-800",children:(0,r.jsxs)("table",{className:"w-full text-sm",children:[(0,r.jsx)("thead",{className:"bg-slate-900/70",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"py-2 px-4 text-left",children:"Metric"}),(0,r.jsx)("th",{className:"py-2 px-4 text-center",children:"Current"}),(0,r.jsx)("th",{className:"py-2 px-4 text-center",children:"Target"}),(0,r.jsx)("th",{className:"py-2 px-4 text-center",children:"Delta"})]})}),(0,r.jsxs)("tbody",{children:[(0,r.jsx)(i,{label:"Integrated LUFS",currentValue:-18.3,targetValue:n.lufs,unit:"LUFS"}),(0,r.jsx)(i,{label:"True Peak",currentValue:-.8,targetValue:n.peak,unit:"dBTP"})]})]})}),(0,r.jsx)("p",{className:"text-xs text-slate-500 mt-2",children:"This is a preliminary analysis. The AI will perform a more detailed diagnosis."})]})]})};var G,H;!function(e){e.assertEqual=e=>e,e.assertIs=function(e){},e.assertNever=function(e){throw new Error},e.arrayToEnum=e=>{const t={};for(const n of e)t[n]=n;return t},e.getValidEnumValues=t=>{const n=e.objectKeys(t).filter(e=>"number"!=typeof t[t[e]]),r={};for(const e of n)r[e]=t[e];return e.objectValues(r)},e.objectValues=t=>e.objectKeys(t).map(function(e){return t[e]}),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},e.find=(e,t)=>{for(const n of e)if(t(n))return n},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map(e=>"string"==typeof e?`'${e}'`:e).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(G||(G={})),function(e){e.mergeShapes=(e,t)=>({...e,...t})}(H||(H={}));const $=G.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Z=e=>{switch(typeof e){case"undefined":return $.undefined;case"string":return $.string;case"number":return isNaN(e)?$.nan:$.number;case"boolean":return $.boolean;case"function":return $.function;case"bigint":return $.bigint;case"symbol":return $.symbol;case"object":return Array.isArray(e)?$.array:null===e?$.null:e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch?$.promise:"undefined"!=typeof Map&&e instanceof Map?$.map:"undefined"!=typeof Set&&e instanceof Set?$.set:"undefined"!=typeof Date&&e instanceof Date?$.date:$.object;default:return $.unknown}},W=G.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class J extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(e){return e.message},n={_errors:[]},r=e=>{for(const i of e.issues)if("invalid_union"===i.code)i.unionErrors.map(r);else if("invalid_return_type"===i.code)r(i.returnTypeError);else if("invalid_arguments"===i.code)r(i.argumentsError);else if(0===i.path.length)n._errors.push(t(i));else{let e=n,r=0;for(;r<i.path.length;){const n=i.path[r];r===i.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(i))):e[n]=e[n]||{_errors:[]},e=e[n],r++}}};return r(this),n}static assert(e){if(!(e instanceof J))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,G.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=e=>e.message){const t={},n=[];for(const r of this.issues)r.path.length>0?(t[r.path[0]]=t[r.path[0]]||[],t[r.path[0]].push(e(r))):n.push(e(r));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}J.create=e=>new J(e);const K=(e,t)=>{let n;switch(e.code){case W.invalid_type:n=e.received===$.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case W.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,G.jsonStringifyReplacer)}`;break;case W.unrecognized_keys:n=`Unrecognized key(s) in object: ${G.joinValues(e.keys,", ")}`;break;case W.invalid_union:n="Invalid input";break;case W.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${G.joinValues(e.options)}`;break;case W.invalid_enum_value:n=`Invalid enum value. Expected ${G.joinValues(e.options)}, received '${e.received}'`;break;case W.invalid_arguments:n="Invalid function arguments";break;case W.invalid_return_type:n="Invalid function return type";break;case W.invalid_date:n="Invalid date";break;case W.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:G.assertNever(e.validation):n="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case W.too_small:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case W.too_big:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case W.custom:n="Invalid input";break;case W.invalid_intersection_types:n="Intersection results could not be merged";break;case W.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case W.not_finite:n="Number must be finite";break;default:n=t.defaultError,G.assertNever(e)}return{message:n}};let Y=K;function Q(){return Y}const X=e=>{const{data:t,path:n,errorMaps:r,issueData:i}=e,o=[...n,...i.path||[]],a={...i,path:o};if(void 0!==i.message)return{...i,path:o,message:i.message};let s="";const l=r.filter(e=>!!e).slice().reverse();for(const e of l)s=e(a,{data:t,defaultError:s}).message;return{...i,path:o,message:s}};function ee(e,t){const n=Q(),r=X({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===K?void 0:K].filter(e=>!!e)});e.common.issues.push(r)}class te{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){const n=[];for(const r of t){if("aborted"===r.status)return ne;"dirty"===r.status&&e.dirty(),n.push(r.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){const n=[];for(const e of t){const t=await e.key,r=await e.value;n.push({key:t,value:r})}return te.mergeObjectSync(e,n)}static mergeObjectSync(e,t){const n={};for(const r of t){const{key:t,value:i}=r;if("aborted"===t.status)return ne;if("aborted"===i.status)return ne;"dirty"===t.status&&e.dirty(),"dirty"===i.status&&e.dirty(),"__proto__"===t.value||void 0===i.value&&!r.alwaysSet||(n[t.value]=i.value)}return{status:e.value,value:n}}}const ne=Object.freeze({status:"aborted"}),re=e=>({status:"dirty",value:e}),ie=e=>({status:"valid",value:e}),oe=e=>"aborted"===e.status,ae=e=>"dirty"===e.status,se=e=>"valid"===e.status,le=e=>"undefined"!=typeof Promise&&e instanceof Promise;function ue(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function ce(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n}var de,pe,fe;"function"==typeof SuppressedError&&SuppressedError,function(e){e.errToObj=e=>"string"==typeof e?{message:e}:e||{},e.toString=e=>"string"==typeof e?e:null==e?void 0:e.message}(de||(de={}));class he{constructor(e,t,n,r){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=r}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const me=(e,t)=>{if(se(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new J(e.common.issues);return this._error=t,this._error}}};function ge(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:i}=e;if(t&&(n||r))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:i}:{errorMap:(t,i)=>{var o,a;const{message:s}=e;return"invalid_enum_value"===t.code?{message:null!=s?s:i.defaultError}:void 0===i.data?{message:null!==(o=null!=s?s:r)&&void 0!==o?o:i.defaultError}:"invalid_type"!==t.code?{message:i.defaultError}:{message:null!==(a=null!=s?s:n)&&void 0!==a?a:i.defaultError}},description:i}}class ve{get description(){return this._def.description}_getType(e){return Z(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:Z(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new te,ctx:{common:e.parent.common,data:e.data,parsedType:Z(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(le(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){var n;const r={common:{issues:[],async:null!==(n=null==t?void 0:t.async)&&void 0!==n&&n,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Z(e)},i=this._parseSync({data:e,path:r.path,parent:r});return me(r,i)}"~validate"(e){var t,n;const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Z(e)};if(!this["~standard"].async)try{const t=this._parseSync({data:e,path:[],parent:r});return se(t)?{value:t.value}:{issues:r.common.issues}}catch(e){(null===(n=null===(t=null==e?void 0:e.message)||void 0===t?void 0:t.toLowerCase())||void 0===n?void 0:n.includes("encountered"))&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(e=>se(e)?{value:e.value}:{issues:r.common.issues})}async parseAsync(e,t){const n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){const n={common:{issues:[],contextualErrorMap:null==t?void 0:t.errorMap,async:!0},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Z(e)},r=this._parse({data:e,path:n.path,parent:n}),i=await(le(r)?r:Promise.resolve(r));return me(n,i)}refine(e,t){const n=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement((t,r)=>{const i=e(t),o=()=>r.addIssue({code:W.custom,...n(t)});return"undefined"!=typeof Promise&&i instanceof Promise?i.then(e=>!!e||(o(),!1)):!!i||(o(),!1)})}refinement(e,t){return this._refinement((n,r)=>!!e(n)||(r.addIssue("function"==typeof t?t(n,r):t),!1))}_refinement(e){return new bt({schema:this,typeName:Pt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return xt.create(this,this._def)}nullable(){return _t.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return et.create(this)}promise(){return yt.create(this,this._def)}or(e){return rt.create([this,e],this._def)}and(e){return st.create(this,e,this._def)}transform(e){return new bt({...ge(this._def),schema:this,typeName:Pt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t="function"==typeof e?e:()=>e;return new wt({...ge(this._def),innerType:this,defaultValue:t,typeName:Pt.ZodDefault})}brand(){return new Tt({typeName:Pt.ZodBranded,type:this,...ge(this._def)})}catch(e){const t="function"==typeof e?e:()=>e;return new Ct({...ge(this._def),innerType:this,catchValue:t,typeName:Pt.ZodCatch})}describe(e){return new(0,this.constructor)({...this._def,description:e})}pipe(e){return kt.create(this,e)}readonly(){return Ot.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const ye=/^c[^\s-]{8,}$/i,be=/^[0-9a-z]+$/,xe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,_e=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,we=/^[a-z0-9_-]{21}$/i,Ce=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Se=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Ee=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;let Te;const ke=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Oe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Ne=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Ae=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Ie=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Pe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,je="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Re=new RegExp(`^${je}$`);function Me(e){let t="[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`),`([01]\\d|2[0-3]):[0-5]\\d(:${t})${e.precision?"+":"?"}`}function De(e){return new RegExp(`^${Me(e)}$`)}function Le(e){let t=`${je}T${Me(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function Ue(e,t){return!("v4"!==t&&t||!ke.test(e))||!("v6"!==t&&t||!Ne.test(e))}function Fe(e,t){if(!Ce.test(e))return!1;try{const[n]=e.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!("object"!=typeof i||null===i||!i.typ||!i.alg||t&&i.alg!==t)}catch(e){return!1}}function ze(e,t){return!("v4"!==t&&t||!Oe.test(e))||!("v6"!==t&&t||!Ae.test(e))}class Ve extends ve{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==$.string){const t=this._getOrReturnCtx(e);return ee(t,{code:W.invalid_type,expected:$.string,received:t.parsedType}),ne}const t=new te;let n;for(const r of this._def.checks)if("min"===r.kind)e.data.length<r.value&&(n=this._getOrReturnCtx(e,n),ee(n,{code:W.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),t.dirty());else if("max"===r.kind)e.data.length>r.value&&(n=this._getOrReturnCtx(e,n),ee(n,{code:W.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),t.dirty());else if("length"===r.kind){const i=e.data.length>r.value,o=e.data.length<r.value;(i||o)&&(n=this._getOrReturnCtx(e,n),i?ee(n,{code:W.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}):o&&ee(n,{code:W.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}),t.dirty())}else if("email"===r.kind)Ee.test(e.data)||(n=this._getOrReturnCtx(e,n),ee(n,{validation:"email",code:W.invalid_string,message:r.message}),t.dirty());else if("emoji"===r.kind)Te||(Te=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),Te.test(e.data)||(n=this._getOrReturnCtx(e,n),ee(n,{validation:"emoji",code:W.invalid_string,message:r.message}),t.dirty());else if("uuid"===r.kind)_e.test(e.data)||(n=this._getOrReturnCtx(e,n),ee(n,{validation:"uuid",code:W.invalid_string,message:r.message}),t.dirty());else if("nanoid"===r.kind)we.test(e.data)||(n=this._getOrReturnCtx(e,n),ee(n,{validation:"nanoid",code:W.invalid_string,message:r.message}),t.dirty());else if("cuid"===r.kind)ye.test(e.data)||(n=this._getOrReturnCtx(e,n),ee(n,{validation:"cuid",code:W.invalid_string,message:r.message}),t.dirty());else if("cuid2"===r.kind)be.test(e.data)||(n=this._getOrReturnCtx(e,n),ee(n,{validation:"cuid2",code:W.invalid_string,message:r.message}),t.dirty());else if("ulid"===r.kind)xe.test(e.data)||(n=this._getOrReturnCtx(e,n),ee(n,{validation:"ulid",code:W.invalid_string,message:r.message}),t.dirty());else if("url"===r.kind)try{new URL(e.data)}catch(i){n=this._getOrReturnCtx(e,n),ee(n,{validation:"url",code:W.invalid_string,message:r.message}),t.dirty()}else"regex"===r.kind?(r.regex.lastIndex=0,r.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),ee(n,{validation:"regex",code:W.invalid_string,message:r.message}),t.dirty())):"trim"===r.kind?e.data=e.data.trim():"includes"===r.kind?e.data.includes(r.value,r.position)||(n=this._getOrReturnCtx(e,n),ee(n,{code:W.invalid_string,validation:{includes:r.value,position:r.position},message:r.message}),t.dirty()):"toLowerCase"===r.kind?e.data=e.data.toLowerCase():"toUpperCase"===r.kind?e.data=e.data.toUpperCase():"startsWith"===r.kind?e.data.startsWith(r.value)||(n=this._getOrReturnCtx(e,n),ee(n,{code:W.invalid_string,validation:{startsWith:r.value},message:r.message}),t.dirty()):"endsWith"===r.kind?e.data.endsWith(r.value)||(n=this._getOrReturnCtx(e,n),ee(n,{code:W.invalid_string,validation:{endsWith:r.value},message:r.message}),t.dirty()):"datetime"===r.kind?Le(r).test(e.data)||(n=this._getOrReturnCtx(e,n),ee(n,{code:W.invalid_string,validation:"datetime",message:r.message}),t.dirty()):"date"===r.kind?Re.test(e.data)||(n=this._getOrReturnCtx(e,n),ee(n,{code:W.invalid_string,validation:"date",message:r.message}),t.dirty()):"time"===r.kind?De(r).test(e.data)||(n=this._getOrReturnCtx(e,n),ee(n,{code:W.invalid_string,validation:"time",message:r.message}),t.dirty()):"duration"===r.kind?Se.test(e.data)||(n=this._getOrReturnCtx(e,n),ee(n,{validation:"duration",code:W.invalid_string,message:r.message}),t.dirty()):"ip"===r.kind?Ue(e.data,r.version)||(n=this._getOrReturnCtx(e,n),ee(n,{validation:"ip",code:W.invalid_string,message:r.message}),t.dirty()):"jwt"===r.kind?Fe(e.data,r.alg)||(n=this._getOrReturnCtx(e,n),ee(n,{validation:"jwt",code:W.invalid_string,message:r.message}),t.dirty()):"cidr"===r.kind?ze(e.data,r.version)||(n=this._getOrReturnCtx(e,n),ee(n,{validation:"cidr",code:W.invalid_string,message:r.message}),t.dirty()):"base64"===r.kind?Ie.test(e.data)||(n=this._getOrReturnCtx(e,n),ee(n,{validation:"base64",code:W.invalid_string,message:r.message}),t.dirty()):"base64url"===r.kind?Pe.test(e.data)||(n=this._getOrReturnCtx(e,n),ee(n,{validation:"base64url",code:W.invalid_string,message:r.message}),t.dirty()):G.assertNever(r);return{status:t.value,value:e.data}}_regex(e,t,n){return this.refinement(t=>e.test(t),{validation:t,code:W.invalid_string,...de.errToObj(n)})}_addCheck(e){return new Ve({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...de.errToObj(e)})}url(e){return this._addCheck({kind:"url",...de.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...de.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...de.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...de.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...de.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...de.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...de.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...de.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...de.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...de.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...de.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...de.errToObj(e)})}datetime(e){var t,n;return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,offset:null!==(t=null==e?void 0:e.offset)&&void 0!==t&&t,local:null!==(n=null==e?void 0:e.local)&&void 0!==n&&n,...de.errToObj(null==e?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,...de.errToObj(null==e?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...de.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...de.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:null==t?void 0:t.position,...de.errToObj(null==t?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...de.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...de.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...de.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...de.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...de.errToObj(t)})}nonempty(e){return this.min(1,de.errToObj(e))}trim(){return new Ve({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ve({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ve({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>"datetime"===e.kind)}get isDate(){return!!this._def.checks.find(e=>"date"===e.kind)}get isTime(){return!!this._def.checks.find(e=>"time"===e.kind)}get isDuration(){return!!this._def.checks.find(e=>"duration"===e.kind)}get isEmail(){return!!this._def.checks.find(e=>"email"===e.kind)}get isURL(){return!!this._def.checks.find(e=>"url"===e.kind)}get isEmoji(){return!!this._def.checks.find(e=>"emoji"===e.kind)}get isUUID(){return!!this._def.checks.find(e=>"uuid"===e.kind)}get isNANOID(){return!!this._def.checks.find(e=>"nanoid"===e.kind)}get isCUID(){return!!this._def.checks.find(e=>"cuid"===e.kind)}get isCUID2(){return!!this._def.checks.find(e=>"cuid2"===e.kind)}get isULID(){return!!this._def.checks.find(e=>"ulid"===e.kind)}get isIP(){return!!this._def.checks.find(e=>"ip"===e.kind)}get isCIDR(){return!!this._def.checks.find(e=>"cidr"===e.kind)}get isBase64(){return!!this._def.checks.find(e=>"base64"===e.kind)}get isBase64url(){return!!this._def.checks.find(e=>"base64url"===e.kind)}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function qe(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,i=n>r?n:r;return parseInt(e.toFixed(i).replace(".",""))%parseInt(t.toFixed(i).replace(".",""))/Math.pow(10,i)}Ve.create=e=>{var t;return new Ve({checks:[],typeName:Pt.ZodString,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...ge(e)})};class Be extends ve{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==$.number){const t=this._getOrReturnCtx(e);return ee(t,{code:W.invalid_type,expected:$.number,received:t.parsedType}),ne}let t;const n=new te;for(const r of this._def.checks)"int"===r.kind?G.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),ee(t,{code:W.invalid_type,expected:"integer",received:"float",message:r.message}),n.dirty()):"min"===r.kind?(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),ee(t,{code:W.too_small,minimum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty()):"max"===r.kind?(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),ee(t,{code:W.too_big,maximum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty()):"multipleOf"===r.kind?0!==qe(e.data,r.value)&&(t=this._getOrReturnCtx(e,t),ee(t,{code:W.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):"finite"===r.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),ee(t,{code:W.not_finite,message:r.message}),n.dirty()):G.assertNever(r);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,de.toString(t))}gt(e,t){return this.setLimit("min",e,!1,de.toString(t))}lte(e,t){return this.setLimit("max",e,!0,de.toString(t))}lt(e,t){return this.setLimit("max",e,!1,de.toString(t))}setLimit(e,t,n,r){return new Be({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:de.toString(r)}]})}_addCheck(e){return new Be({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:de.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:de.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:de.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:de.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:de.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:de.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:de.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:de.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:de.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>"int"===e.kind||"multipleOf"===e.kind&&G.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const n of this._def.checks){if("finite"===n.kind||"int"===n.kind||"multipleOf"===n.kind)return!0;"min"===n.kind?(null===t||n.value>t)&&(t=n.value):"max"===n.kind&&(null===e||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}}Be.create=e=>new Be({checks:[],typeName:Pt.ZodNumber,coerce:(null==e?void 0:e.coerce)||!1,...ge(e)});class Ge extends ve{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch(t){return this._getInvalidInput(e)}if(this._getType(e)!==$.bigint)return this._getInvalidInput(e);let t;const n=new te;for(const r of this._def.checks)"min"===r.kind?(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),ee(t,{code:W.too_small,type:"bigint",minimum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty()):"max"===r.kind?(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),ee(t,{code:W.too_big,type:"bigint",maximum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty()):"multipleOf"===r.kind?e.data%r.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),ee(t,{code:W.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):G.assertNever(r);return{status:n.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return ee(t,{code:W.invalid_type,expected:$.bigint,received:t.parsedType}),ne}gte(e,t){return this.setLimit("min",e,!0,de.toString(t))}gt(e,t){return this.setLimit("min",e,!1,de.toString(t))}lte(e,t){return this.setLimit("max",e,!0,de.toString(t))}lt(e,t){return this.setLimit("max",e,!1,de.toString(t))}setLimit(e,t,n,r){return new Ge({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:de.toString(r)}]})}_addCheck(e){return new Ge({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:de.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:de.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:de.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:de.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:de.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}Ge.create=e=>{var t;return new Ge({checks:[],typeName:Pt.ZodBigInt,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...ge(e)})};class He extends ve{_parse(e){if(this._def.coerce&&(e.data=Boolean(e.data)),this._getType(e)!==$.boolean){const t=this._getOrReturnCtx(e);return ee(t,{code:W.invalid_type,expected:$.boolean,received:t.parsedType}),ne}return ie(e.data)}}He.create=e=>new He({typeName:Pt.ZodBoolean,coerce:(null==e?void 0:e.coerce)||!1,...ge(e)});class $e extends ve{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==$.date){const t=this._getOrReturnCtx(e);return ee(t,{code:W.invalid_type,expected:$.date,received:t.parsedType}),ne}if(isNaN(e.data.getTime()))return ee(this._getOrReturnCtx(e),{code:W.invalid_date}),ne;const t=new te;let n;for(const r of this._def.checks)"min"===r.kind?e.data.getTime()<r.value&&(n=this._getOrReturnCtx(e,n),ee(n,{code:W.too_small,message:r.message,inclusive:!0,exact:!1,minimum:r.value,type:"date"}),t.dirty()):"max"===r.kind?e.data.getTime()>r.value&&(n=this._getOrReturnCtx(e,n),ee(n,{code:W.too_big,message:r.message,inclusive:!0,exact:!1,maximum:r.value,type:"date"}),t.dirty()):G.assertNever(r);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(e){return new $e({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:de.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:de.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}$e.create=e=>new $e({checks:[],coerce:(null==e?void 0:e.coerce)||!1,typeName:Pt.ZodDate,...ge(e)});class Ze extends ve{_parse(e){if(this._getType(e)!==$.symbol){const t=this._getOrReturnCtx(e);return ee(t,{code:W.invalid_type,expected:$.symbol,received:t.parsedType}),ne}return ie(e.data)}}Ze.create=e=>new Ze({typeName:Pt.ZodSymbol,...ge(e)});class We extends ve{_parse(e){if(this._getType(e)!==$.undefined){const t=this._getOrReturnCtx(e);return ee(t,{code:W.invalid_type,expected:$.undefined,received:t.parsedType}),ne}return ie(e.data)}}We.create=e=>new We({typeName:Pt.ZodUndefined,...ge(e)});class Je extends ve{_parse(e){if(this._getType(e)!==$.null){const t=this._getOrReturnCtx(e);return ee(t,{code:W.invalid_type,expected:$.null,received:t.parsedType}),ne}return ie(e.data)}}Je.create=e=>new Je({typeName:Pt.ZodNull,...ge(e)});class Ke extends ve{constructor(){super(...arguments),this._any=!0}_parse(e){return ie(e.data)}}Ke.create=e=>new Ke({typeName:Pt.ZodAny,...ge(e)});class Ye extends ve{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ie(e.data)}}Ye.create=e=>new Ye({typeName:Pt.ZodUnknown,...ge(e)});class Qe extends ve{_parse(e){const t=this._getOrReturnCtx(e);return ee(t,{code:W.invalid_type,expected:$.never,received:t.parsedType}),ne}}Qe.create=e=>new Qe({typeName:Pt.ZodNever,...ge(e)});class Xe extends ve{_parse(e){if(this._getType(e)!==$.undefined){const t=this._getOrReturnCtx(e);return ee(t,{code:W.invalid_type,expected:$.void,received:t.parsedType}),ne}return ie(e.data)}}Xe.create=e=>new Xe({typeName:Pt.ZodVoid,...ge(e)});class et extends ve{_parse(e){const{ctx:t,status:n}=this._processInputParams(e),r=this._def;if(t.parsedType!==$.array)return ee(t,{code:W.invalid_type,expected:$.array,received:t.parsedType}),ne;if(null!==r.exactLength){const e=t.data.length>r.exactLength.value,i=t.data.length<r.exactLength.value;(e||i)&&(ee(t,{code:e?W.too_big:W.too_small,minimum:i?r.exactLength.value:void 0,maximum:e?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),n.dirty())}if(null!==r.minLength&&t.data.length<r.minLength.value&&(ee(t,{code:W.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),n.dirty()),null!==r.maxLength&&t.data.length>r.maxLength.value&&(ee(t,{code:W.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map((e,n)=>r.type._parseAsync(new he(t,e,t.path,n)))).then(e=>te.mergeArray(n,e));const i=[...t.data].map((e,n)=>r.type._parseSync(new he(t,e,t.path,n)));return te.mergeArray(n,i)}get element(){return this._def.type}min(e,t){return new et({...this._def,minLength:{value:e,message:de.toString(t)}})}max(e,t){return new et({...this._def,maxLength:{value:e,message:de.toString(t)}})}length(e,t){return new et({...this._def,exactLength:{value:e,message:de.toString(t)}})}nonempty(e){return this.min(1,e)}}function tt(e){if(e instanceof nt){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=xt.create(tt(r))}return new nt({...e._def,shape:()=>t})}return e instanceof et?new et({...e._def,type:tt(e.element)}):e instanceof xt?xt.create(tt(e.unwrap())):e instanceof _t?_t.create(tt(e.unwrap())):e instanceof lt?lt.create(e.items.map(e=>tt(e))):e}et.create=(e,t)=>new et({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Pt.ZodArray,...ge(t)});class nt extends ve{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),t=G.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==$.object){const t=this._getOrReturnCtx(e);return ee(t,{code:W.invalid_type,expected:$.object,received:t.parsedType}),ne}const{status:t,ctx:n}=this._processInputParams(e),{shape:r,keys:i}=this._getCached(),o=[];if(!(this._def.catchall instanceof Qe&&"strip"===this._def.unknownKeys))for(const e in n.data)i.includes(e)||o.push(e);const a=[];for(const e of i){const t=r[e],i=n.data[e];a.push({key:{status:"valid",value:e},value:t._parse(new he(n,i,n.path,e)),alwaysSet:e in n.data})}if(this._def.catchall instanceof Qe){const e=this._def.unknownKeys;if("passthrough"===e)for(const e of o)a.push({key:{status:"valid",value:e},value:{status:"valid",value:n.data[e]}});else if("strict"===e)o.length>0&&(ee(n,{code:W.unrecognized_keys,keys:o}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const t of o){const r=n.data[t];a.push({key:{status:"valid",value:t},value:e._parse(new he(n,r,n.path,t)),alwaysSet:t in n.data})}}return n.common.async?Promise.resolve().then(async()=>{const e=[];for(const t of a){const n=await t.key,r=await t.value;e.push({key:n,value:r,alwaysSet:t.alwaysSet})}return e}).then(e=>te.mergeObjectSync(t,e)):te.mergeObjectSync(t,a)}get shape(){return this._def.shape()}strict(e){return de.errToObj,new nt({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,n)=>{var r,i,o,a;const s=null!==(o=null===(i=(r=this._def).errorMap)||void 0===i?void 0:i.call(r,t,n).message)&&void 0!==o?o:n.defaultError;return"unrecognized_keys"===t.code?{message:null!==(a=de.errToObj(e).message)&&void 0!==a?a:s}:{message:s}}}:{}})}strip(){return new nt({...this._def,unknownKeys:"strip"})}passthrough(){return new nt({...this._def,unknownKeys:"passthrough"})}extend(e){return new nt({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new nt({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Pt.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new nt({...this._def,catchall:e})}pick(e){const t={};return G.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(t[n]=this.shape[n])}),new nt({...this._def,shape:()=>t})}omit(e){const t={};return G.objectKeys(this.shape).forEach(n=>{e[n]||(t[n]=this.shape[n])}),new nt({...this._def,shape:()=>t})}deepPartial(){return tt(this)}partial(e){const t={};return G.objectKeys(this.shape).forEach(n=>{const r=this.shape[n];e&&!e[n]?t[n]=r:t[n]=r.optional()}),new nt({...this._def,shape:()=>t})}required(e){const t={};return G.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])t[n]=this.shape[n];else{let e=this.shape[n];for(;e instanceof xt;)e=e._def.innerType;t[n]=e}}),new nt({...this._def,shape:()=>t})}keyof(){return mt(G.objectKeys(this.shape))}}nt.create=(e,t)=>new nt({shape:()=>e,unknownKeys:"strip",catchall:Qe.create(),typeName:Pt.ZodObject,...ge(t)}),nt.strictCreate=(e,t)=>new nt({shape:()=>e,unknownKeys:"strict",catchall:Qe.create(),typeName:Pt.ZodObject,...ge(t)}),nt.lazycreate=(e,t)=>new nt({shape:e,unknownKeys:"strip",catchall:Qe.create(),typeName:Pt.ZodObject,...ge(t)});class rt extends ve{_parse(e){const{ctx:t}=this._processInputParams(e),n=this._def.options;if(t.common.async)return Promise.all(n.map(async e=>{const n={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:n}),ctx:n}})).then(function(e){for(const t of e)if("valid"===t.result.status)return t.result;for(const n of e)if("dirty"===n.result.status)return t.common.issues.push(...n.ctx.common.issues),n.result;const n=e.map(e=>new J(e.ctx.common.issues));return ee(t,{code:W.invalid_union,unionErrors:n}),ne});{let e;const r=[];for(const i of n){const n={...t,common:{...t.common,issues:[]},parent:null},o=i._parseSync({data:t.data,path:t.path,parent:n});if("valid"===o.status)return o;"dirty"!==o.status||e||(e={result:o,ctx:n}),n.common.issues.length&&r.push(n.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const i=r.map(e=>new J(e));return ee(t,{code:W.invalid_union,unionErrors:i}),ne}}get options(){return this._def.options}}rt.create=(e,t)=>new rt({options:e,typeName:Pt.ZodUnion,...ge(t)});const it=e=>e instanceof ft?it(e.schema):e instanceof bt?it(e.innerType()):e instanceof ht?[e.value]:e instanceof gt?e.options:e instanceof vt?G.objectValues(e.enum):e instanceof wt?it(e._def.innerType):e instanceof We?[void 0]:e instanceof Je?[null]:e instanceof xt?[void 0,...it(e.unwrap())]:e instanceof _t?[null,...it(e.unwrap())]:e instanceof Tt||e instanceof Ot?it(e.unwrap()):e instanceof Ct?it(e._def.innerType):[];class ot extends ve{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==$.object)return ee(t,{code:W.invalid_type,expected:$.object,received:t.parsedType}),ne;const n=this.discriminator,r=t.data[n],i=this.optionsMap.get(r);return i?t.common.async?i._parseAsync({data:t.data,path:t.path,parent:t}):i._parseSync({data:t.data,path:t.path,parent:t}):(ee(t,{code:W.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),ne)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,n){const r=new Map;for(const n of t){const t=it(n.shape[e]);if(!t.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const i of t){if(r.has(i))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(i)}`);r.set(i,n)}}return new ot({typeName:Pt.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:r,...ge(n)})}}function at(e,t){const n=Z(e),r=Z(t);if(e===t)return{valid:!0,data:e};if(n===$.object&&r===$.object){const n=G.objectKeys(t),r=G.objectKeys(e).filter(e=>-1!==n.indexOf(e)),i={...e,...t};for(const n of r){const r=at(e[n],t[n]);if(!r.valid)return{valid:!1};i[n]=r.data}return{valid:!0,data:i}}if(n===$.array&&r===$.array){if(e.length!==t.length)return{valid:!1};const n=[];for(let r=0;r<e.length;r++){const i=at(e[r],t[r]);if(!i.valid)return{valid:!1};n.push(i.data)}return{valid:!0,data:n}}return n===$.date&&r===$.date&&+e===+t?{valid:!0,data:e}:{valid:!1}}class st extends ve{_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=(e,r)=>{if(oe(e)||oe(r))return ne;const i=at(e.value,r.value);return i.valid?((ae(e)||ae(r))&&t.dirty(),{status:t.value,value:i.data}):(ee(n,{code:W.invalid_intersection_types}),ne)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([e,t])=>r(e,t)):r(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}st.create=(e,t,n)=>new st({left:e,right:t,typeName:Pt.ZodIntersection,...ge(n)});class lt extends ve{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==$.array)return ee(n,{code:W.invalid_type,expected:$.array,received:n.parsedType}),ne;if(n.data.length<this._def.items.length)return ee(n,{code:W.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),ne;!this._def.rest&&n.data.length>this._def.items.length&&(ee(n,{code:W.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const r=[...n.data].map((e,t)=>{const r=this._def.items[t]||this._def.rest;return r?r._parse(new he(n,e,n.path,t)):null}).filter(e=>!!e);return n.common.async?Promise.all(r).then(e=>te.mergeArray(t,e)):te.mergeArray(t,r)}get items(){return this._def.items}rest(e){return new lt({...this._def,rest:e})}}lt.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new lt({items:e,typeName:Pt.ZodTuple,rest:null,...ge(t)})};class ut extends ve{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==$.object)return ee(n,{code:W.invalid_type,expected:$.object,received:n.parsedType}),ne;const r=[],i=this._def.keyType,o=this._def.valueType;for(const e in n.data)r.push({key:i._parse(new he(n,e,n.path,e)),value:o._parse(new he(n,n.data[e],n.path,e)),alwaysSet:e in n.data});return n.common.async?te.mergeObjectAsync(t,r):te.mergeObjectSync(t,r)}get element(){return this._def.valueType}static create(e,t,n){return new ut(t instanceof ve?{keyType:e,valueType:t,typeName:Pt.ZodRecord,...ge(n)}:{keyType:Ve.create(),valueType:e,typeName:Pt.ZodRecord,...ge(t)})}}class ct extends ve{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==$.map)return ee(n,{code:W.invalid_type,expected:$.map,received:n.parsedType}),ne;const r=this._def.keyType,i=this._def.valueType,o=[...n.data.entries()].map(([e,t],o)=>({key:r._parse(new he(n,e,n.path,[o,"key"])),value:i._parse(new he(n,t,n.path,[o,"value"]))}));if(n.common.async){const e=new Map;return Promise.resolve().then(async()=>{for(const n of o){const r=await n.key,i=await n.value;if("aborted"===r.status||"aborted"===i.status)return ne;"dirty"!==r.status&&"dirty"!==i.status||t.dirty(),e.set(r.value,i.value)}return{status:t.value,value:e}})}{const e=new Map;for(const n of o){const r=n.key,i=n.value;if("aborted"===r.status||"aborted"===i.status)return ne;"dirty"!==r.status&&"dirty"!==i.status||t.dirty(),e.set(r.value,i.value)}return{status:t.value,value:e}}}}ct.create=(e,t,n)=>new ct({valueType:t,keyType:e,typeName:Pt.ZodMap,...ge(n)});class dt extends ve{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==$.set)return ee(n,{code:W.invalid_type,expected:$.set,received:n.parsedType}),ne;const r=this._def;null!==r.minSize&&n.data.size<r.minSize.value&&(ee(n,{code:W.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),t.dirty()),null!==r.maxSize&&n.data.size>r.maxSize.value&&(ee(n,{code:W.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),t.dirty());const i=this._def.valueType;function o(e){const n=new Set;for(const r of e){if("aborted"===r.status)return ne;"dirty"===r.status&&t.dirty(),n.add(r.value)}return{status:t.value,value:n}}const a=[...n.data.values()].map((e,t)=>i._parse(new he(n,e,n.path,t)));return n.common.async?Promise.all(a).then(e=>o(e)):o(a)}min(e,t){return new dt({...this._def,minSize:{value:e,message:de.toString(t)}})}max(e,t){return new dt({...this._def,maxSize:{value:e,message:de.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}dt.create=(e,t)=>new dt({valueType:e,minSize:null,maxSize:null,typeName:Pt.ZodSet,...ge(t)});class pt extends ve{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==$.function)return ee(t,{code:W.invalid_type,expected:$.function,received:t.parsedType}),ne;function n(e,n){return X({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Q(),K].filter(e=>!!e),issueData:{code:W.invalid_arguments,argumentsError:n}})}function r(e,n){return X({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Q(),K].filter(e=>!!e),issueData:{code:W.invalid_return_type,returnTypeError:n}})}const i={errorMap:t.common.contextualErrorMap},o=t.data;if(this._def.returns instanceof yt){const e=this;return ie(async function(...t){const a=new J([]),s=await e._def.args.parseAsync(t,i).catch(e=>{throw a.addIssue(n(t,e)),a}),l=await Reflect.apply(o,this,s);return await e._def.returns._def.type.parseAsync(l,i).catch(e=>{throw a.addIssue(r(l,e)),a})})}{const e=this;return ie(function(...t){const a=e._def.args.safeParse(t,i);if(!a.success)throw new J([n(t,a.error)]);const s=Reflect.apply(o,this,a.data),l=e._def.returns.safeParse(s,i);if(!l.success)throw new J([r(s,l.error)]);return l.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new pt({...this._def,args:lt.create(e).rest(Ye.create())})}returns(e){return new pt({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,n){return new pt({args:e||lt.create([]).rest(Ye.create()),returns:t||Ye.create(),typeName:Pt.ZodFunction,...ge(n)})}}class ft extends ve{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}ft.create=(e,t)=>new ft({getter:e,typeName:Pt.ZodLazy,...ge(t)});class ht extends ve{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return ee(t,{received:t.data,code:W.invalid_literal,expected:this._def.value}),ne}return{status:"valid",value:e.data}}get value(){return this._def.value}}function mt(e,t){return new gt({values:e,typeName:Pt.ZodEnum,...ge(t)})}ht.create=(e,t)=>new ht({value:e,typeName:Pt.ZodLiteral,...ge(t)});class gt extends ve{constructor(){super(...arguments),pe.set(this,void 0)}_parse(e){if("string"!=typeof e.data){const t=this._getOrReturnCtx(e),n=this._def.values;return ee(t,{expected:G.joinValues(n),received:t.parsedType,code:W.invalid_type}),ne}if(ue(this,pe,"f")||ce(this,pe,new Set(this._def.values),"f"),!ue(this,pe,"f").has(e.data)){const t=this._getOrReturnCtx(e),n=this._def.values;return ee(t,{received:t.data,code:W.invalid_enum_value,options:n}),ne}return ie(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return gt.create(e,{...this._def,...t})}exclude(e,t=this._def){return gt.create(this.options.filter(t=>!e.includes(t)),{...this._def,...t})}}pe=new WeakMap,gt.create=mt;class vt extends ve{constructor(){super(...arguments),fe.set(this,void 0)}_parse(e){const t=G.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==$.string&&n.parsedType!==$.number){const e=G.objectValues(t);return ee(n,{expected:G.joinValues(e),received:n.parsedType,code:W.invalid_type}),ne}if(ue(this,fe,"f")||ce(this,fe,new Set(G.getValidEnumValues(this._def.values)),"f"),!ue(this,fe,"f").has(e.data)){const e=G.objectValues(t);return ee(n,{received:n.data,code:W.invalid_enum_value,options:e}),ne}return ie(e.data)}get enum(){return this._def.values}}fe=new WeakMap,vt.create=(e,t)=>new vt({values:e,typeName:Pt.ZodNativeEnum,...ge(t)});class yt extends ve{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==$.promise&&!1===t.common.async)return ee(t,{code:W.invalid_type,expected:$.promise,received:t.parsedType}),ne;const n=t.parsedType===$.promise?t.data:Promise.resolve(t.data);return ie(n.then(e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap})))}}yt.create=(e,t)=>new yt({type:e,typeName:Pt.ZodPromise,...ge(t)});class bt extends ve{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Pt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=this._def.effect||null,i={addIssue:e=>{ee(n,e),e.fatal?t.abort():t.dirty()},get path(){return n.path}};if(i.addIssue=i.addIssue.bind(i),"preprocess"===r.type){const e=r.transform(n.data,i);if(n.common.async)return Promise.resolve(e).then(async e=>{if("aborted"===t.value)return ne;const r=await this._def.schema._parseAsync({data:e,path:n.path,parent:n});return"aborted"===r.status?ne:"dirty"===r.status||"dirty"===t.value?re(r.value):r});{if("aborted"===t.value)return ne;const r=this._def.schema._parseSync({data:e,path:n.path,parent:n});return"aborted"===r.status?ne:"dirty"===r.status||"dirty"===t.value?re(r.value):r}}if("refinement"===r.type){const e=e=>{const t=r.refinement(e,i);if(n.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===n.common.async){const r=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===r.status?ne:("dirty"===r.status&&t.dirty(),e(r.value),{status:t.value,value:r.value})}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(n=>"aborted"===n.status?ne:("dirty"===n.status&&t.dirty(),e(n.value).then(()=>({status:t.value,value:n.value}))))}if("transform"===r.type){if(!1===n.common.async){const e=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!se(e))return e;const o=r.transform(e.value,i);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:o}}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(e=>se(e)?Promise.resolve(r.transform(e.value,i)).then(e=>({status:t.value,value:e})):e)}G.assertNever(r)}}bt.create=(e,t,n)=>new bt({schema:e,typeName:Pt.ZodEffects,effect:t,...ge(n)}),bt.createWithPreprocess=(e,t,n)=>new bt({schema:t,effect:{type:"preprocess",transform:e},typeName:Pt.ZodEffects,...ge(n)});class xt extends ve{_parse(e){return this._getType(e)===$.undefined?ie(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}xt.create=(e,t)=>new xt({innerType:e,typeName:Pt.ZodOptional,...ge(t)});class _t extends ve{_parse(e){return this._getType(e)===$.null?ie(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}_t.create=(e,t)=>new _t({innerType:e,typeName:Pt.ZodNullable,...ge(t)});class wt extends ve{_parse(e){const{ctx:t}=this._processInputParams(e);let n=t.data;return t.parsedType===$.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}wt.create=(e,t)=>new wt({innerType:e,typeName:Pt.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...ge(t)});class Ct extends ve{_parse(e){const{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},r=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return le(r)?r.then(e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new J(n.common.issues)},input:n.data})})):{status:"valid",value:"valid"===r.status?r.value:this._def.catchValue({get error(){return new J(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Ct.create=(e,t)=>new Ct({innerType:e,typeName:Pt.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...ge(t)});class St extends ve{_parse(e){if(this._getType(e)!==$.nan){const t=this._getOrReturnCtx(e);return ee(t,{code:W.invalid_type,expected:$.nan,received:t.parsedType}),ne}return{status:"valid",value:e.data}}}St.create=e=>new St({typeName:Pt.ZodNaN,...ge(e)});const Et=Symbol("zod_brand");class Tt extends ve{_parse(e){const{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}}class kt extends ve{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const e=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?ne:"dirty"===e.status?(t.dirty(),re(e.value)):this._def.out._parseAsync({data:e.value,path:n.path,parent:n})})();{const e=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?ne:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:n.path,parent:n})}}static create(e,t){return new kt({in:e,out:t,typeName:Pt.ZodPipeline})}}class Ot extends ve{_parse(e){const t=this._def.innerType._parse(e),n=e=>(se(e)&&(e.value=Object.freeze(e.value)),e);return le(t)?t.then(e=>n(e)):n(t)}unwrap(){return this._def.innerType}}function Nt(e,t){const n="function"==typeof e?e(t):"string"==typeof e?{message:e}:e;return"string"==typeof n?{message:n}:n}function At(e,t={},n){return e?Ke.create().superRefine((r,i)=>{var o,a;const s=e(r);if(s instanceof Promise)return s.then(e=>{var o,a;if(!e){const e=Nt(t,r),s=null===(a=null!==(o=e.fatal)&&void 0!==o?o:n)||void 0===a||a;i.addIssue({code:"custom",...e,fatal:s})}});if(!s){const e=Nt(t,r),s=null===(a=null!==(o=e.fatal)&&void 0!==o?o:n)||void 0===a||a;i.addIssue({code:"custom",...e,fatal:s})}}):Ke.create()}Ot.create=(e,t)=>new Ot({innerType:e,typeName:Pt.ZodReadonly,...ge(t)});const It={object:nt.lazycreate};var Pt;!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(Pt||(Pt={}));const jt=Ve.create,Rt=Be.create,Mt=St.create,Dt=Ge.create,Lt=He.create,Ut=$e.create,Ft=Ze.create,zt=We.create,Vt=Je.create,qt=Ke.create,Bt=Ye.create,Gt=Qe.create,Ht=Xe.create,$t=et.create,Zt=nt.create,Wt=nt.strictCreate,Jt=rt.create,Kt=ot.create,Yt=st.create,Qt=lt.create,Xt=ut.create,en=ct.create,tn=dt.create,nn=pt.create,rn=ft.create,on=ht.create,an=gt.create,sn=vt.create,ln=yt.create,un=bt.create,cn=xt.create,dn=_t.create,pn=bt.createWithPreprocess,fn=kt.create,hn={string:e=>Ve.create({...e,coerce:!0}),number:e=>Be.create({...e,coerce:!0}),boolean:e=>He.create({...e,coerce:!0}),bigint:e=>Ge.create({...e,coerce:!0}),date:e=>$e.create({...e,coerce:!0})},mn=ne;var gn=Object.freeze({__proto__:null,defaultErrorMap:K,setErrorMap:function(e){Y=e},getErrorMap:Q,makeIssue:X,EMPTY_PATH:[],addIssueToContext:ee,ParseStatus:te,INVALID:ne,DIRTY:re,OK:ie,isAborted:oe,isDirty:ae,isValid:se,isAsync:le,get util(){return G},get objectUtil(){return H},ZodParsedType:$,getParsedType:Z,ZodType:ve,datetimeRegex:Le,ZodString:Ve,ZodNumber:Be,ZodBigInt:Ge,ZodBoolean:He,ZodDate:$e,ZodSymbol:Ze,ZodUndefined:We,ZodNull:Je,ZodAny:Ke,ZodUnknown:Ye,ZodNever:Qe,ZodVoid:Xe,ZodArray:et,ZodObject:nt,ZodUnion:rt,ZodDiscriminatedUnion:ot,ZodIntersection:st,ZodTuple:lt,ZodRecord:ut,ZodMap:ct,ZodSet:dt,ZodFunction:pt,ZodLazy:ft,ZodLiteral:ht,ZodEnum:gt,ZodNativeEnum:vt,ZodPromise:yt,ZodEffects:bt,ZodTransformer:bt,ZodOptional:xt,ZodNullable:_t,ZodDefault:wt,ZodCatch:Ct,ZodNaN:St,BRAND:Et,ZodBranded:Tt,ZodPipeline:kt,ZodReadonly:Ot,custom:At,Schema:ve,ZodSchema:ve,late:It,get ZodFirstPartyTypeKind(){return Pt},coerce:hn,any:qt,array:$t,bigint:Dt,boolean:Lt,date:Ut,discriminatedUnion:Kt,effect:un,enum:an,function:nn,instanceof:(e,t={message:`Input not instance of ${e.name}`})=>At(t=>t instanceof e,t),intersection:Yt,lazy:rn,literal:on,map:en,nan:Mt,nativeEnum:sn,never:Gt,null:Vt,nullable:dn,number:Rt,object:Zt,oboolean:()=>Lt().optional(),onumber:()=>Rt().optional(),optional:cn,ostring:()=>jt().optional(),pipeline:fn,preprocess:pn,promise:ln,record:Xt,set:tn,strictObject:Wt,string:jt,symbol:Ft,transformer:un,tuple:Qt,undefined:zt,union:Jt,unknown:Bt,void:Ht,NEVER:mn,ZodIssueCode:W,quotelessJson:e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),ZodError:J});class vn{}function yn(e,t){return e.replace(/\{([^}]+)\}/g,(e,n)=>{if(Object.prototype.hasOwnProperty.call(t,n)){const e=t[n];return null!=e?String(e):""}throw new Error(`Key '${n}' not found in valueMap.`)})}function bn(e,t,n){for(let r=0;r<t.length-1;r++){const i=t[r];if(i.endsWith("[]")){const o=i.slice(0,-2);if(!(o in e)){if(!Array.isArray(n))throw new Error(`Value must be a list given an array path ${i}`);e[o]=Array.from({length:n.length},()=>({}))}if(Array.isArray(e[o])){const i=e[o];if(Array.isArray(n))for(let e=0;e<i.length;e++)bn(i[e],t.slice(r+1),n[e]);else for(const e of i)bn(e,t.slice(r+1),n)}return}if(i.endsWith("[0]")){const o=i.slice(0,-3);return o in e||(e[o]=[{}]),void bn(e[o][0],t.slice(r+1),n)}e[i]&&"object"==typeof e[i]||(e[i]={}),e=e[i]}const r=t[t.length-1],i=e[r];if(void 0!==i){if(!n||"object"==typeof n&&0===Object.keys(n).length)return;if(n===i)return;if("object"!=typeof i||"object"!=typeof n||null===i||null===n)throw new Error(`Cannot set value for an existing key. Key: ${r}`);Object.assign(i,n)}else e[r]=n}function xn(e,t){try{if(1===t.length&&"_self"===t[0])return e;for(let n=0;n<t.length;n++){if("object"!=typeof e||null===e)return;const r=t[n];if(r.endsWith("[]")){const i=r.slice(0,-2);if(i in e){const r=e[i];if(!Array.isArray(r))return;return r.map(e=>xn(e,t.slice(n+1)))}return}e=e[r]}return e}catch(e){if(e instanceof TypeError)return;throw e}}var _n,wn,Cn,Sn,En,Tn,kn,On,Nn,An,In,Pn,jn,Rn,Mn,Dn,Ln,Un,Fn,zn,Vn,qn,Bn,Gn,Hn,$n,Zn,Wn,Jn,Kn,Yn,Qn,Xn,er,tr,nr,rr,ir,or;!function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"}(_n||(_n={})),function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"}(wn||(wn={})),function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"}(Cn||(Cn={})),function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"}(Sn||(Sn={})),function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"}(En||(En={})),function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"}(Tn||(Tn={})),function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"}(kn||(kn={})),function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"}(On||(On={})),function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"}(Nn||(Nn={})),function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"}(An||(An={})),function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"}(In||(In={})),function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT"}(Pn||(Pn={})),function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"}(jn||(jn={})),function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"}(Rn||(Rn={})),function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"}(Mn||(Mn={})),function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"}(Dn||(Dn={})),function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"}(Ln||(Ln={})),function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"}(Un||(Un={})),function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"}(Fn||(Fn={})),function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"}(zn||(zn={})),function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"}(Vn||(Vn={})),function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"}(qn||(qn={})),function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"}(Bn||(Bn={})),function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"}(Gn||(Gn={})),function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi"}(Hn||(Hn={})),function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"}($n||($n={})),function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"}(Zn||(Zn={})),function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"}(Wn||(Wn={})),function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"}(Jn||(Jn={})),function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"}(Kn||(Kn={})),function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"}(Yn||(Yn={})),function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"}(Qn||(Qn={})),function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"}(Xn||(Xn={})),function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"}(er||(er={})),function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"}(tr||(tr={})),function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"}(nr||(nr={})),function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"}(rr||(rr={})),function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"}(ir||(ir={})),function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"}(or||(or={}));class ar{get text(){var e,t,n,r,i,o,a,s;if(0===(null===(r=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===r?void 0:r.length))return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let l="",u=!1;const c=[];for(const e of null!==(s=null===(a=null===(o=null===(i=this.candidates)||void 0===i?void 0:i[0])||void 0===o?void 0:o.content)||void 0===a?void 0:a.parts)&&void 0!==s?s:[]){for(const[t,n]of Object.entries(e))"text"===t||"thought"===t||null===n&&void 0===n||c.push(t);if("string"==typeof e.text){if("boolean"==typeof e.thought&&e.thought)continue;u=!0,l+=e.text}}return c.length>0&&console.warn(`there are non-text parts ${c} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),u?l:void 0}get data(){var e,t,n,r,i,o,a,s;if(0===(null===(r=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===r?void 0:r.length))return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let l="";const u=[];for(const e of null!==(s=null===(a=null===(o=null===(i=this.candidates)||void 0===i?void 0:i[0])||void 0===o?void 0:o.content)||void 0===a?void 0:a.parts)&&void 0!==s?s:[]){for(const[t,n]of Object.entries(e))"inlineData"===t||null===n&&void 0===n||u.push(t);e.inlineData&&"string"==typeof e.inlineData.data&&(l+=atob(e.inlineData.data))}return u.length>0&&console.warn(`there are non-data parts ${u} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),l.length>0?btoa(l):void 0}get functionCalls(){var e,t,n,r,i,o,a,s;if(0===(null===(r=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===r?void 0:r.length))return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const l=null===(s=null===(a=null===(o=null===(i=this.candidates)||void 0===i?void 0:i[0])||void 0===o?void 0:o.content)||void 0===a?void 0:a.parts)||void 0===s?void 0:s.filter(e=>e.functionCall).map(e=>e.functionCall).filter(e=>void 0!==e);return 0!==(null==l?void 0:l.length)?l:void 0}get executableCode(){var e,t,n,r,i,o,a,s,l;if(0===(null===(r=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===r?void 0:r.length))return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const u=null===(s=null===(a=null===(o=null===(i=this.candidates)||void 0===i?void 0:i[0])||void 0===o?void 0:o.content)||void 0===a?void 0:a.parts)||void 0===s?void 0:s.filter(e=>e.executableCode).map(e=>e.executableCode).filter(e=>void 0!==e);return 0!==(null==u?void 0:u.length)?null===(l=null==u?void 0:u[0])||void 0===l?void 0:l.code:void 0}get codeExecutionResult(){var e,t,n,r,i,o,a,s,l;if(0===(null===(r=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===r?void 0:r.length))return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const u=null===(s=null===(a=null===(o=null===(i=this.candidates)||void 0===i?void 0:i[0])||void 0===o?void 0:o.content)||void 0===a?void 0:a.parts)||void 0===s?void 0:s.filter(e=>e.codeExecutionResult).map(e=>e.codeExecutionResult).filter(e=>void 0!==e);return 0!==(null==u?void 0:u.length)?null===(l=null==u?void 0:u[0])||void 0===l?void 0:l.output:void 0}}class sr{}class lr{}class ur{}class cr{}class dr{}class pr{}class fr{}class hr{}class mr{}class gr{}class vr{}class yr{}class br{constructor(e){const t={};for(const n of e.headers.entries())t[n[0]]=n[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class xr{}class _r{}class wr{get text(){var e,t,n;let r="",i=!1;const o=[];for(const a of null!==(n=null===(t=null===(e=this.serverContent)||void 0===e?void 0:e.modelTurn)||void 0===t?void 0:t.parts)&&void 0!==n?n:[]){for(const[e,t]of Object.entries(a))"text"!==e&&"thought"!==e&&null!==t&&o.push(e);if("string"==typeof a.text){if("boolean"==typeof a.thought&&a.thought)continue;i=!0,r+=a.text}}return o.length>0&&console.warn(`there are non-text parts ${o} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),i?r:void 0}get data(){var e,t,n;let r="";const i=[];for(const o of null!==(n=null===(t=null===(e=this.serverContent)||void 0===e?void 0:e.modelTurn)||void 0===t?void 0:t.parts)&&void 0!==n?n:[]){for(const[e,t]of Object.entries(o))"inlineData"!==e&&null!==t&&i.push(e);o.inlineData&&"string"==typeof o.inlineData.data&&(r+=atob(o.inlineData.data))}return i.length>0&&console.warn(`there are non-data parts ${i} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class Cr{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}function Sr(e,t){if(!t||"string"!=typeof t)throw new Error("model is required and must be a string");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const e=t.split("/",2);return`publishers/${e[0]}/models/${e[1]}`}return`publishers/google/models/${t}`}return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function Er(e,t){const n=Sr(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function Tr(e,t){return Array.isArray(t)?t.map(e=>kr(0,e)):[kr(0,t)]}function kr(e,t){if("object"==typeof t&&null!==t)return t;throw new Error("Could not parse input as Blob. Unsupported blob type: "+typeof t)}function Or(e,t){if(null==t)throw new Error("PartUnion is required");if("object"==typeof t)return t;if("string"==typeof t)return{text:t};throw new Error("Unsupported part type: "+typeof t)}function Nr(e,t){if(null==t||Array.isArray(t)&&0===t.length)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>Or(0,e)):[Or(0,t)]}function Ar(e){return null!=e&&"object"==typeof e&&"parts"in e&&Array.isArray(e.parts)}function Ir(e){return null!=e&&"object"==typeof e&&"functionCall"in e}function Pr(e){return null!=e&&"object"==typeof e&&"functionResponse"in e}function jr(e,t){if(null==t)throw new Error("ContentUnion is required");return Ar(t)?t:{role:"user",parts:Nr(0,t)}}function Rr(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(e=>{const t=jr(0,e);return t.parts&&t.parts.length>0&&void 0!==t.parts[0].text?[t.parts[0].text]:[]});if(e.isVertexAI()){const e=jr(0,t);return e.parts&&e.parts.length>0&&void 0!==e.parts[0].text?[e.parts[0].text]:[]}return Array.isArray(t)?t.map(e=>jr(0,e)):[jr(0,t)]}function Mr(e,t){if(null==t||Array.isArray(t)&&0===t.length)throw new Error("contents are required");if(!Array.isArray(t)){if(Ir(t)||Pr(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[jr(0,t)]}const n=[],r=[],i=Ar(t[0]);for(const e of t){const t=Ar(e);if(t!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(t)n.push(e);else{if(Ir(e)||Pr(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");r.push(e)}}return i||n.push({role:"user",parts:Nr(0,r)}),n}const Dr=new Set(["type","format","title","description","default","items","minItems","maxItems","enum","properties","required","minProperties","maxProperties","minimum","maximum","minLength","maxLength","pattern","anyOf","propertyOrdering"]),Lr=gn.enum(["string","number","integer","object","array","boolean","null"]),Ur=gn.union([Lr,gn.array(Lr)]);function Fr(e){const t={},n=["items"],r=["anyOf"],i=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=e.anyOf;null!=o&&2==o.length&&("null"===o[0].type?(t.nullable=!0,e=o[1]):"null"===o[1].type&&(t.nullable=!0,e=o[0])),e.type instanceof Array&&function(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter(e=>"null"!==e);if(1===n.length)t.type=Object.values(Cn).includes(n[0].toUpperCase())?n[0].toUpperCase():Cn.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const e of n)t.anyOf.push({type:Object.values(Cn).includes(e.toUpperCase())?e.toUpperCase():Cn.TYPE_UNSPECIFIED})}}(e.type,t);for(const[o,a]of Object.entries(e))if(null!=a)if("type"==o){if("null"===a)throw new Error("type: null can not be the only possible type for the field.");if(a instanceof Array)continue;t.type=Object.values(Cn).includes(a.toUpperCase())?a.toUpperCase():Cn.TYPE_UNSPECIFIED}else if(n.includes(o))t[o]=Fr(a);else if(r.includes(o)){const e=[];for(const n of a)"null"!=n.type?e.push(Fr(n)):t.nullable=!0;t[o]=e}else if(i.includes(o)){const e={};for(const[t,n]of Object.entries(a))e[t]=Fr(n);t[o]=e}else{if("additionalProperties"===o)continue;t[o]=a}return t}function zr(e,t){return Object.keys(t).includes("$schema")?(delete t.$schema,Fr(function(e=!0){const t=gn.lazy(()=>{const n=gn.object({type:Ur.optional(),format:gn.string().optional(),title:gn.string().optional(),description:gn.string().optional(),default:gn.unknown().optional(),items:t.optional(),minItems:gn.coerce.string().optional(),maxItems:gn.coerce.string().optional(),enum:gn.array(gn.unknown()).optional(),properties:gn.record(gn.string(),t).optional(),required:gn.array(gn.string()).optional(),minProperties:gn.coerce.string().optional(),maxProperties:gn.coerce.string().optional(),propertyOrdering:gn.array(gn.string()).optional(),minimum:gn.number().optional(),maximum:gn.number().optional(),minLength:gn.coerce.string().optional(),maxLength:gn.coerce.string().optional(),pattern:gn.string().optional(),anyOf:gn.array(t).optional(),additionalProperties:gn.boolean().optional()});return e?n.strict():n});return t}().parse(t))):Fr(t)}function Vr(e,t){if("object"==typeof t)return t;if("string"==typeof t)return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error("Unsupported speechConfig type: "+typeof t)}function qr(e,t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Br(e,t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(e.parameters=zr(0,e.parameters)),e.response&&(e.response=zr(0,e.response));return t}function Gr(e,t){if(null==t)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const n=[];for(const e of t)n.push(e);return n}function Hr(e,t){if("string"!=typeof t)throw new Error("name must be a string");return function(e,t,n,r=1){const i=!t.startsWith(`${n}/`)&&t.split("/").length===r;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:i?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:i?`${n}/${t}`:t}(e,t,"cachedContents")}function $r(e,t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Zr(e,t){if("string"!=typeof t)throw new Error("fromImageBytes must be a string");return t}function Wr(e,t){var n;let r;var i;if(null!=(i=t)&&"object"==typeof i&&"name"in i&&(r=t.name),!(function(e){return null!=e&&"object"==typeof e&&"uri"in e}(t)&&(r=t.uri,void 0===r)||function(e){return null!=e&&"object"==typeof e&&"video"in e}(t)&&(r=null===(n=t.video)||void 0===n?void 0:n.uri,void 0===r))){if("string"==typeof t&&(r=t),void 0===r)throw new Error("Could not extract file name from the provided input.");if(r.startsWith("https://")){const e=r.split("files/")[1].match(/[a-z0-9]+/);if(null===e)throw new Error(`Could not extract file name from URI ${r}`);r=e[0]}else r.startsWith("files/")&&(r=r.split("files/")[1]);return r}}function Jr(e,t){let n;return n=e.isVertexAI()?t?"publishers/google/models":"models":t?"models":"tunedModels",n}function Kr(e,t){for(const e of["models","tunedModels","publisherModels"])if(Yr(t,e))return t[e];return[]}function Yr(e,t){return null!==e&&"object"==typeof e&&t in e}function Qr(e,t={}){const n=e,r={name:n.name,description:n.description,parameters:Fr(ti(n.inputSchema))};return t.behavior&&(r.behavior=t.behavior),{functionDeclarations:[r]}}function Xr(e){const t=[];for(const n of e)t.push(ti(n));return t}function ei(e){const t={};for(const[n,r]of Object.entries(e)){const e=r;t[n]=ti(e)}return t}function ti(e){const t=new Set(["items"]),n=new Set(["anyOf"]),r=new Set(["properties"]),i={};for(const[o,a]of Object.entries(e))if(t.has(o))i[o]=ti(a);else if(n.has(o))i[o]=Xr(a);else if(r.has(o))i[o]=ei(a);else if("type"===o){const e=a.toUpperCase();i[o]=Object.values(Cn).includes(e)?e:Cn.TYPE_UNSPECIFIED}else Dr.has(o)&&(i[o]=a);return i}function ni(e,t){const n={},r=xn(t,["parts"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>function(e,t){const n={},r=xn(t,["videoMetadata"]);null!=r&&bn(n,["videoMetadata"],function(e,t){const n={},r=xn(t,["fps"]);null!=r&&bn(n,["fps"],r);const i=xn(t,["endOffset"]);null!=i&&bn(n,["endOffset"],i);const o=xn(t,["startOffset"]);return null!=o&&bn(n,["startOffset"],o),n}(0,r));const i=xn(t,["thought"]);null!=i&&bn(n,["thought"],i);const o=xn(t,["inlineData"]);null!=o&&bn(n,["inlineData"],function(e,t){const n={};if(void 0!==xn(t,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const r=xn(t,["data"]);null!=r&&bn(n,["data"],r);const i=xn(t,["mimeType"]);return null!=i&&bn(n,["mimeType"],i),n}(0,o));const a=xn(t,["fileData"]);null!=a&&bn(n,["fileData"],function(e,t){const n={};if(void 0!==xn(t,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const r=xn(t,["fileUri"]);null!=r&&bn(n,["fileUri"],r);const i=xn(t,["mimeType"]);return null!=i&&bn(n,["mimeType"],i),n}(0,a));const s=xn(t,["thoughtSignature"]);null!=s&&bn(n,["thoughtSignature"],s);const l=xn(t,["codeExecutionResult"]);null!=l&&bn(n,["codeExecutionResult"],l);const u=xn(t,["executableCode"]);null!=u&&bn(n,["executableCode"],u);const c=xn(t,["functionCall"]);null!=c&&bn(n,["functionCall"],c);const d=xn(t,["functionResponse"]);null!=d&&bn(n,["functionResponse"],d);const p=xn(t,["text"]);return null!=p&&bn(n,["text"],p),n}(0,e))),bn(n,["parts"],e)}const i=xn(t,["role"]);return null!=i&&bn(n,["role"],i),n}function ri(e,t){const n={},r=xn(t,["functionDeclarations"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>function(e,t){const n={},r=xn(t,["behavior"]);null!=r&&bn(n,["behavior"],r);const i=xn(t,["description"]);null!=i&&bn(n,["description"],i);const o=xn(t,["name"]);null!=o&&bn(n,["name"],o);const a=xn(t,["parameters"]);null!=a&&bn(n,["parameters"],a);const s=xn(t,["response"]);return null!=s&&bn(n,["response"],s),n}(0,e))),bn(n,["functionDeclarations"],e)}if(void 0!==xn(t,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const i=xn(t,["googleSearch"]);null!=i&&bn(n,["googleSearch"],function(e,t){const n={},r=xn(t,["timeRangeFilter"]);return null!=r&&bn(n,["timeRangeFilter"],function(e,t){const n={},r=xn(t,["startTime"]);null!=r&&bn(n,["startTime"],r);const i=xn(t,["endTime"]);return null!=i&&bn(n,["endTime"],i),n}(0,r)),n}(0,i));const o=xn(t,["googleSearchRetrieval"]);if(null!=o&&bn(n,["googleSearchRetrieval"],function(e,t){const n={},r=xn(t,["dynamicRetrievalConfig"]);return null!=r&&bn(n,["dynamicRetrievalConfig"],function(e,t){const n={},r=xn(t,["mode"]);null!=r&&bn(n,["mode"],r);const i=xn(t,["dynamicThreshold"]);return null!=i&&bn(n,["dynamicThreshold"],i),n}(0,r)),n}(0,o)),void 0!==xn(t,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(void 0!==xn(t,["googleMaps"]))throw new Error("googleMaps parameter is not supported in Gemini API.");null!=xn(t,["urlContext"])&&bn(n,["urlContext"],{});const a=xn(t,["codeExecution"]);return null!=a&&bn(n,["codeExecution"],a),n}function ii(e,t){const n={},r=xn(t,["functionCallingConfig"]);null!=r&&bn(n,["functionCallingConfig"],function(e,t){const n={},r=xn(t,["mode"]);null!=r&&bn(n,["mode"],r);const i=xn(t,["allowedFunctionNames"]);return null!=i&&bn(n,["allowedFunctionNames"],i),n}(0,r));const i=xn(t,["retrievalConfig"]);return null!=i&&bn(n,["retrievalConfig"],function(e,t){const n={},r=xn(t,["latLng"]);null!=r&&bn(n,["latLng"],function(e,t){const n={},r=xn(t,["latitude"]);null!=r&&bn(n,["latitude"],r);const i=xn(t,["longitude"]);return null!=i&&bn(n,["longitude"],i),n}(0,r));const i=xn(t,["languageCode"]);return null!=i&&bn(n,["languageCode"],i),n}(0,i)),n}function oi(e,t){const n={},r=xn(t,["parts"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>function(e,t){const n={},r=xn(t,["videoMetadata"]);null!=r&&bn(n,["videoMetadata"],function(e,t){const n={},r=xn(t,["fps"]);null!=r&&bn(n,["fps"],r);const i=xn(t,["endOffset"]);null!=i&&bn(n,["endOffset"],i);const o=xn(t,["startOffset"]);return null!=o&&bn(n,["startOffset"],o),n}(0,r));const i=xn(t,["thought"]);null!=i&&bn(n,["thought"],i);const o=xn(t,["inlineData"]);null!=o&&bn(n,["inlineData"],function(e,t){const n={},r=xn(t,["displayName"]);null!=r&&bn(n,["displayName"],r);const i=xn(t,["data"]);null!=i&&bn(n,["data"],i);const o=xn(t,["mimeType"]);return null!=o&&bn(n,["mimeType"],o),n}(0,o));const a=xn(t,["fileData"]);null!=a&&bn(n,["fileData"],function(e,t){const n={},r=xn(t,["displayName"]);null!=r&&bn(n,["displayName"],r);const i=xn(t,["fileUri"]);null!=i&&bn(n,["fileUri"],i);const o=xn(t,["mimeType"]);return null!=o&&bn(n,["mimeType"],o),n}(0,a));const s=xn(t,["thoughtSignature"]);null!=s&&bn(n,["thoughtSignature"],s);const l=xn(t,["codeExecutionResult"]);null!=l&&bn(n,["codeExecutionResult"],l);const u=xn(t,["executableCode"]);null!=u&&bn(n,["executableCode"],u);const c=xn(t,["functionCall"]);null!=c&&bn(n,["functionCall"],c);const d=xn(t,["functionResponse"]);null!=d&&bn(n,["functionResponse"],d);const p=xn(t,["text"]);return null!=p&&bn(n,["text"],p),n}(0,e))),bn(n,["parts"],e)}const i=xn(t,["role"]);return null!=i&&bn(n,["role"],i),n}function ai(e,t){const n={},r=xn(t,["functionDeclarations"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>function(e,t){const n={};if(void 0!==xn(t,["behavior"]))throw new Error("behavior parameter is not supported in Vertex AI.");const r=xn(t,["description"]);null!=r&&bn(n,["description"],r);const i=xn(t,["name"]);null!=i&&bn(n,["name"],i);const o=xn(t,["parameters"]);null!=o&&bn(n,["parameters"],o);const a=xn(t,["response"]);return null!=a&&bn(n,["response"],a),n}(0,e))),bn(n,["functionDeclarations"],e)}const i=xn(t,["retrieval"]);null!=i&&bn(n,["retrieval"],i);const o=xn(t,["googleSearch"]);null!=o&&bn(n,["googleSearch"],function(e,t){const n={},r=xn(t,["timeRangeFilter"]);return null!=r&&bn(n,["timeRangeFilter"],function(e,t){const n={},r=xn(t,["startTime"]);null!=r&&bn(n,["startTime"],r);const i=xn(t,["endTime"]);return null!=i&&bn(n,["endTime"],i),n}(0,r)),n}(0,o));const a=xn(t,["googleSearchRetrieval"]);null!=a&&bn(n,["googleSearchRetrieval"],function(e,t){const n={},r=xn(t,["dynamicRetrievalConfig"]);return null!=r&&bn(n,["dynamicRetrievalConfig"],function(e,t){const n={},r=xn(t,["mode"]);null!=r&&bn(n,["mode"],r);const i=xn(t,["dynamicThreshold"]);return null!=i&&bn(n,["dynamicThreshold"],i),n}(0,r)),n}(0,a)),null!=xn(t,["enterpriseWebSearch"])&&bn(n,["enterpriseWebSearch"],{});const s=xn(t,["googleMaps"]);null!=s&&bn(n,["googleMaps"],function(e,t){const n={},r=xn(t,["authConfig"]);return null!=r&&bn(n,["authConfig"],function(e,t){const n={},r=xn(t,["apiKeyConfig"]);null!=r&&bn(n,["apiKeyConfig"],function(e,t){const n={},r=xn(t,["apiKeyString"]);return null!=r&&bn(n,["apiKeyString"],r),n}(0,r));const i=xn(t,["authType"]);null!=i&&bn(n,["authType"],i);const o=xn(t,["googleServiceAccountConfig"]);null!=o&&bn(n,["googleServiceAccountConfig"],o);const a=xn(t,["httpBasicAuthConfig"]);null!=a&&bn(n,["httpBasicAuthConfig"],a);const s=xn(t,["oauthConfig"]);null!=s&&bn(n,["oauthConfig"],s);const l=xn(t,["oidcConfig"]);return null!=l&&bn(n,["oidcConfig"],l),n}(0,r)),n}(0,s)),null!=xn(t,["urlContext"])&&bn(n,["urlContext"],{});const l=xn(t,["codeExecution"]);return null!=l&&bn(n,["codeExecution"],l),n}function si(e,t){const n={},r=xn(t,["functionCallingConfig"]);null!=r&&bn(n,["functionCallingConfig"],function(e,t){const n={},r=xn(t,["mode"]);null!=r&&bn(n,["mode"],r);const i=xn(t,["allowedFunctionNames"]);return null!=i&&bn(n,["allowedFunctionNames"],i),n}(0,r));const i=xn(t,["retrievalConfig"]);return null!=i&&bn(n,["retrievalConfig"],function(e,t){const n={},r=xn(t,["latLng"]);null!=r&&bn(n,["latLng"],function(e,t){const n={},r=xn(t,["latitude"]);null!=r&&bn(n,["latitude"],r);const i=xn(t,["longitude"]);return null!=i&&bn(n,["longitude"],i),n}(0,r));const i=xn(t,["languageCode"]);return null!=i&&bn(n,["languageCode"],i),n}(0,i)),n}function li(e,t){const n={},r=xn(t,["name"]);null!=r&&bn(n,["name"],r);const i=xn(t,["displayName"]);null!=i&&bn(n,["displayName"],i);const o=xn(t,["model"]);null!=o&&bn(n,["model"],o);const a=xn(t,["createTime"]);null!=a&&bn(n,["createTime"],a);const s=xn(t,["updateTime"]);null!=s&&bn(n,["updateTime"],s);const l=xn(t,["expireTime"]);null!=l&&bn(n,["expireTime"],l);const u=xn(t,["usageMetadata"]);return null!=u&&bn(n,["usageMetadata"],u),n}function ui(e,t){const n={},r=xn(t,["name"]);null!=r&&bn(n,["name"],r);const i=xn(t,["displayName"]);null!=i&&bn(n,["displayName"],i);const o=xn(t,["model"]);null!=o&&bn(n,["model"],o);const a=xn(t,["createTime"]);null!=a&&bn(n,["createTime"],a);const s=xn(t,["updateTime"]);null!=s&&bn(n,["updateTime"],s);const l=xn(t,["expireTime"]);null!=l&&bn(n,["expireTime"],l);const u=xn(t,["usageMetadata"]);return null!=u&&bn(n,["usageMetadata"],u),n}var ci;!function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents"}(ci||(ci={}));class di{constructor(e,t,n,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,n,r)}init(e,t,n){var r,i;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.idxInternal=0;let o={config:{}};o=n?"object"==typeof n?Object.assign({},n):n:{config:{}},o.config&&(o.config.pageToken=t.nextPageToken),this.paramsInternal=o,this.pageInternalSize=null!==(i=null===(r=o.config)||void 0===r?void 0:r.pageSize)&&void 0!==i?i:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength){if(!this.hasNextPage())return{value:void 0,done:!0};await this.nextPage()}const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return void 0!==(null===(e=this.params.config)||void 0===e?void 0:e.pageToken)}}class pi extends vn{constructor(e){super(),this.apiClient=e,this.list=async(e={})=>new di(ci.PAGED_ITEM_CACHED_CONTENTS,e=>this.listInternal(e),await this.listInternal(e),e)}async create(e){var t,n,r,i;let o,a="",s={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=xn(t,["model"]);null!=r&&bn(n,["model"],Er(e,r));const i=xn(t,["config"]);return null!=i&&bn(n,["config"],function(e,t,n){const r=xn(t,["ttl"]);void 0!==n&&null!=r&&bn(n,["ttl"],r);const i=xn(t,["expireTime"]);void 0!==n&&null!=i&&bn(n,["expireTime"],i);const o=xn(t,["displayName"]);void 0!==n&&null!=o&&bn(n,["displayName"],o);const a=xn(t,["contents"]);if(void 0!==n&&null!=a){let e=Mr(0,a);Array.isArray(e)&&(e=e.map(e=>oi(0,e))),bn(n,["contents"],e)}const s=xn(t,["systemInstruction"]);void 0!==n&&null!=s&&bn(n,["systemInstruction"],oi(0,jr(0,s)));const l=xn(t,["tools"]);if(void 0!==n&&null!=l){let e=l;Array.isArray(e)&&(e=e.map(e=>ai(0,e))),bn(n,["tools"],e)}const u=xn(t,["toolConfig"]);void 0!==n&&null!=u&&bn(n,["toolConfig"],si(0,u));const c=xn(t,["kmsKeyName"]);return void 0!==n&&null!=c&&bn(n,["encryption_spec","kmsKeyName"],c),{}}(0,i,n)),n}(this.apiClient,e);return a=yn("cachedContents",r._url),s=r._query,delete r.config,delete r._url,delete r._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),o.then(e=>ui(this.apiClient,e))}{const t=function(e,t){const n={},r=xn(t,["model"]);null!=r&&bn(n,["model"],Er(e,r));const i=xn(t,["config"]);return null!=i&&bn(n,["config"],function(e,t,n){const r=xn(t,["ttl"]);void 0!==n&&null!=r&&bn(n,["ttl"],r);const i=xn(t,["expireTime"]);void 0!==n&&null!=i&&bn(n,["expireTime"],i);const o=xn(t,["displayName"]);void 0!==n&&null!=o&&bn(n,["displayName"],o);const a=xn(t,["contents"]);if(void 0!==n&&null!=a){let e=Mr(0,a);Array.isArray(e)&&(e=e.map(e=>ni(0,e))),bn(n,["contents"],e)}const s=xn(t,["systemInstruction"]);void 0!==n&&null!=s&&bn(n,["systemInstruction"],ni(0,jr(0,s)));const l=xn(t,["tools"]);if(void 0!==n&&null!=l){let e=l;Array.isArray(e)&&(e=e.map(e=>ri(0,e))),bn(n,["tools"],e)}const u=xn(t,["toolConfig"]);if(void 0!==n&&null!=u&&bn(n,["toolConfig"],ii(0,u)),void 0!==xn(t,["kmsKeyName"]))throw new Error("kmsKeyName parameter is not supported in Gemini API.");return{}}(0,i,n)),n}(this.apiClient,e);return a=yn("cachedContents",t._url),s=t._query,delete t.config,delete t._url,delete t._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(i=e.config)||void 0===i?void 0:i.abortSignal}).then(e=>e.json()),o.then(e=>li(this.apiClient,e))}}async get(e){var t,n,r,i;let o,a="",s={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=xn(t,["name"]);null!=r&&bn(n,["_url","name"],Hr(e,r));const i=xn(t,["config"]);return null!=i&&bn(n,["config"],i),n}(this.apiClient,e);return a=yn("{name}",r._url),s=r._query,delete r.config,delete r._url,delete r._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),o.then(e=>ui(this.apiClient,e))}{const t=function(e,t){const n={},r=xn(t,["name"]);null!=r&&bn(n,["_url","name"],Hr(e,r));const i=xn(t,["config"]);return null!=i&&bn(n,["config"],i),n}(this.apiClient,e);return a=yn("{name}",t._url),s=t._query,delete t.config,delete t._url,delete t._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(i=e.config)||void 0===i?void 0:i.abortSignal}).then(e=>e.json()),o.then(e=>li(this.apiClient,e))}}async delete(e){var t,n,r,i;let o,a="",s={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=xn(t,["name"]);null!=r&&bn(n,["_url","name"],Hr(e,r));const i=xn(t,["config"]);return null!=i&&bn(n,["config"],i),n}(this.apiClient,e);return a=yn("{name}",r._url),s=r._query,delete r.config,delete r._url,delete r._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(r),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),o.then(()=>{const e=new gr;return Object.assign(e,{}),e})}{const t=function(e,t){const n={},r=xn(t,["name"]);null!=r&&bn(n,["_url","name"],Hr(e,r));const i=xn(t,["config"]);return null!=i&&bn(n,["config"],i),n}(this.apiClient,e);return a=yn("{name}",t._url),s=t._query,delete t.config,delete t._url,delete t._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(t),httpMethod:"DELETE",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(i=e.config)||void 0===i?void 0:i.abortSignal}).then(e=>e.json()),o.then(()=>{const e=new gr;return Object.assign(e,{}),e})}}async update(e){var t,n,r,i;let o,a="",s={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=xn(t,["name"]);null!=r&&bn(n,["_url","name"],Hr(e,r));const i=xn(t,["config"]);return null!=i&&bn(n,["config"],function(e,t,n){const r=xn(t,["ttl"]);void 0!==n&&null!=r&&bn(n,["ttl"],r);const i=xn(t,["expireTime"]);return void 0!==n&&null!=i&&bn(n,["expireTime"],i),{}}(0,i,n)),n}(this.apiClient,e);return a=yn("{name}",r._url),s=r._query,delete r.config,delete r._url,delete r._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(r),httpMethod:"PATCH",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),o.then(e=>ui(this.apiClient,e))}{const t=function(e,t){const n={},r=xn(t,["name"]);null!=r&&bn(n,["_url","name"],Hr(e,r));const i=xn(t,["config"]);return null!=i&&bn(n,["config"],function(e,t,n){const r=xn(t,["ttl"]);void 0!==n&&null!=r&&bn(n,["ttl"],r);const i=xn(t,["expireTime"]);return void 0!==n&&null!=i&&bn(n,["expireTime"],i),{}}(0,i,n)),n}(this.apiClient,e);return a=yn("{name}",t._url),s=t._query,delete t.config,delete t._url,delete t._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(t),httpMethod:"PATCH",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(i=e.config)||void 0===i?void 0:i.abortSignal}).then(e=>e.json()),o.then(e=>li(this.apiClient,e))}}async listInternal(e){var t,n,r,i;let o,a="",s={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=xn(t,["config"]);return null!=r&&bn(n,["config"],function(e,t,n){const r=xn(t,["pageSize"]);void 0!==n&&null!=r&&bn(n,["_query","pageSize"],r);const i=xn(t,["pageToken"]);return void 0!==n&&null!=i&&bn(n,["_query","pageToken"],i),{}}(0,r,n)),n}(this.apiClient,e);return a=yn("cachedContents",r._url),s=r._query,delete r.config,delete r._url,delete r._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),o.then(e=>{const t=function(e,t){const n={},r=xn(t,["nextPageToken"]);null!=r&&bn(n,["nextPageToken"],r);const i=xn(t,["cachedContents"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>ui(0,e))),bn(n,["cachedContents"],e)}return n}(this.apiClient,e),n=new vr;return Object.assign(n,t),n})}{const t=function(e,t){const n={},r=xn(t,["config"]);return null!=r&&bn(n,["config"],function(e,t,n){const r=xn(t,["pageSize"]);void 0!==n&&null!=r&&bn(n,["_query","pageSize"],r);const i=xn(t,["pageToken"]);return void 0!==n&&null!=i&&bn(n,["_query","pageToken"],i),{}}(0,r,n)),n}(this.apiClient,e);return a=yn("cachedContents",t._url),s=t._query,delete t.config,delete t._url,delete t._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(i=e.config)||void 0===i?void 0:i.abortSignal}).then(e=>e.json()),o.then(e=>{const t=function(e,t){const n={},r=xn(t,["nextPageToken"]);null!=r&&bn(n,["nextPageToken"],r);const i=xn(t,["cachedContents"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>li(0,e))),bn(n,["cachedContents"],e)}return n}(this.apiClient,e),n=new vr;return Object.assign(n,t),n})}}}function fi(e){return this instanceof fi?(this.v=e,this):new fi(e)}function hi(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function(e){return function(t){return Promise.resolve(t).then(e,u)}}),r[Symbol.asyncIterator]=function(){return this},r;function a(e,t){i[e]&&(r[e]=function(t){return new Promise(function(n,r){o.push([e,t,n,r])>1||s(e,t)})},t&&(r[e]=t(r[e])))}function s(e,t){try{(n=i[e](t)).value instanceof fi?Promise.resolve(n.value.v).then(l,u):c(o[0][2],n)}catch(e){c(o[0][3],e)}var n}function l(e){s("next",e)}function u(e){s("throw",e)}function c(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function mi(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise(function(r,i){!function(e,t,n,r){Promise.resolve(r).then(function(t){e({value:t,done:n})},t)}(r,i,(t=e[n](t)).done,t.value)})}}}function gi(e){var t;if(null==e.candidates||0===e.candidates.length)return!1;const n=null===(t=e.candidates[0])||void 0===t?void 0:t.content;return void 0!==n&&vi(n)}function vi(e){if(void 0===e.parts||0===e.parts.length)return!1;for(const t of e.parts){if(void 0===t||0===Object.keys(t).length)return!1;if(!t.thought&&void 0!==t.text&&""===t.text)return!1}return!0}function yi(e){if(void 0===e||0===e.length)return[];const t=[],n=e.length;let r=0;for(;r<n;)if("user"===e[r].role)t.push(e[r]),r++;else{const i=[];let o=!0;for(;r<n&&"model"===e[r].role;)i.push(e[r]),o&&!vi(e[r])&&(o=!1),r++;o?t.push(...i):t.pop()}return t}"function"==typeof SuppressedError&&SuppressedError;class bi{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new xi(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class xi{constructor(e,t,n,r={},i=[]){this.apiClient=e,this.modelsModule=t,this.model=n,this.config=r,this.history=i,this.sendPromise=Promise.resolve(),function(e){if(0!==e.length)for(const t of e)if("user"!==t.role&&"model"!==t.role)throw new Error(`Role must be user or model, but got ${t.role}.`)}(i)}async sendMessage(e){var t;await this.sendPromise;const n=jr(this.apiClient,e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(n),config:null!==(t=e.config)&&void 0!==t?t:this.config});return this.sendPromise=(async()=>{var e,t,i;const o=await r,a=null===(t=null===(e=o.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content,s=o.automaticFunctionCallingHistory,l=this.getHistory(!0).length;let u=[];null!=s&&(u=null!==(i=s.slice(l))&&void 0!==i?i:[]);const c=a?[a]:[];this.recordHistory(n,c,u)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var t;await this.sendPromise;const n=jr(this.apiClient,e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(n),config:null!==(t=e.config)&&void 0!==t?t:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const i=await r;return this.processStreamResponse(i,n)}getHistory(e=!1){const t=e?yi(this.history):this.history;return structuredClone(t)}processStreamResponse(e,t){var n,r;return hi(this,arguments,function*(){var i,o,a,s;const l=[];try{for(var u,c=!0,d=mi(e);!(i=(u=yield fi(d.next())).done);c=!0){s=u.value,c=!1;const e=s;if(gi(e)){const t=null===(r=null===(n=e.candidates)||void 0===n?void 0:n[0])||void 0===r?void 0:r.content;void 0!==t&&l.push(t)}yield yield fi(e)}}catch(e){o={error:e}}finally{try{c||i||!(a=d.return)||(yield fi(a.call(d)))}finally{if(o)throw o.error}}this.recordHistory(t,l)})}recordHistory(e,t,n){let r=[];t.length>0&&t.every(e=>void 0!==e.role)?r=t:r.push({role:"model",parts:[]}),n&&n.length>0?this.history.push(...yi(n)):this.history.push(e),this.history.push(...r)}}function _i(e,t){const n={},r=xn(t,["name"]);null!=r&&bn(n,["name"],r);const i=xn(t,["displayName"]);null!=i&&bn(n,["displayName"],i);const o=xn(t,["mimeType"]);null!=o&&bn(n,["mimeType"],o);const a=xn(t,["sizeBytes"]);null!=a&&bn(n,["sizeBytes"],a);const s=xn(t,["createTime"]);null!=s&&bn(n,["createTime"],s);const l=xn(t,["expirationTime"]);null!=l&&bn(n,["expirationTime"],l);const u=xn(t,["updateTime"]);null!=u&&bn(n,["updateTime"],u);const c=xn(t,["sha256Hash"]);null!=c&&bn(n,["sha256Hash"],c);const d=xn(t,["uri"]);null!=d&&bn(n,["uri"],d);const p=xn(t,["downloadUri"]);null!=p&&bn(n,["downloadUri"],p);const f=xn(t,["state"]);null!=f&&bn(n,["state"],f);const h=xn(t,["source"]);null!=h&&bn(n,["source"],h);const m=xn(t,["videoMetadata"]);null!=m&&bn(n,["videoMetadata"],m);const g=xn(t,["error"]);return null!=g&&bn(n,["error"],function(e,t){const n={},r=xn(t,["details"]);null!=r&&bn(n,["details"],r);const i=xn(t,["message"]);null!=i&&bn(n,["message"],i);const o=xn(t,["code"]);return null!=o&&bn(n,["code"],o),n}(0,g)),n}class wi extends vn{constructor(e){super(),this.apiClient=e,this.list=async(e={})=>new di(ci.PAGED_ITEM_FILES,e=>this.listInternal(e),await this.listInternal(e),e)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(e=>_i(this.apiClient,e))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var t,n;let r,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=function(e,t){const n={},r=xn(t,["config"]);return null!=r&&bn(n,["config"],function(e,t,n){const r=xn(t,["pageSize"]);void 0!==n&&null!=r&&bn(n,["_query","pageSize"],r);const i=xn(t,["pageToken"]);return void 0!==n&&null!=i&&bn(n,["_query","pageToken"],i),{}}(0,r,n)),n}(this.apiClient,e);return i=yn("files",a._url),o=a._query,delete a.config,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>{const t=function(e,t){const n={},r=xn(t,["nextPageToken"]);null!=r&&bn(n,["nextPageToken"],r);const i=xn(t,["files"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>_i(0,e))),bn(n,["files"],e)}return n}(this.apiClient,e),n=new yr;return Object.assign(n,t),n})}}async createInternal(e){var t,n;let r,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=function(e,t){const n={},r=xn(t,["file"]);null!=r&&bn(n,["file"],function(e,t){const n={},r=xn(t,["name"]);null!=r&&bn(n,["name"],r);const i=xn(t,["displayName"]);null!=i&&bn(n,["displayName"],i);const o=xn(t,["mimeType"]);null!=o&&bn(n,["mimeType"],o);const a=xn(t,["sizeBytes"]);null!=a&&bn(n,["sizeBytes"],a);const s=xn(t,["createTime"]);null!=s&&bn(n,["createTime"],s);const l=xn(t,["expirationTime"]);null!=l&&bn(n,["expirationTime"],l);const u=xn(t,["updateTime"]);null!=u&&bn(n,["updateTime"],u);const c=xn(t,["sha256Hash"]);null!=c&&bn(n,["sha256Hash"],c);const d=xn(t,["uri"]);null!=d&&bn(n,["uri"],d);const p=xn(t,["downloadUri"]);null!=p&&bn(n,["downloadUri"],p);const f=xn(t,["state"]);null!=f&&bn(n,["state"],f);const h=xn(t,["source"]);null!=h&&bn(n,["source"],h);const m=xn(t,["videoMetadata"]);null!=m&&bn(n,["videoMetadata"],m);const g=xn(t,["error"]);return null!=g&&bn(n,["error"],function(e,t){const n={},r=xn(t,["details"]);null!=r&&bn(n,["details"],r);const i=xn(t,["message"]);null!=i&&bn(n,["message"],i);const o=xn(t,["code"]);return null!=o&&bn(n,["code"],o),n}(0,g)),n}(0,r));const i=xn(t,["config"]);return null!=i&&bn(n,["config"],i),n}(this.apiClient,e);return i=yn("upload/v1beta/files",a._url),o=a._query,delete a.config,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(()=>{const e=new xr;return Object.assign(e,{}),e})}}async get(e){var t,n;let r,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=function(e,t){const n={},r=xn(t,["name"]);null!=r&&bn(n,["_url","file"],Wr(0,r));const i=xn(t,["config"]);return null!=i&&bn(n,["config"],i),n}(this.apiClient,e);return i=yn("files/{file}",a._url),o=a._query,delete a.config,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>_i(this.apiClient,e))}}async delete(e){var t,n;let r,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=function(e,t){const n={},r=xn(t,["name"]);null!=r&&bn(n,["_url","file"],Wr(0,r));const i=xn(t,["config"]);return null!=i&&bn(n,["config"],i),n}(this.apiClient,e);return i=yn("files/{file}",a._url),o=a._query,delete a.config,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(()=>{const e=new _r;return Object.assign(e,{}),e})}}}function Ci(e,t){const n={},r=xn(t,["prebuiltVoiceConfig"]);return null!=r&&bn(n,["prebuiltVoiceConfig"],function(e,t){const n={},r=xn(t,["voiceName"]);return null!=r&&bn(n,["voiceName"],r),n}(0,r)),n}function Si(e,t){const n={},r=xn(t,["functionDeclarations"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>function(e,t){const n={},r=xn(t,["behavior"]);null!=r&&bn(n,["behavior"],r);const i=xn(t,["description"]);null!=i&&bn(n,["description"],i);const o=xn(t,["name"]);null!=o&&bn(n,["name"],o);const a=xn(t,["parameters"]);null!=a&&bn(n,["parameters"],a);const s=xn(t,["response"]);return null!=s&&bn(n,["response"],s),n}(0,e))),bn(n,["functionDeclarations"],e)}if(void 0!==xn(t,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const i=xn(t,["googleSearch"]);null!=i&&bn(n,["googleSearch"],function(e,t){const n={},r=xn(t,["timeRangeFilter"]);return null!=r&&bn(n,["timeRangeFilter"],function(e,t){const n={},r=xn(t,["startTime"]);null!=r&&bn(n,["startTime"],r);const i=xn(t,["endTime"]);return null!=i&&bn(n,["endTime"],i),n}(0,r)),n}(0,i));const o=xn(t,["googleSearchRetrieval"]);if(null!=o&&bn(n,["googleSearchRetrieval"],function(e,t){const n={},r=xn(t,["dynamicRetrievalConfig"]);return null!=r&&bn(n,["dynamicRetrievalConfig"],function(e,t){const n={},r=xn(t,["mode"]);null!=r&&bn(n,["mode"],r);const i=xn(t,["dynamicThreshold"]);return null!=i&&bn(n,["dynamicThreshold"],i),n}(0,r)),n}(0,o)),void 0!==xn(t,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(void 0!==xn(t,["googleMaps"]))throw new Error("googleMaps parameter is not supported in Gemini API.");null!=xn(t,["urlContext"])&&bn(n,["urlContext"],{});const a=xn(t,["codeExecution"]);return null!=a&&bn(n,["codeExecution"],a),n}function Ei(e,t){const n={},r=xn(t,["functionDeclarations"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>function(e,t){const n={};if(void 0!==xn(t,["behavior"]))throw new Error("behavior parameter is not supported in Vertex AI.");const r=xn(t,["description"]);null!=r&&bn(n,["description"],r);const i=xn(t,["name"]);null!=i&&bn(n,["name"],i);const o=xn(t,["parameters"]);null!=o&&bn(n,["parameters"],o);const a=xn(t,["response"]);return null!=a&&bn(n,["response"],a),n}(0,e))),bn(n,["functionDeclarations"],e)}const i=xn(t,["retrieval"]);null!=i&&bn(n,["retrieval"],i);const o=xn(t,["googleSearch"]);null!=o&&bn(n,["googleSearch"],function(e,t){const n={},r=xn(t,["timeRangeFilter"]);return null!=r&&bn(n,["timeRangeFilter"],function(e,t){const n={},r=xn(t,["startTime"]);null!=r&&bn(n,["startTime"],r);const i=xn(t,["endTime"]);return null!=i&&bn(n,["endTime"],i),n}(0,r)),n}(0,o));const a=xn(t,["googleSearchRetrieval"]);null!=a&&bn(n,["googleSearchRetrieval"],function(e,t){const n={},r=xn(t,["dynamicRetrievalConfig"]);return null!=r&&bn(n,["dynamicRetrievalConfig"],function(e,t){const n={},r=xn(t,["mode"]);null!=r&&bn(n,["mode"],r);const i=xn(t,["dynamicThreshold"]);return null!=i&&bn(n,["dynamicThreshold"],i),n}(0,r)),n}(0,a)),null!=xn(t,["enterpriseWebSearch"])&&bn(n,["enterpriseWebSearch"],{});const s=xn(t,["googleMaps"]);null!=s&&bn(n,["googleMaps"],function(e,t){const n={},r=xn(t,["authConfig"]);return null!=r&&bn(n,["authConfig"],function(e,t){const n={},r=xn(t,["apiKeyConfig"]);null!=r&&bn(n,["apiKeyConfig"],function(e,t){const n={},r=xn(t,["apiKeyString"]);return null!=r&&bn(n,["apiKeyString"],r),n}(0,r));const i=xn(t,["authType"]);null!=i&&bn(n,["authType"],i);const o=xn(t,["googleServiceAccountConfig"]);null!=o&&bn(n,["googleServiceAccountConfig"],o);const a=xn(t,["httpBasicAuthConfig"]);null!=a&&bn(n,["httpBasicAuthConfig"],a);const s=xn(t,["oauthConfig"]);null!=s&&bn(n,["oauthConfig"],s);const l=xn(t,["oidcConfig"]);return null!=l&&bn(n,["oidcConfig"],l),n}(0,r)),n}(0,s)),null!=xn(t,["urlContext"])&&bn(n,["urlContext"],{});const l=xn(t,["codeExecution"]);return null!=l&&bn(n,["codeExecution"],l),n}function Ti(e,t,n){const r=xn(t,["generationConfig"]);void 0!==n&&null!=r&&bn(n,["setup","generationConfig"],r);const i=xn(t,["responseModalities"]);void 0!==n&&null!=i&&bn(n,["setup","generationConfig","responseModalities"],i);const o=xn(t,["temperature"]);void 0!==n&&null!=o&&bn(n,["setup","generationConfig","temperature"],o);const a=xn(t,["topP"]);void 0!==n&&null!=a&&bn(n,["setup","generationConfig","topP"],a);const s=xn(t,["topK"]);void 0!==n&&null!=s&&bn(n,["setup","generationConfig","topK"],s);const l=xn(t,["maxOutputTokens"]);void 0!==n&&null!=l&&bn(n,["setup","generationConfig","maxOutputTokens"],l);const u=xn(t,["mediaResolution"]);void 0!==n&&null!=u&&bn(n,["setup","generationConfig","mediaResolution"],u);const c=xn(t,["seed"]);void 0!==n&&null!=c&&bn(n,["setup","generationConfig","seed"],c);const d=xn(t,["speechConfig"]);void 0!==n&&null!=d&&bn(n,["setup","generationConfig","speechConfig"],function(e,t){const n={},r=xn(t,["voiceConfig"]);null!=r&&bn(n,["voiceConfig"],Ci(0,r));const i=xn(t,["multiSpeakerVoiceConfig"]);null!=i&&bn(n,["multiSpeakerVoiceConfig"],function(e,t){const n={},r=xn(t,["speakerVoiceConfigs"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>function(e,t){const n={},r=xn(t,["speaker"]);null!=r&&bn(n,["speaker"],r);const i=xn(t,["voiceConfig"]);return null!=i&&bn(n,["voiceConfig"],Ci(0,i)),n}(0,e))),bn(n,["speakerVoiceConfigs"],e)}return n}(0,i));const o=xn(t,["languageCode"]);return null!=o&&bn(n,["languageCode"],o),n}(0,qr(0,d)));const p=xn(t,["enableAffectiveDialog"]);void 0!==n&&null!=p&&bn(n,["setup","generationConfig","enableAffectiveDialog"],p);const f=xn(t,["systemInstruction"]);void 0!==n&&null!=f&&bn(n,["setup","systemInstruction"],function(e,t){const n={},r=xn(t,["parts"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>function(e,t){const n={},r=xn(t,["videoMetadata"]);null!=r&&bn(n,["videoMetadata"],function(e,t){const n={},r=xn(t,["fps"]);null!=r&&bn(n,["fps"],r);const i=xn(t,["endOffset"]);null!=i&&bn(n,["endOffset"],i);const o=xn(t,["startOffset"]);return null!=o&&bn(n,["startOffset"],o),n}(0,r));const i=xn(t,["thought"]);null!=i&&bn(n,["thought"],i);const o=xn(t,["inlineData"]);null!=o&&bn(n,["inlineData"],function(e,t){const n={};if(void 0!==xn(t,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const r=xn(t,["data"]);null!=r&&bn(n,["data"],r);const i=xn(t,["mimeType"]);return null!=i&&bn(n,["mimeType"],i),n}(0,o));const a=xn(t,["fileData"]);null!=a&&bn(n,["fileData"],function(e,t){const n={};if(void 0!==xn(t,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const r=xn(t,["fileUri"]);null!=r&&bn(n,["fileUri"],r);const i=xn(t,["mimeType"]);return null!=i&&bn(n,["mimeType"],i),n}(0,a));const s=xn(t,["thoughtSignature"]);null!=s&&bn(n,["thoughtSignature"],s);const l=xn(t,["codeExecutionResult"]);null!=l&&bn(n,["codeExecutionResult"],l);const u=xn(t,["executableCode"]);null!=u&&bn(n,["executableCode"],u);const c=xn(t,["functionCall"]);null!=c&&bn(n,["functionCall"],c);const d=xn(t,["functionResponse"]);null!=d&&bn(n,["functionResponse"],d);const p=xn(t,["text"]);return null!=p&&bn(n,["text"],p),n}(0,e))),bn(n,["parts"],e)}const i=xn(t,["role"]);return null!=i&&bn(n,["role"],i),n}(0,jr(0,f)));const h=xn(t,["tools"]);if(void 0!==n&&null!=h){let e=Gr(0,h);Array.isArray(e)&&(e=e.map(e=>Si(0,Br(0,e)))),bn(n,["setup","tools"],e)}const m=xn(t,["sessionResumption"]);void 0!==n&&null!=m&&bn(n,["setup","sessionResumption"],function(e,t){const n={},r=xn(t,["handle"]);if(null!=r&&bn(n,["handle"],r),void 0!==xn(t,["transparent"]))throw new Error("transparent parameter is not supported in Gemini API.");return n}(0,m));const g=xn(t,["inputAudioTranscription"]);void 0!==n&&null!=g&&bn(n,["setup","inputAudioTranscription"],{});const v=xn(t,["outputAudioTranscription"]);void 0!==n&&null!=v&&bn(n,["setup","outputAudioTranscription"],{});const y=xn(t,["realtimeInputConfig"]);void 0!==n&&null!=y&&bn(n,["setup","realtimeInputConfig"],function(e,t){const n={},r=xn(t,["automaticActivityDetection"]);null!=r&&bn(n,["automaticActivityDetection"],function(e,t){const n={},r=xn(t,["disabled"]);null!=r&&bn(n,["disabled"],r);const i=xn(t,["startOfSpeechSensitivity"]);null!=i&&bn(n,["startOfSpeechSensitivity"],i);const o=xn(t,["endOfSpeechSensitivity"]);null!=o&&bn(n,["endOfSpeechSensitivity"],o);const a=xn(t,["prefixPaddingMs"]);null!=a&&bn(n,["prefixPaddingMs"],a);const s=xn(t,["silenceDurationMs"]);return null!=s&&bn(n,["silenceDurationMs"],s),n}(0,r));const i=xn(t,["activityHandling"]);null!=i&&bn(n,["activityHandling"],i);const o=xn(t,["turnCoverage"]);return null!=o&&bn(n,["turnCoverage"],o),n}(0,y));const b=xn(t,["contextWindowCompression"]);void 0!==n&&null!=b&&bn(n,["setup","contextWindowCompression"],function(e,t){const n={},r=xn(t,["triggerTokens"]);null!=r&&bn(n,["triggerTokens"],r);const i=xn(t,["slidingWindow"]);return null!=i&&bn(n,["slidingWindow"],function(e,t){const n={},r=xn(t,["targetTokens"]);return null!=r&&bn(n,["targetTokens"],r),n}(0,i)),n}(0,b));const x=xn(t,["proactivity"]);return void 0!==n&&null!=x&&bn(n,["setup","proactivity"],function(e,t){const n={},r=xn(t,["proactiveAudio"]);return null!=r&&bn(n,["proactiveAudio"],r),n}(0,x)),{}}function ki(e,t,n){const r=xn(t,["generationConfig"]);void 0!==n&&null!=r&&bn(n,["setup","generationConfig"],r);const i=xn(t,["responseModalities"]);void 0!==n&&null!=i&&bn(n,["setup","generationConfig","responseModalities"],i);const o=xn(t,["temperature"]);void 0!==n&&null!=o&&bn(n,["setup","generationConfig","temperature"],o);const a=xn(t,["topP"]);void 0!==n&&null!=a&&bn(n,["setup","generationConfig","topP"],a);const s=xn(t,["topK"]);void 0!==n&&null!=s&&bn(n,["setup","generationConfig","topK"],s);const l=xn(t,["maxOutputTokens"]);void 0!==n&&null!=l&&bn(n,["setup","generationConfig","maxOutputTokens"],l);const u=xn(t,["mediaResolution"]);void 0!==n&&null!=u&&bn(n,["setup","generationConfig","mediaResolution"],u);const c=xn(t,["seed"]);void 0!==n&&null!=c&&bn(n,["setup","generationConfig","seed"],c);const d=xn(t,["speechConfig"]);void 0!==n&&null!=d&&bn(n,["setup","generationConfig","speechConfig"],function(e,t){const n={},r=xn(t,["voiceConfig"]);if(null!=r&&bn(n,["voiceConfig"],function(e,t){const n={},r=xn(t,["prebuiltVoiceConfig"]);return null!=r&&bn(n,["prebuiltVoiceConfig"],function(e,t){const n={},r=xn(t,["voiceName"]);return null!=r&&bn(n,["voiceName"],r),n}(0,r)),n}(0,r)),void 0!==xn(t,["multiSpeakerVoiceConfig"]))throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=xn(t,["languageCode"]);return null!=i&&bn(n,["languageCode"],i),n}(0,qr(0,d)));const p=xn(t,["enableAffectiveDialog"]);void 0!==n&&null!=p&&bn(n,["setup","generationConfig","enableAffectiveDialog"],p);const f=xn(t,["systemInstruction"]);void 0!==n&&null!=f&&bn(n,["setup","systemInstruction"],function(e,t){const n={},r=xn(t,["parts"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>function(e,t){const n={},r=xn(t,["videoMetadata"]);null!=r&&bn(n,["videoMetadata"],function(e,t){const n={},r=xn(t,["fps"]);null!=r&&bn(n,["fps"],r);const i=xn(t,["endOffset"]);null!=i&&bn(n,["endOffset"],i);const o=xn(t,["startOffset"]);return null!=o&&bn(n,["startOffset"],o),n}(0,r));const i=xn(t,["thought"]);null!=i&&bn(n,["thought"],i);const o=xn(t,["inlineData"]);null!=o&&bn(n,["inlineData"],function(e,t){const n={},r=xn(t,["displayName"]);null!=r&&bn(n,["displayName"],r);const i=xn(t,["data"]);null!=i&&bn(n,["data"],i);const o=xn(t,["mimeType"]);return null!=o&&bn(n,["mimeType"],o),n}(0,o));const a=xn(t,["fileData"]);null!=a&&bn(n,["fileData"],function(e,t){const n={},r=xn(t,["displayName"]);null!=r&&bn(n,["displayName"],r);const i=xn(t,["fileUri"]);null!=i&&bn(n,["fileUri"],i);const o=xn(t,["mimeType"]);return null!=o&&bn(n,["mimeType"],o),n}(0,a));const s=xn(t,["thoughtSignature"]);null!=s&&bn(n,["thoughtSignature"],s);const l=xn(t,["codeExecutionResult"]);null!=l&&bn(n,["codeExecutionResult"],l);const u=xn(t,["executableCode"]);null!=u&&bn(n,["executableCode"],u);const c=xn(t,["functionCall"]);null!=c&&bn(n,["functionCall"],c);const d=xn(t,["functionResponse"]);null!=d&&bn(n,["functionResponse"],d);const p=xn(t,["text"]);return null!=p&&bn(n,["text"],p),n}(0,e))),bn(n,["parts"],e)}const i=xn(t,["role"]);return null!=i&&bn(n,["role"],i),n}(0,jr(0,f)));const h=xn(t,["tools"]);if(void 0!==n&&null!=h){let e=Gr(0,h);Array.isArray(e)&&(e=e.map(e=>Ei(0,Br(0,e)))),bn(n,["setup","tools"],e)}const m=xn(t,["sessionResumption"]);void 0!==n&&null!=m&&bn(n,["setup","sessionResumption"],function(e,t){const n={},r=xn(t,["handle"]);null!=r&&bn(n,["handle"],r);const i=xn(t,["transparent"]);return null!=i&&bn(n,["transparent"],i),n}(0,m));const g=xn(t,["inputAudioTranscription"]);void 0!==n&&null!=g&&bn(n,["setup","inputAudioTranscription"],{});const v=xn(t,["outputAudioTranscription"]);void 0!==n&&null!=v&&bn(n,["setup","outputAudioTranscription"],{});const y=xn(t,["realtimeInputConfig"]);void 0!==n&&null!=y&&bn(n,["setup","realtimeInputConfig"],function(e,t){const n={},r=xn(t,["automaticActivityDetection"]);null!=r&&bn(n,["automaticActivityDetection"],function(e,t){const n={},r=xn(t,["disabled"]);null!=r&&bn(n,["disabled"],r);const i=xn(t,["startOfSpeechSensitivity"]);null!=i&&bn(n,["startOfSpeechSensitivity"],i);const o=xn(t,["endOfSpeechSensitivity"]);null!=o&&bn(n,["endOfSpeechSensitivity"],o);const a=xn(t,["prefixPaddingMs"]);null!=a&&bn(n,["prefixPaddingMs"],a);const s=xn(t,["silenceDurationMs"]);return null!=s&&bn(n,["silenceDurationMs"],s),n}(0,r));const i=xn(t,["activityHandling"]);null!=i&&bn(n,["activityHandling"],i);const o=xn(t,["turnCoverage"]);return null!=o&&bn(n,["turnCoverage"],o),n}(0,y));const b=xn(t,["contextWindowCompression"]);void 0!==n&&null!=b&&bn(n,["setup","contextWindowCompression"],function(e,t){const n={},r=xn(t,["triggerTokens"]);null!=r&&bn(n,["triggerTokens"],r);const i=xn(t,["slidingWindow"]);return null!=i&&bn(n,["slidingWindow"],function(e,t){const n={},r=xn(t,["targetTokens"]);return null!=r&&bn(n,["targetTokens"],r),n}(0,i)),n}(0,b));const x=xn(t,["proactivity"]);return void 0!==n&&null!=x&&bn(n,["setup","proactivity"],function(e,t){const n={},r=xn(t,["proactiveAudio"]);return null!=r&&bn(n,["proactiveAudio"],r),n}(0,x)),{}}function Oi(e,t){const n={},r=xn(t,["media"]);null!=r&&bn(n,["mediaChunks"],Tr(0,r));const i=xn(t,["audio"]);null!=i&&bn(n,["audio"],function(e,t){const n=kr(0,t);if(n.mimeType&&n.mimeType.startsWith("audio/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}(0,i));const o=xn(t,["audioStreamEnd"]);null!=o&&bn(n,["audioStreamEnd"],o);const a=xn(t,["video"]);null!=a&&bn(n,["video"],function(e,t){const n=kr(0,t);if(n.mimeType&&n.mimeType.startsWith("image/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}(0,a));const s=xn(t,["text"]);return null!=s&&bn(n,["text"],s),null!=xn(t,["activityStart"])&&bn(n,["activityStart"],{}),null!=xn(t,["activityEnd"])&&bn(n,["activityEnd"],{}),n}function Ni(e,t){const n={},r=xn(t,["media"]);if(null!=r&&bn(n,["mediaChunks"],Tr(0,r)),void 0!==xn(t,["audio"]))throw new Error("audio parameter is not supported in Vertex AI.");const i=xn(t,["audioStreamEnd"]);if(null!=i&&bn(n,["audioStreamEnd"],i),void 0!==xn(t,["video"]))throw new Error("video parameter is not supported in Vertex AI.");if(void 0!==xn(t,["text"]))throw new Error("text parameter is not supported in Vertex AI.");return null!=xn(t,["activityStart"])&&bn(n,["activityStart"],{}),null!=xn(t,["activityEnd"])&&bn(n,["activityEnd"],{}),n}function Ai(e,t){const n={},r=xn(t,["text"]);null!=r&&bn(n,["text"],r);const i=xn(t,["weight"]);return null!=i&&bn(n,["weight"],i),n}function Ii(e,t){const n={},r=xn(t,["temperature"]);null!=r&&bn(n,["temperature"],r);const i=xn(t,["topK"]);null!=i&&bn(n,["topK"],i);const o=xn(t,["seed"]);null!=o&&bn(n,["seed"],o);const a=xn(t,["guidance"]);null!=a&&bn(n,["guidance"],a);const s=xn(t,["bpm"]);null!=s&&bn(n,["bpm"],s);const l=xn(t,["density"]);null!=l&&bn(n,["density"],l);const u=xn(t,["brightness"]);null!=u&&bn(n,["brightness"],u);const c=xn(t,["scale"]);null!=c&&bn(n,["scale"],c);const d=xn(t,["muteBass"]);null!=d&&bn(n,["muteBass"],d);const p=xn(t,["muteDrums"]);null!=p&&bn(n,["muteDrums"],p);const f=xn(t,["onlyBassAndDrums"]);return null!=f&&bn(n,["onlyBassAndDrums"],f),n}function Pi(e,t){const n={},r=xn(t,["model"]);return null!=r&&bn(n,["model"],r),n}function ji(e,t){const n={},r=xn(t,["weightedPrompts"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>Ai(0,e))),bn(n,["weightedPrompts"],e)}return n}function Ri(e,t){const n={},r=xn(t,["setup"]);null!=r&&bn(n,["setup"],Pi(0,r));const i=xn(t,["clientContent"]);null!=i&&bn(n,["clientContent"],ji(0,i));const o=xn(t,["musicGenerationConfig"]);null!=o&&bn(n,["musicGenerationConfig"],Ii(0,o));const a=xn(t,["playbackControl"]);return null!=a&&bn(n,["playbackControl"],a),n}function Mi(e,t){const n={},r=xn(t,["text"]);null!=r&&bn(n,["text"],r);const i=xn(t,["finished"]);return null!=i&&bn(n,["finished"],i),n}function Di(e,t){const n={},r=xn(t,["text"]);null!=r&&bn(n,["text"],r);const i=xn(t,["finished"]);return null!=i&&bn(n,["finished"],i),n}function Li(e,t){const n={},r=xn(t,["modelTurn"]);null!=r&&bn(n,["modelTurn"],function(e,t){const n={},r=xn(t,["parts"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>function(e,t){const n={},r=xn(t,["videoMetadata"]);null!=r&&bn(n,["videoMetadata"],function(e,t){const n={},r=xn(t,["fps"]);null!=r&&bn(n,["fps"],r);const i=xn(t,["endOffset"]);null!=i&&bn(n,["endOffset"],i);const o=xn(t,["startOffset"]);return null!=o&&bn(n,["startOffset"],o),n}(0,r));const i=xn(t,["thought"]);null!=i&&bn(n,["thought"],i);const o=xn(t,["inlineData"]);null!=o&&bn(n,["inlineData"],function(e,t){const n={},r=xn(t,["data"]);null!=r&&bn(n,["data"],r);const i=xn(t,["mimeType"]);return null!=i&&bn(n,["mimeType"],i),n}(0,o));const a=xn(t,["fileData"]);null!=a&&bn(n,["fileData"],function(e,t){const n={},r=xn(t,["fileUri"]);null!=r&&bn(n,["fileUri"],r);const i=xn(t,["mimeType"]);return null!=i&&bn(n,["mimeType"],i),n}(0,a));const s=xn(t,["thoughtSignature"]);null!=s&&bn(n,["thoughtSignature"],s);const l=xn(t,["codeExecutionResult"]);null!=l&&bn(n,["codeExecutionResult"],l);const u=xn(t,["executableCode"]);null!=u&&bn(n,["executableCode"],u);const c=xn(t,["functionCall"]);null!=c&&bn(n,["functionCall"],c);const d=xn(t,["functionResponse"]);null!=d&&bn(n,["functionResponse"],d);const p=xn(t,["text"]);return null!=p&&bn(n,["text"],p),n}(0,e))),bn(n,["parts"],e)}const i=xn(t,["role"]);return null!=i&&bn(n,["role"],i),n}(0,r));const i=xn(t,["turnComplete"]);null!=i&&bn(n,["turnComplete"],i);const o=xn(t,["interrupted"]);null!=o&&bn(n,["interrupted"],o);const a=xn(t,["groundingMetadata"]);null!=a&&bn(n,["groundingMetadata"],a);const s=xn(t,["generationComplete"]);null!=s&&bn(n,["generationComplete"],s);const l=xn(t,["inputTranscription"]);null!=l&&bn(n,["inputTranscription"],Mi(0,l));const u=xn(t,["outputTranscription"]);null!=u&&bn(n,["outputTranscription"],Mi(0,u));const c=xn(t,["urlContextMetadata"]);return null!=c&&bn(n,["urlContextMetadata"],function(e,t){const n={},r=xn(t,["urlMetadata"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>function(e,t){const n={},r=xn(t,["retrievedUrl"]);null!=r&&bn(n,["retrievedUrl"],r);const i=xn(t,["urlRetrievalStatus"]);return null!=i&&bn(n,["urlRetrievalStatus"],i),n}(0,e))),bn(n,["urlMetadata"],e)}return n}(0,c)),n}function Ui(e,t){const n={},r=xn(t,["modelTurn"]);null!=r&&bn(n,["modelTurn"],function(e,t){const n={},r=xn(t,["parts"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>function(e,t){const n={},r=xn(t,["videoMetadata"]);null!=r&&bn(n,["videoMetadata"],function(e,t){const n={},r=xn(t,["fps"]);null!=r&&bn(n,["fps"],r);const i=xn(t,["endOffset"]);null!=i&&bn(n,["endOffset"],i);const o=xn(t,["startOffset"]);return null!=o&&bn(n,["startOffset"],o),n}(0,r));const i=xn(t,["thought"]);null!=i&&bn(n,["thought"],i);const o=xn(t,["inlineData"]);null!=o&&bn(n,["inlineData"],function(e,t){const n={},r=xn(t,["displayName"]);null!=r&&bn(n,["displayName"],r);const i=xn(t,["data"]);null!=i&&bn(n,["data"],i);const o=xn(t,["mimeType"]);return null!=o&&bn(n,["mimeType"],o),n}(0,o));const a=xn(t,["fileData"]);null!=a&&bn(n,["fileData"],function(e,t){const n={},r=xn(t,["displayName"]);null!=r&&bn(n,["displayName"],r);const i=xn(t,["fileUri"]);null!=i&&bn(n,["fileUri"],i);const o=xn(t,["mimeType"]);return null!=o&&bn(n,["mimeType"],o),n}(0,a));const s=xn(t,["thoughtSignature"]);null!=s&&bn(n,["thoughtSignature"],s);const l=xn(t,["codeExecutionResult"]);null!=l&&bn(n,["codeExecutionResult"],l);const u=xn(t,["executableCode"]);null!=u&&bn(n,["executableCode"],u);const c=xn(t,["functionCall"]);null!=c&&bn(n,["functionCall"],c);const d=xn(t,["functionResponse"]);null!=d&&bn(n,["functionResponse"],d);const p=xn(t,["text"]);return null!=p&&bn(n,["text"],p),n}(0,e))),bn(n,["parts"],e)}const i=xn(t,["role"]);return null!=i&&bn(n,["role"],i),n}(0,r));const i=xn(t,["turnComplete"]);null!=i&&bn(n,["turnComplete"],i);const o=xn(t,["interrupted"]);null!=o&&bn(n,["interrupted"],o);const a=xn(t,["groundingMetadata"]);null!=a&&bn(n,["groundingMetadata"],a);const s=xn(t,["generationComplete"]);null!=s&&bn(n,["generationComplete"],s);const l=xn(t,["inputTranscription"]);null!=l&&bn(n,["inputTranscription"],Di(0,l));const u=xn(t,["outputTranscription"]);return null!=u&&bn(n,["outputTranscription"],Di(0,u)),n}function Fi(e,t){const n={},r=xn(t,["modality"]);null!=r&&bn(n,["modality"],r);const i=xn(t,["tokenCount"]);return null!=i&&bn(n,["tokenCount"],i),n}function zi(e,t){const n={},r=xn(t,["modality"]);null!=r&&bn(n,["modality"],r);const i=xn(t,["tokenCount"]);return null!=i&&bn(n,["tokenCount"],i),n}function Vi(e,t){const n={};null!=xn(t,["setupComplete"])&&bn(n,["setupComplete"],{});const r=xn(t,["serverContent"]);null!=r&&bn(n,["serverContent"],Li(0,r));const i=xn(t,["toolCall"]);null!=i&&bn(n,["toolCall"],function(e,t){const n={},r=xn(t,["functionCalls"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>function(e,t){const n={},r=xn(t,["id"]);null!=r&&bn(n,["id"],r);const i=xn(t,["args"]);null!=i&&bn(n,["args"],i);const o=xn(t,["name"]);return null!=o&&bn(n,["name"],o),n}(0,e))),bn(n,["functionCalls"],e)}return n}(0,i));const o=xn(t,["toolCallCancellation"]);null!=o&&bn(n,["toolCallCancellation"],function(e,t){const n={},r=xn(t,["ids"]);return null!=r&&bn(n,["ids"],r),n}(0,o));const a=xn(t,["usageMetadata"]);null!=a&&bn(n,["usageMetadata"],function(e,t){const n={},r=xn(t,["promptTokenCount"]);null!=r&&bn(n,["promptTokenCount"],r);const i=xn(t,["cachedContentTokenCount"]);null!=i&&bn(n,["cachedContentTokenCount"],i);const o=xn(t,["responseTokenCount"]);null!=o&&bn(n,["responseTokenCount"],o);const a=xn(t,["toolUsePromptTokenCount"]);null!=a&&bn(n,["toolUsePromptTokenCount"],a);const s=xn(t,["thoughtsTokenCount"]);null!=s&&bn(n,["thoughtsTokenCount"],s);const l=xn(t,["totalTokenCount"]);null!=l&&bn(n,["totalTokenCount"],l);const u=xn(t,["promptTokensDetails"]);if(null!=u){let e=u;Array.isArray(e)&&(e=e.map(e=>Fi(0,e))),bn(n,["promptTokensDetails"],e)}const c=xn(t,["cacheTokensDetails"]);if(null!=c){let e=c;Array.isArray(e)&&(e=e.map(e=>Fi(0,e))),bn(n,["cacheTokensDetails"],e)}const d=xn(t,["responseTokensDetails"]);if(null!=d){let e=d;Array.isArray(e)&&(e=e.map(e=>Fi(0,e))),bn(n,["responseTokensDetails"],e)}const p=xn(t,["toolUsePromptTokensDetails"]);if(null!=p){let e=p;Array.isArray(e)&&(e=e.map(e=>Fi(0,e))),bn(n,["toolUsePromptTokensDetails"],e)}return n}(0,a));const s=xn(t,["goAway"]);null!=s&&bn(n,["goAway"],function(e,t){const n={},r=xn(t,["timeLeft"]);return null!=r&&bn(n,["timeLeft"],r),n}(0,s));const l=xn(t,["sessionResumptionUpdate"]);return null!=l&&bn(n,["sessionResumptionUpdate"],function(e,t){const n={},r=xn(t,["newHandle"]);null!=r&&bn(n,["newHandle"],r);const i=xn(t,["resumable"]);null!=i&&bn(n,["resumable"],i);const o=xn(t,["lastConsumedClientMessageIndex"]);return null!=o&&bn(n,["lastConsumedClientMessageIndex"],o),n}(0,l)),n}function qi(e,t){const n={};null!=xn(t,["setupComplete"])&&bn(n,["setupComplete"],{});const r=xn(t,["serverContent"]);null!=r&&bn(n,["serverContent"],Ui(0,r));const i=xn(t,["toolCall"]);null!=i&&bn(n,["toolCall"],function(e,t){const n={},r=xn(t,["functionCalls"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>function(e,t){const n={},r=xn(t,["args"]);null!=r&&bn(n,["args"],r);const i=xn(t,["name"]);return null!=i&&bn(n,["name"],i),n}(0,e))),bn(n,["functionCalls"],e)}return n}(0,i));const o=xn(t,["toolCallCancellation"]);null!=o&&bn(n,["toolCallCancellation"],function(e,t){const n={},r=xn(t,["ids"]);return null!=r&&bn(n,["ids"],r),n}(0,o));const a=xn(t,["usageMetadata"]);null!=a&&bn(n,["usageMetadata"],function(e,t){const n={},r=xn(t,["promptTokenCount"]);null!=r&&bn(n,["promptTokenCount"],r);const i=xn(t,["cachedContentTokenCount"]);null!=i&&bn(n,["cachedContentTokenCount"],i);const o=xn(t,["candidatesTokenCount"]);null!=o&&bn(n,["responseTokenCount"],o);const a=xn(t,["toolUsePromptTokenCount"]);null!=a&&bn(n,["toolUsePromptTokenCount"],a);const s=xn(t,["thoughtsTokenCount"]);null!=s&&bn(n,["thoughtsTokenCount"],s);const l=xn(t,["totalTokenCount"]);null!=l&&bn(n,["totalTokenCount"],l);const u=xn(t,["promptTokensDetails"]);if(null!=u){let e=u;Array.isArray(e)&&(e=e.map(e=>zi(0,e))),bn(n,["promptTokensDetails"],e)}const c=xn(t,["cacheTokensDetails"]);if(null!=c){let e=c;Array.isArray(e)&&(e=e.map(e=>zi(0,e))),bn(n,["cacheTokensDetails"],e)}const d=xn(t,["candidatesTokensDetails"]);if(null!=d){let e=d;Array.isArray(e)&&(e=e.map(e=>zi(0,e))),bn(n,["responseTokensDetails"],e)}const p=xn(t,["toolUsePromptTokensDetails"]);if(null!=p){let e=p;Array.isArray(e)&&(e=e.map(e=>zi(0,e))),bn(n,["toolUsePromptTokensDetails"],e)}const f=xn(t,["trafficType"]);return null!=f&&bn(n,["trafficType"],f),n}(0,a));const s=xn(t,["goAway"]);null!=s&&bn(n,["goAway"],function(e,t){const n={},r=xn(t,["timeLeft"]);return null!=r&&bn(n,["timeLeft"],r),n}(0,s));const l=xn(t,["sessionResumptionUpdate"]);return null!=l&&bn(n,["sessionResumptionUpdate"],function(e,t){const n={},r=xn(t,["newHandle"]);null!=r&&bn(n,["newHandle"],r);const i=xn(t,["resumable"]);null!=i&&bn(n,["resumable"],i);const o=xn(t,["lastConsumedClientMessageIndex"]);return null!=o&&bn(n,["lastConsumedClientMessageIndex"],o),n}(0,l)),n}function Bi(e,t){const n={},r=xn(t,["clientContent"]);null!=r&&bn(n,["clientContent"],function(e,t){const n={},r=xn(t,["weightedPrompts"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>function(e,t){const n={},r=xn(t,["text"]);null!=r&&bn(n,["text"],r);const i=xn(t,["weight"]);return null!=i&&bn(n,["weight"],i),n}(0,e))),bn(n,["weightedPrompts"],e)}return n}(0,r));const i=xn(t,["musicGenerationConfig"]);return null!=i&&bn(n,["musicGenerationConfig"],function(e,t){const n={},r=xn(t,["temperature"]);null!=r&&bn(n,["temperature"],r);const i=xn(t,["topK"]);null!=i&&bn(n,["topK"],i);const o=xn(t,["seed"]);null!=o&&bn(n,["seed"],o);const a=xn(t,["guidance"]);null!=a&&bn(n,["guidance"],a);const s=xn(t,["bpm"]);null!=s&&bn(n,["bpm"],s);const l=xn(t,["density"]);null!=l&&bn(n,["density"],l);const u=xn(t,["brightness"]);null!=u&&bn(n,["brightness"],u);const c=xn(t,["scale"]);null!=c&&bn(n,["scale"],c);const d=xn(t,["muteBass"]);null!=d&&bn(n,["muteBass"],d);const p=xn(t,["muteDrums"]);null!=p&&bn(n,["muteDrums"],p);const f=xn(t,["onlyBassAndDrums"]);return null!=f&&bn(n,["onlyBassAndDrums"],f),n}(0,i)),n}function Gi(e,t){const n={};null!=xn(t,["setupComplete"])&&bn(n,["setupComplete"],{});const r=xn(t,["serverContent"]);null!=r&&bn(n,["serverContent"],function(e,t){const n={},r=xn(t,["audioChunks"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>function(e,t){const n={},r=xn(t,["data"]);null!=r&&bn(n,["data"],r);const i=xn(t,["mimeType"]);null!=i&&bn(n,["mimeType"],i);const o=xn(t,["sourceMetadata"]);return null!=o&&bn(n,["sourceMetadata"],Bi(0,o)),n}(0,e))),bn(n,["audioChunks"],e)}return n}(0,r));const i=xn(t,["filteredPrompt"]);return null!=i&&bn(n,["filteredPrompt"],function(e,t){const n={},r=xn(t,["text"]);null!=r&&bn(n,["text"],r);const i=xn(t,["filteredReason"]);return null!=i&&bn(n,["filteredReason"],i),n}(0,i)),n}function Hi(e,t){const n={},r=xn(t,["parts"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>function(e,t){const n={},r=xn(t,["videoMetadata"]);null!=r&&bn(n,["videoMetadata"],function(e,t){const n={},r=xn(t,["fps"]);null!=r&&bn(n,["fps"],r);const i=xn(t,["endOffset"]);null!=i&&bn(n,["endOffset"],i);const o=xn(t,["startOffset"]);return null!=o&&bn(n,["startOffset"],o),n}(0,r));const i=xn(t,["thought"]);null!=i&&bn(n,["thought"],i);const o=xn(t,["inlineData"]);null!=o&&bn(n,["inlineData"],function(e,t){const n={};if(void 0!==xn(t,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const r=xn(t,["data"]);null!=r&&bn(n,["data"],r);const i=xn(t,["mimeType"]);return null!=i&&bn(n,["mimeType"],i),n}(0,o));const a=xn(t,["fileData"]);null!=a&&bn(n,["fileData"],function(e,t){const n={};if(void 0!==xn(t,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const r=xn(t,["fileUri"]);null!=r&&bn(n,["fileUri"],r);const i=xn(t,["mimeType"]);return null!=i&&bn(n,["mimeType"],i),n}(0,a));const s=xn(t,["thoughtSignature"]);null!=s&&bn(n,["thoughtSignature"],s);const l=xn(t,["codeExecutionResult"]);null!=l&&bn(n,["codeExecutionResult"],l);const u=xn(t,["executableCode"]);null!=u&&bn(n,["executableCode"],u);const c=xn(t,["functionCall"]);null!=c&&bn(n,["functionCall"],c);const d=xn(t,["functionResponse"]);null!=d&&bn(n,["functionResponse"],d);const p=xn(t,["text"]);return null!=p&&bn(n,["text"],p),n}(0,e))),bn(n,["parts"],e)}const i=xn(t,["role"]);return null!=i&&bn(n,["role"],i),n}function $i(e,t){const n={},r=xn(t,["functionDeclarations"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>function(e,t){const n={},r=xn(t,["behavior"]);null!=r&&bn(n,["behavior"],r);const i=xn(t,["description"]);null!=i&&bn(n,["description"],i);const o=xn(t,["name"]);null!=o&&bn(n,["name"],o);const a=xn(t,["parameters"]);null!=a&&bn(n,["parameters"],a);const s=xn(t,["response"]);return null!=s&&bn(n,["response"],s),n}(0,e))),bn(n,["functionDeclarations"],e)}if(void 0!==xn(t,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const i=xn(t,["googleSearch"]);null!=i&&bn(n,["googleSearch"],function(e,t){const n={},r=xn(t,["timeRangeFilter"]);return null!=r&&bn(n,["timeRangeFilter"],function(e,t){const n={},r=xn(t,["startTime"]);null!=r&&bn(n,["startTime"],r);const i=xn(t,["endTime"]);return null!=i&&bn(n,["endTime"],i),n}(0,r)),n}(0,i));const o=xn(t,["googleSearchRetrieval"]);if(null!=o&&bn(n,["googleSearchRetrieval"],function(e,t){const n={},r=xn(t,["dynamicRetrievalConfig"]);return null!=r&&bn(n,["dynamicRetrievalConfig"],function(e,t){const n={},r=xn(t,["mode"]);null!=r&&bn(n,["mode"],r);const i=xn(t,["dynamicThreshold"]);return null!=i&&bn(n,["dynamicThreshold"],i),n}(0,r)),n}(0,o)),void 0!==xn(t,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(void 0!==xn(t,["googleMaps"]))throw new Error("googleMaps parameter is not supported in Gemini API.");null!=xn(t,["urlContext"])&&bn(n,["urlContext"],{});const a=xn(t,["codeExecution"]);return null!=a&&bn(n,["codeExecution"],a),n}function Zi(e,t){const n={},r=xn(t,["functionCallingConfig"]);null!=r&&bn(n,["functionCallingConfig"],function(e,t){const n={},r=xn(t,["mode"]);null!=r&&bn(n,["mode"],r);const i=xn(t,["allowedFunctionNames"]);return null!=i&&bn(n,["allowedFunctionNames"],i),n}(0,r));const i=xn(t,["retrievalConfig"]);return null!=i&&bn(n,["retrievalConfig"],function(e,t){const n={},r=xn(t,["latLng"]);null!=r&&bn(n,["latLng"],function(e,t){const n={},r=xn(t,["latitude"]);null!=r&&bn(n,["latitude"],r);const i=xn(t,["longitude"]);return null!=i&&bn(n,["longitude"],i),n}(0,r));const i=xn(t,["languageCode"]);return null!=i&&bn(n,["languageCode"],i),n}(0,i)),n}function Wi(e,t){const n={},r=xn(t,["prebuiltVoiceConfig"]);return null!=r&&bn(n,["prebuiltVoiceConfig"],function(e,t){const n={},r=xn(t,["voiceName"]);return null!=r&&bn(n,["voiceName"],r),n}(0,r)),n}function Ji(e,t,n){const r={},i=xn(t,["systemInstruction"]);void 0!==n&&null!=i&&bn(n,["systemInstruction"],Hi(0,jr(0,i)));const o=xn(t,["temperature"]);null!=o&&bn(r,["temperature"],o);const a=xn(t,["topP"]);null!=a&&bn(r,["topP"],a);const s=xn(t,["topK"]);null!=s&&bn(r,["topK"],s);const l=xn(t,["candidateCount"]);null!=l&&bn(r,["candidateCount"],l);const u=xn(t,["maxOutputTokens"]);null!=u&&bn(r,["maxOutputTokens"],u);const c=xn(t,["stopSequences"]);null!=c&&bn(r,["stopSequences"],c);const d=xn(t,["responseLogprobs"]);null!=d&&bn(r,["responseLogprobs"],d);const p=xn(t,["logprobs"]);null!=p&&bn(r,["logprobs"],p);const f=xn(t,["presencePenalty"]);null!=f&&bn(r,["presencePenalty"],f);const h=xn(t,["frequencyPenalty"]);null!=h&&bn(r,["frequencyPenalty"],h);const m=xn(t,["seed"]);null!=m&&bn(r,["seed"],m);const g=xn(t,["responseMimeType"]);null!=g&&bn(r,["responseMimeType"],g);const v=xn(t,["responseSchema"]);if(null!=v&&bn(r,["responseSchema"],function(e,t){const n={},r=xn(t,["anyOf"]);null!=r&&bn(n,["anyOf"],r);const i=xn(t,["default"]);null!=i&&bn(n,["default"],i);const o=xn(t,["description"]);null!=o&&bn(n,["description"],o);const a=xn(t,["enum"]);null!=a&&bn(n,["enum"],a);const s=xn(t,["example"]);null!=s&&bn(n,["example"],s);const l=xn(t,["format"]);null!=l&&bn(n,["format"],l);const u=xn(t,["items"]);null!=u&&bn(n,["items"],u);const c=xn(t,["maxItems"]);null!=c&&bn(n,["maxItems"],c);const d=xn(t,["maxLength"]);null!=d&&bn(n,["maxLength"],d);const p=xn(t,["maxProperties"]);null!=p&&bn(n,["maxProperties"],p);const f=xn(t,["maximum"]);null!=f&&bn(n,["maximum"],f);const h=xn(t,["minItems"]);null!=h&&bn(n,["minItems"],h);const m=xn(t,["minLength"]);null!=m&&bn(n,["minLength"],m);const g=xn(t,["minProperties"]);null!=g&&bn(n,["minProperties"],g);const v=xn(t,["minimum"]);null!=v&&bn(n,["minimum"],v);const y=xn(t,["nullable"]);null!=y&&bn(n,["nullable"],y);const b=xn(t,["pattern"]);null!=b&&bn(n,["pattern"],b);const x=xn(t,["properties"]);null!=x&&bn(n,["properties"],x);const _=xn(t,["propertyOrdering"]);null!=_&&bn(n,["propertyOrdering"],_);const w=xn(t,["required"]);null!=w&&bn(n,["required"],w);const C=xn(t,["title"]);null!=C&&bn(n,["title"],C);const S=xn(t,["type"]);return null!=S&&bn(n,["type"],S),n}(0,zr(0,v))),void 0!==xn(t,["routingConfig"]))throw new Error("routingConfig parameter is not supported in Gemini API.");if(void 0!==xn(t,["modelSelectionConfig"]))throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const y=xn(t,["safetySettings"]);if(void 0!==n&&null!=y){let e=y;Array.isArray(e)&&(e=e.map(e=>function(e,t){const n={};if(void 0!==xn(t,["method"]))throw new Error("method parameter is not supported in Gemini API.");const r=xn(t,["category"]);null!=r&&bn(n,["category"],r);const i=xn(t,["threshold"]);return null!=i&&bn(n,["threshold"],i),n}(0,e))),bn(n,["safetySettings"],e)}const b=xn(t,["tools"]);if(void 0!==n&&null!=b){let e=Gr(0,b);Array.isArray(e)&&(e=e.map(e=>$i(0,Br(0,e)))),bn(n,["tools"],e)}const x=xn(t,["toolConfig"]);if(void 0!==n&&null!=x&&bn(n,["toolConfig"],Zi(0,x)),void 0!==xn(t,["labels"]))throw new Error("labels parameter is not supported in Gemini API.");const _=xn(t,["cachedContent"]);void 0!==n&&null!=_&&bn(n,["cachedContent"],Hr(e,_));const w=xn(t,["responseModalities"]);null!=w&&bn(r,["responseModalities"],w);const C=xn(t,["mediaResolution"]);null!=C&&bn(r,["mediaResolution"],C);const S=xn(t,["speechConfig"]);if(null!=S&&bn(r,["speechConfig"],function(e,t){const n={},r=xn(t,["voiceConfig"]);null!=r&&bn(n,["voiceConfig"],Wi(0,r));const i=xn(t,["multiSpeakerVoiceConfig"]);null!=i&&bn(n,["multiSpeakerVoiceConfig"],function(e,t){const n={},r=xn(t,["speakerVoiceConfigs"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>function(e,t){const n={},r=xn(t,["speaker"]);null!=r&&bn(n,["speaker"],r);const i=xn(t,["voiceConfig"]);return null!=i&&bn(n,["voiceConfig"],Wi(0,i)),n}(0,e))),bn(n,["speakerVoiceConfigs"],e)}return n}(0,i));const o=xn(t,["languageCode"]);return null!=o&&bn(n,["languageCode"],o),n}(0,Vr(0,S))),void 0!==xn(t,["audioTimestamp"]))throw new Error("audioTimestamp parameter is not supported in Gemini API.");const E=xn(t,["thinkingConfig"]);return null!=E&&bn(r,["thinkingConfig"],function(e,t){const n={},r=xn(t,["includeThoughts"]);null!=r&&bn(n,["includeThoughts"],r);const i=xn(t,["thinkingBudget"]);return null!=i&&bn(n,["thinkingBudget"],i),n}(0,E)),r}function Ki(e,t){const n={},r=xn(t,["model"]);null!=r&&bn(n,["_url","model"],Sr(e,r));const i=xn(t,["contents"]);if(null!=i){let e=Mr(0,i);Array.isArray(e)&&(e=e.map(e=>Hi(0,e))),bn(n,["contents"],e)}const o=xn(t,["config"]);return null!=o&&bn(n,["generationConfig"],Ji(e,o,n)),n}function Yi(e,t){const n={},r=xn(t,["parts"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>function(e,t){const n={},r=xn(t,["videoMetadata"]);null!=r&&bn(n,["videoMetadata"],function(e,t){const n={},r=xn(t,["fps"]);null!=r&&bn(n,["fps"],r);const i=xn(t,["endOffset"]);null!=i&&bn(n,["endOffset"],i);const o=xn(t,["startOffset"]);return null!=o&&bn(n,["startOffset"],o),n}(0,r));const i=xn(t,["thought"]);null!=i&&bn(n,["thought"],i);const o=xn(t,["inlineData"]);null!=o&&bn(n,["inlineData"],function(e,t){const n={},r=xn(t,["displayName"]);null!=r&&bn(n,["displayName"],r);const i=xn(t,["data"]);null!=i&&bn(n,["data"],i);const o=xn(t,["mimeType"]);return null!=o&&bn(n,["mimeType"],o),n}(0,o));const a=xn(t,["fileData"]);null!=a&&bn(n,["fileData"],function(e,t){const n={},r=xn(t,["displayName"]);null!=r&&bn(n,["displayName"],r);const i=xn(t,["fileUri"]);null!=i&&bn(n,["fileUri"],i);const o=xn(t,["mimeType"]);return null!=o&&bn(n,["mimeType"],o),n}(0,a));const s=xn(t,["thoughtSignature"]);null!=s&&bn(n,["thoughtSignature"],s);const l=xn(t,["codeExecutionResult"]);null!=l&&bn(n,["codeExecutionResult"],l);const u=xn(t,["executableCode"]);null!=u&&bn(n,["executableCode"],u);const c=xn(t,["functionCall"]);null!=c&&bn(n,["functionCall"],c);const d=xn(t,["functionResponse"]);null!=d&&bn(n,["functionResponse"],d);const p=xn(t,["text"]);return null!=p&&bn(n,["text"],p),n}(0,e))),bn(n,["parts"],e)}const i=xn(t,["role"]);return null!=i&&bn(n,["role"],i),n}function Qi(e,t){const n={},r=xn(t,["functionDeclarations"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>function(e,t){const n={};if(void 0!==xn(t,["behavior"]))throw new Error("behavior parameter is not supported in Vertex AI.");const r=xn(t,["description"]);null!=r&&bn(n,["description"],r);const i=xn(t,["name"]);null!=i&&bn(n,["name"],i);const o=xn(t,["parameters"]);null!=o&&bn(n,["parameters"],o);const a=xn(t,["response"]);return null!=a&&bn(n,["response"],a),n}(0,e))),bn(n,["functionDeclarations"],e)}const i=xn(t,["retrieval"]);null!=i&&bn(n,["retrieval"],i);const o=xn(t,["googleSearch"]);null!=o&&bn(n,["googleSearch"],function(e,t){const n={},r=xn(t,["timeRangeFilter"]);return null!=r&&bn(n,["timeRangeFilter"],function(e,t){const n={},r=xn(t,["startTime"]);null!=r&&bn(n,["startTime"],r);const i=xn(t,["endTime"]);return null!=i&&bn(n,["endTime"],i),n}(0,r)),n}(0,o));const a=xn(t,["googleSearchRetrieval"]);null!=a&&bn(n,["googleSearchRetrieval"],function(e,t){const n={},r=xn(t,["dynamicRetrievalConfig"]);return null!=r&&bn(n,["dynamicRetrievalConfig"],function(e,t){const n={},r=xn(t,["mode"]);null!=r&&bn(n,["mode"],r);const i=xn(t,["dynamicThreshold"]);return null!=i&&bn(n,["dynamicThreshold"],i),n}(0,r)),n}(0,a)),null!=xn(t,["enterpriseWebSearch"])&&bn(n,["enterpriseWebSearch"],{});const s=xn(t,["googleMaps"]);null!=s&&bn(n,["googleMaps"],function(e,t){const n={},r=xn(t,["authConfig"]);return null!=r&&bn(n,["authConfig"],function(e,t){const n={},r=xn(t,["apiKeyConfig"]);null!=r&&bn(n,["apiKeyConfig"],function(e,t){const n={},r=xn(t,["apiKeyString"]);return null!=r&&bn(n,["apiKeyString"],r),n}(0,r));const i=xn(t,["authType"]);null!=i&&bn(n,["authType"],i);const o=xn(t,["googleServiceAccountConfig"]);null!=o&&bn(n,["googleServiceAccountConfig"],o);const a=xn(t,["httpBasicAuthConfig"]);null!=a&&bn(n,["httpBasicAuthConfig"],a);const s=xn(t,["oauthConfig"]);null!=s&&bn(n,["oauthConfig"],s);const l=xn(t,["oidcConfig"]);return null!=l&&bn(n,["oidcConfig"],l),n}(0,r)),n}(0,s)),null!=xn(t,["urlContext"])&&bn(n,["urlContext"],{});const l=xn(t,["codeExecution"]);return null!=l&&bn(n,["codeExecution"],l),n}function Xi(e,t){const n={},r=xn(t,["functionCallingConfig"]);null!=r&&bn(n,["functionCallingConfig"],function(e,t){const n={},r=xn(t,["mode"]);null!=r&&bn(n,["mode"],r);const i=xn(t,["allowedFunctionNames"]);return null!=i&&bn(n,["allowedFunctionNames"],i),n}(0,r));const i=xn(t,["retrievalConfig"]);return null!=i&&bn(n,["retrievalConfig"],function(e,t){const n={},r=xn(t,["latLng"]);null!=r&&bn(n,["latLng"],function(e,t){const n={},r=xn(t,["latitude"]);null!=r&&bn(n,["latitude"],r);const i=xn(t,["longitude"]);return null!=i&&bn(n,["longitude"],i),n}(0,r));const i=xn(t,["languageCode"]);return null!=i&&bn(n,["languageCode"],i),n}(0,i)),n}function eo(e,t,n){const r={},i=xn(t,["systemInstruction"]);void 0!==n&&null!=i&&bn(n,["systemInstruction"],Yi(0,jr(0,i)));const o=xn(t,["temperature"]);null!=o&&bn(r,["temperature"],o);const a=xn(t,["topP"]);null!=a&&bn(r,["topP"],a);const s=xn(t,["topK"]);null!=s&&bn(r,["topK"],s);const l=xn(t,["candidateCount"]);null!=l&&bn(r,["candidateCount"],l);const u=xn(t,["maxOutputTokens"]);null!=u&&bn(r,["maxOutputTokens"],u);const c=xn(t,["stopSequences"]);null!=c&&bn(r,["stopSequences"],c);const d=xn(t,["responseLogprobs"]);null!=d&&bn(r,["responseLogprobs"],d);const p=xn(t,["logprobs"]);null!=p&&bn(r,["logprobs"],p);const f=xn(t,["presencePenalty"]);null!=f&&bn(r,["presencePenalty"],f);const h=xn(t,["frequencyPenalty"]);null!=h&&bn(r,["frequencyPenalty"],h);const m=xn(t,["seed"]);null!=m&&bn(r,["seed"],m);const g=xn(t,["responseMimeType"]);null!=g&&bn(r,["responseMimeType"],g);const v=xn(t,["responseSchema"]);null!=v&&bn(r,["responseSchema"],function(e,t){const n={},r=xn(t,["anyOf"]);null!=r&&bn(n,["anyOf"],r);const i=xn(t,["default"]);null!=i&&bn(n,["default"],i);const o=xn(t,["description"]);null!=o&&bn(n,["description"],o);const a=xn(t,["enum"]);null!=a&&bn(n,["enum"],a);const s=xn(t,["example"]);null!=s&&bn(n,["example"],s);const l=xn(t,["format"]);null!=l&&bn(n,["format"],l);const u=xn(t,["items"]);null!=u&&bn(n,["items"],u);const c=xn(t,["maxItems"]);null!=c&&bn(n,["maxItems"],c);const d=xn(t,["maxLength"]);null!=d&&bn(n,["maxLength"],d);const p=xn(t,["maxProperties"]);null!=p&&bn(n,["maxProperties"],p);const f=xn(t,["maximum"]);null!=f&&bn(n,["maximum"],f);const h=xn(t,["minItems"]);null!=h&&bn(n,["minItems"],h);const m=xn(t,["minLength"]);null!=m&&bn(n,["minLength"],m);const g=xn(t,["minProperties"]);null!=g&&bn(n,["minProperties"],g);const v=xn(t,["minimum"]);null!=v&&bn(n,["minimum"],v);const y=xn(t,["nullable"]);null!=y&&bn(n,["nullable"],y);const b=xn(t,["pattern"]);null!=b&&bn(n,["pattern"],b);const x=xn(t,["properties"]);null!=x&&bn(n,["properties"],x);const _=xn(t,["propertyOrdering"]);null!=_&&bn(n,["propertyOrdering"],_);const w=xn(t,["required"]);null!=w&&bn(n,["required"],w);const C=xn(t,["title"]);null!=C&&bn(n,["title"],C);const S=xn(t,["type"]);return null!=S&&bn(n,["type"],S),n}(0,zr(0,v)));const y=xn(t,["routingConfig"]);null!=y&&bn(r,["routingConfig"],y);const b=xn(t,["modelSelectionConfig"]);null!=b&&bn(r,["modelConfig"],function(e,t){const n={},r=xn(t,["featureSelectionPreference"]);return null!=r&&bn(n,["featureSelectionPreference"],r),n}(0,b));const x=xn(t,["safetySettings"]);if(void 0!==n&&null!=x){let e=x;Array.isArray(e)&&(e=e.map(e=>function(e,t){const n={},r=xn(t,["method"]);null!=r&&bn(n,["method"],r);const i=xn(t,["category"]);null!=i&&bn(n,["category"],i);const o=xn(t,["threshold"]);return null!=o&&bn(n,["threshold"],o),n}(0,e))),bn(n,["safetySettings"],e)}const _=xn(t,["tools"]);if(void 0!==n&&null!=_){let e=Gr(0,_);Array.isArray(e)&&(e=e.map(e=>Qi(0,Br(0,e)))),bn(n,["tools"],e)}const w=xn(t,["toolConfig"]);void 0!==n&&null!=w&&bn(n,["toolConfig"],Xi(0,w));const C=xn(t,["labels"]);void 0!==n&&null!=C&&bn(n,["labels"],C);const S=xn(t,["cachedContent"]);void 0!==n&&null!=S&&bn(n,["cachedContent"],Hr(e,S));const E=xn(t,["responseModalities"]);null!=E&&bn(r,["responseModalities"],E);const T=xn(t,["mediaResolution"]);null!=T&&bn(r,["mediaResolution"],T);const k=xn(t,["speechConfig"]);null!=k&&bn(r,["speechConfig"],function(e,t){const n={},r=xn(t,["voiceConfig"]);if(null!=r&&bn(n,["voiceConfig"],function(e,t){const n={},r=xn(t,["prebuiltVoiceConfig"]);return null!=r&&bn(n,["prebuiltVoiceConfig"],function(e,t){const n={},r=xn(t,["voiceName"]);return null!=r&&bn(n,["voiceName"],r),n}(0,r)),n}(0,r)),void 0!==xn(t,["multiSpeakerVoiceConfig"]))throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const i=xn(t,["languageCode"]);return null!=i&&bn(n,["languageCode"],i),n}(0,Vr(0,k)));const O=xn(t,["audioTimestamp"]);null!=O&&bn(r,["audioTimestamp"],O);const N=xn(t,["thinkingConfig"]);return null!=N&&bn(r,["thinkingConfig"],function(e,t){const n={},r=xn(t,["includeThoughts"]);null!=r&&bn(n,["includeThoughts"],r);const i=xn(t,["thinkingBudget"]);return null!=i&&bn(n,["thinkingBudget"],i),n}(0,N)),r}function to(e,t){const n={},r=xn(t,["model"]);null!=r&&bn(n,["_url","model"],Sr(e,r));const i=xn(t,["contents"]);if(null!=i){let e=Mr(0,i);Array.isArray(e)&&(e=e.map(e=>Yi(0,e))),bn(n,["contents"],e)}const o=xn(t,["config"]);return null!=o&&bn(n,["generationConfig"],eo(e,o,n)),n}function no(e,t){const n={},r=xn(t,["gcsUri"]);null!=r&&bn(n,["gcsUri"],r);const i=xn(t,["imageBytes"]);null!=i&&bn(n,["bytesBase64Encoded"],Zr(0,i));const o=xn(t,["mimeType"]);return null!=o&&bn(n,["mimeType"],o),n}function ro(e,t){const n={},r=xn(t,["model"]);null!=r&&bn(n,["_url","model"],Sr(e,r));const i=xn(t,["prompt"]);null!=i&&bn(n,["instances[0]","prompt"],i);const o=xn(t,["referenceImages"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>function(e,t){const n={},r=xn(t,["referenceImage"]);null!=r&&bn(n,["referenceImage"],no(0,r));const i=xn(t,["referenceId"]);null!=i&&bn(n,["referenceId"],i);const o=xn(t,["referenceType"]);null!=o&&bn(n,["referenceType"],o);const a=xn(t,["maskImageConfig"]);null!=a&&bn(n,["maskImageConfig"],function(e,t){const n={},r=xn(t,["maskMode"]);null!=r&&bn(n,["maskMode"],r);const i=xn(t,["segmentationClasses"]);null!=i&&bn(n,["maskClasses"],i);const o=xn(t,["maskDilation"]);return null!=o&&bn(n,["dilation"],o),n}(0,a));const s=xn(t,["controlImageConfig"]);null!=s&&bn(n,["controlImageConfig"],function(e,t){const n={},r=xn(t,["controlType"]);null!=r&&bn(n,["controlType"],r);const i=xn(t,["enableControlImageComputation"]);return null!=i&&bn(n,["computeControl"],i),n}(0,s));const l=xn(t,["styleImageConfig"]);null!=l&&bn(n,["styleImageConfig"],function(e,t){const n={},r=xn(t,["styleDescription"]);return null!=r&&bn(n,["styleDescription"],r),n}(0,l));const u=xn(t,["subjectImageConfig"]);return null!=u&&bn(n,["subjectImageConfig"],function(e,t){const n={},r=xn(t,["subjectType"]);null!=r&&bn(n,["subjectType"],r);const i=xn(t,["subjectDescription"]);return null!=i&&bn(n,["subjectDescription"],i),n}(0,u)),n}(0,e))),bn(n,["instances[0]","referenceImages"],e)}const a=xn(t,["config"]);return null!=a&&bn(n,["config"],function(e,t,n){const r=xn(t,["outputGcsUri"]);void 0!==n&&null!=r&&bn(n,["parameters","storageUri"],r);const i=xn(t,["negativePrompt"]);void 0!==n&&null!=i&&bn(n,["parameters","negativePrompt"],i);const o=xn(t,["numberOfImages"]);void 0!==n&&null!=o&&bn(n,["parameters","sampleCount"],o);const a=xn(t,["aspectRatio"]);void 0!==n&&null!=a&&bn(n,["parameters","aspectRatio"],a);const s=xn(t,["guidanceScale"]);void 0!==n&&null!=s&&bn(n,["parameters","guidanceScale"],s);const l=xn(t,["seed"]);void 0!==n&&null!=l&&bn(n,["parameters","seed"],l);const u=xn(t,["safetyFilterLevel"]);void 0!==n&&null!=u&&bn(n,["parameters","safetySetting"],u);const c=xn(t,["personGeneration"]);void 0!==n&&null!=c&&bn(n,["parameters","personGeneration"],c);const d=xn(t,["includeSafetyAttributes"]);void 0!==n&&null!=d&&bn(n,["parameters","includeSafetyAttributes"],d);const p=xn(t,["includeRaiReason"]);void 0!==n&&null!=p&&bn(n,["parameters","includeRaiReason"],p);const f=xn(t,["language"]);void 0!==n&&null!=f&&bn(n,["parameters","language"],f);const h=xn(t,["outputMimeType"]);void 0!==n&&null!=h&&bn(n,["parameters","outputOptions","mimeType"],h);const m=xn(t,["outputCompressionQuality"]);void 0!==n&&null!=m&&bn(n,["parameters","outputOptions","compressionQuality"],m);const g=xn(t,["editMode"]);void 0!==n&&null!=g&&bn(n,["parameters","editMode"],g);const v=xn(t,["baseSteps"]);return void 0!==n&&null!=v&&bn(n,["parameters","editConfig","baseSteps"],v),{}}(0,a,n)),n}function io(e,t){const n={},r=xn(t,["content"]);null!=r&&bn(n,["content"],function(e,t){const n={},r=xn(t,["parts"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>function(e,t){const n={},r=xn(t,["videoMetadata"]);null!=r&&bn(n,["videoMetadata"],function(e,t){const n={},r=xn(t,["fps"]);null!=r&&bn(n,["fps"],r);const i=xn(t,["endOffset"]);null!=i&&bn(n,["endOffset"],i);const o=xn(t,["startOffset"]);return null!=o&&bn(n,["startOffset"],o),n}(0,r));const i=xn(t,["thought"]);null!=i&&bn(n,["thought"],i);const o=xn(t,["inlineData"]);null!=o&&bn(n,["inlineData"],function(e,t){const n={},r=xn(t,["data"]);null!=r&&bn(n,["data"],r);const i=xn(t,["mimeType"]);return null!=i&&bn(n,["mimeType"],i),n}(0,o));const a=xn(t,["fileData"]);null!=a&&bn(n,["fileData"],function(e,t){const n={},r=xn(t,["fileUri"]);null!=r&&bn(n,["fileUri"],r);const i=xn(t,["mimeType"]);return null!=i&&bn(n,["mimeType"],i),n}(0,a));const s=xn(t,["thoughtSignature"]);null!=s&&bn(n,["thoughtSignature"],s);const l=xn(t,["codeExecutionResult"]);null!=l&&bn(n,["codeExecutionResult"],l);const u=xn(t,["executableCode"]);null!=u&&bn(n,["executableCode"],u);const c=xn(t,["functionCall"]);null!=c&&bn(n,["functionCall"],c);const d=xn(t,["functionResponse"]);null!=d&&bn(n,["functionResponse"],d);const p=xn(t,["text"]);return null!=p&&bn(n,["text"],p),n}(0,e))),bn(n,["parts"],e)}const i=xn(t,["role"]);return null!=i&&bn(n,["role"],i),n}(0,r));const i=xn(t,["citationMetadata"]);null!=i&&bn(n,["citationMetadata"],function(e,t){const n={},r=xn(t,["citationSources"]);return null!=r&&bn(n,["citations"],r),n}(0,i));const o=xn(t,["tokenCount"]);null!=o&&bn(n,["tokenCount"],o);const a=xn(t,["finishReason"]);null!=a&&bn(n,["finishReason"],a);const s=xn(t,["urlContextMetadata"]);null!=s&&bn(n,["urlContextMetadata"],function(e,t){const n={},r=xn(t,["urlMetadata"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>function(e,t){const n={},r=xn(t,["retrievedUrl"]);null!=r&&bn(n,["retrievedUrl"],r);const i=xn(t,["urlRetrievalStatus"]);return null!=i&&bn(n,["urlRetrievalStatus"],i),n}(0,e))),bn(n,["urlMetadata"],e)}return n}(0,s));const l=xn(t,["avgLogprobs"]);null!=l&&bn(n,["avgLogprobs"],l);const u=xn(t,["groundingMetadata"]);null!=u&&bn(n,["groundingMetadata"],u);const c=xn(t,["index"]);null!=c&&bn(n,["index"],c);const d=xn(t,["logprobsResult"]);null!=d&&bn(n,["logprobsResult"],d);const p=xn(t,["safetyRatings"]);return null!=p&&bn(n,["safetyRatings"],p),n}function oo(e,t){const n={},r=xn(t,["candidates"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>io(0,e))),bn(n,["candidates"],e)}const i=xn(t,["modelVersion"]);null!=i&&bn(n,["modelVersion"],i);const o=xn(t,["promptFeedback"]);null!=o&&bn(n,["promptFeedback"],o);const a=xn(t,["usageMetadata"]);return null!=a&&bn(n,["usageMetadata"],a),n}function ao(e,t){const n={},r=xn(t,["safetyAttributes","categories"]);null!=r&&bn(n,["categories"],r);const i=xn(t,["safetyAttributes","scores"]);null!=i&&bn(n,["scores"],i);const o=xn(t,["contentType"]);return null!=o&&bn(n,["contentType"],o),n}function so(e,t){const n={},r=xn(t,["name"]);null!=r&&bn(n,["name"],r);const i=xn(t,["displayName"]);null!=i&&bn(n,["displayName"],i);const o=xn(t,["description"]);null!=o&&bn(n,["description"],o);const a=xn(t,["version"]);null!=a&&bn(n,["version"],a);const s=xn(t,["_self"]);null!=s&&bn(n,["tunedModelInfo"],function(e,t){const n={},r=xn(t,["baseModel"]);null!=r&&bn(n,["baseModel"],r);const i=xn(t,["createTime"]);null!=i&&bn(n,["createTime"],i);const o=xn(t,["updateTime"]);return null!=o&&bn(n,["updateTime"],o),n}(0,s));const l=xn(t,["inputTokenLimit"]);null!=l&&bn(n,["inputTokenLimit"],l);const u=xn(t,["outputTokenLimit"]);null!=u&&bn(n,["outputTokenLimit"],u);const c=xn(t,["supportedGenerationMethods"]);return null!=c&&bn(n,["supportedActions"],c),n}function lo(e,t){const n={},r=xn(t,["name"]);null!=r&&bn(n,["name"],r);const i=xn(t,["metadata"]);null!=i&&bn(n,["metadata"],i);const o=xn(t,["done"]);null!=o&&bn(n,["done"],o);const a=xn(t,["error"]);null!=a&&bn(n,["error"],a);const s=xn(t,["response","generateVideoResponse"]);return null!=s&&bn(n,["response"],function(e,t){const n={},r=xn(t,["generatedSamples"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>function(e,t){const n={},r=xn(t,["_self"]);return null!=r&&bn(n,["video"],function(e,t){const n={},r=xn(t,["video","uri"]);null!=r&&bn(n,["uri"],r);const i=xn(t,["video","encodedVideo"]);null!=i&&bn(n,["videoBytes"],Zr(0,i));const o=xn(t,["encoding"]);return null!=o&&bn(n,["mimeType"],o),n}(0,r)),n}(0,e))),bn(n,["generatedVideos"],e)}const i=xn(t,["raiMediaFilteredCount"]);null!=i&&bn(n,["raiMediaFilteredCount"],i);const o=xn(t,["raiMediaFilteredReasons"]);return null!=o&&bn(n,["raiMediaFilteredReasons"],o),n}(0,s)),n}function uo(e,t){const n={},r=xn(t,["content"]);null!=r&&bn(n,["content"],function(e,t){const n={},r=xn(t,["parts"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>function(e,t){const n={},r=xn(t,["videoMetadata"]);null!=r&&bn(n,["videoMetadata"],function(e,t){const n={},r=xn(t,["fps"]);null!=r&&bn(n,["fps"],r);const i=xn(t,["endOffset"]);null!=i&&bn(n,["endOffset"],i);const o=xn(t,["startOffset"]);return null!=o&&bn(n,["startOffset"],o),n}(0,r));const i=xn(t,["thought"]);null!=i&&bn(n,["thought"],i);const o=xn(t,["inlineData"]);null!=o&&bn(n,["inlineData"],function(e,t){const n={},r=xn(t,["displayName"]);null!=r&&bn(n,["displayName"],r);const i=xn(t,["data"]);null!=i&&bn(n,["data"],i);const o=xn(t,["mimeType"]);return null!=o&&bn(n,["mimeType"],o),n}(0,o));const a=xn(t,["fileData"]);null!=a&&bn(n,["fileData"],function(e,t){const n={},r=xn(t,["displayName"]);null!=r&&bn(n,["displayName"],r);const i=xn(t,["fileUri"]);null!=i&&bn(n,["fileUri"],i);const o=xn(t,["mimeType"]);return null!=o&&bn(n,["mimeType"],o),n}(0,a));const s=xn(t,["thoughtSignature"]);null!=s&&bn(n,["thoughtSignature"],s);const l=xn(t,["codeExecutionResult"]);null!=l&&bn(n,["codeExecutionResult"],l);const u=xn(t,["executableCode"]);null!=u&&bn(n,["executableCode"],u);const c=xn(t,["functionCall"]);null!=c&&bn(n,["functionCall"],c);const d=xn(t,["functionResponse"]);null!=d&&bn(n,["functionResponse"],d);const p=xn(t,["text"]);return null!=p&&bn(n,["text"],p),n}(0,e))),bn(n,["parts"],e)}const i=xn(t,["role"]);return null!=i&&bn(n,["role"],i),n}(0,r));const i=xn(t,["citationMetadata"]);null!=i&&bn(n,["citationMetadata"],function(e,t){const n={},r=xn(t,["citations"]);return null!=r&&bn(n,["citations"],r),n}(0,i));const o=xn(t,["finishMessage"]);null!=o&&bn(n,["finishMessage"],o);const a=xn(t,["finishReason"]);null!=a&&bn(n,["finishReason"],a);const s=xn(t,["urlContextMetadata"]);null!=s&&bn(n,["urlContextMetadata"],function(e,t){const n={},r=xn(t,["urlMetadata"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>function(e,t){const n={},r=xn(t,["retrievedUrl"]);null!=r&&bn(n,["retrievedUrl"],r);const i=xn(t,["urlRetrievalStatus"]);return null!=i&&bn(n,["urlRetrievalStatus"],i),n}(0,e))),bn(n,["urlMetadata"],e)}return n}(0,s));const l=xn(t,["avgLogprobs"]);null!=l&&bn(n,["avgLogprobs"],l);const u=xn(t,["groundingMetadata"]);null!=u&&bn(n,["groundingMetadata"],u);const c=xn(t,["index"]);null!=c&&bn(n,["index"],c);const d=xn(t,["logprobsResult"]);null!=d&&bn(n,["logprobsResult"],d);const p=xn(t,["safetyRatings"]);return null!=p&&bn(n,["safetyRatings"],p),n}function co(e,t){const n={},r=xn(t,["candidates"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>uo(0,e))),bn(n,["candidates"],e)}const i=xn(t,["createTime"]);null!=i&&bn(n,["createTime"],i);const o=xn(t,["responseId"]);null!=o&&bn(n,["responseId"],o);const a=xn(t,["modelVersion"]);null!=a&&bn(n,["modelVersion"],a);const s=xn(t,["promptFeedback"]);null!=s&&bn(n,["promptFeedback"],s);const l=xn(t,["usageMetadata"]);return null!=l&&bn(n,["usageMetadata"],l),n}function po(e,t){const n={},r=xn(t,["predictions[]","embeddings"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>function(e,t){const n={},r=xn(t,["values"]);null!=r&&bn(n,["values"],r);const i=xn(t,["statistics"]);return null!=i&&bn(n,["statistics"],function(e,t){const n={},r=xn(t,["truncated"]);null!=r&&bn(n,["truncated"],r);const i=xn(t,["token_count"]);return null!=i&&bn(n,["tokenCount"],i),n}(0,i)),n}(0,e))),bn(n,["embeddings"],e)}const i=xn(t,["metadata"]);return null!=i&&bn(n,["metadata"],function(e,t){const n={},r=xn(t,["billableCharacterCount"]);return null!=r&&bn(n,["billableCharacterCount"],r),n}(0,i)),n}function fo(e,t){const n={},r=xn(t,["safetyAttributes","categories"]);null!=r&&bn(n,["categories"],r);const i=xn(t,["safetyAttributes","scores"]);null!=i&&bn(n,["scores"],i);const o=xn(t,["contentType"]);return null!=o&&bn(n,["contentType"],o),n}function ho(e,t){const n={},r=xn(t,["_self"]);null!=r&&bn(n,["image"],function(e,t){const n={},r=xn(t,["gcsUri"]);null!=r&&bn(n,["gcsUri"],r);const i=xn(t,["bytesBase64Encoded"]);null!=i&&bn(n,["imageBytes"],Zr(0,i));const o=xn(t,["mimeType"]);return null!=o&&bn(n,["mimeType"],o),n}(0,r));const i=xn(t,["raiFilteredReason"]);null!=i&&bn(n,["raiFilteredReason"],i);const o=xn(t,["_self"]);null!=o&&bn(n,["safetyAttributes"],fo(0,o));const a=xn(t,["prompt"]);return null!=a&&bn(n,["enhancedPrompt"],a),n}function mo(e,t){const n={},r=xn(t,["name"]);null!=r&&bn(n,["name"],r);const i=xn(t,["displayName"]);null!=i&&bn(n,["displayName"],i);const o=xn(t,["description"]);null!=o&&bn(n,["description"],o);const a=xn(t,["versionId"]);null!=a&&bn(n,["version"],a);const s=xn(t,["deployedModels"]);if(null!=s){let e=s;Array.isArray(e)&&(e=e.map(e=>function(e,t){const n={},r=xn(t,["endpoint"]);null!=r&&bn(n,["name"],r);const i=xn(t,["deployedModelId"]);return null!=i&&bn(n,["deployedModelId"],i),n}(0,e))),bn(n,["endpoints"],e)}const l=xn(t,["labels"]);null!=l&&bn(n,["labels"],l);const u=xn(t,["_self"]);null!=u&&bn(n,["tunedModelInfo"],function(e,t){const n={},r=xn(t,["labels","google-vertex-llm-tuning-base-model-id"]);null!=r&&bn(n,["baseModel"],r);const i=xn(t,["createTime"]);null!=i&&bn(n,["createTime"],i);const o=xn(t,["updateTime"]);return null!=o&&bn(n,["updateTime"],o),n}(0,u));const c=xn(t,["defaultCheckpointId"]);null!=c&&bn(n,["defaultCheckpointId"],c);const d=xn(t,["checkpoints"]);if(null!=d){let e=d;Array.isArray(e)&&(e=e.map(e=>function(e,t){const n={},r=xn(t,["checkpointId"]);null!=r&&bn(n,["checkpointId"],r);const i=xn(t,["epoch"]);null!=i&&bn(n,["epoch"],i);const o=xn(t,["step"]);return null!=o&&bn(n,["step"],o),n}(0,e))),bn(n,["checkpoints"],e)}return n}function go(e,t){const n={},r=xn(t,["name"]);null!=r&&bn(n,["name"],r);const i=xn(t,["metadata"]);null!=i&&bn(n,["metadata"],i);const o=xn(t,["done"]);null!=o&&bn(n,["done"],o);const a=xn(t,["error"]);null!=a&&bn(n,["error"],a);const s=xn(t,["response"]);return null!=s&&bn(n,["response"],function(e,t){const n={},r=xn(t,["videos"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>function(e,t){const n={},r=xn(t,["_self"]);return null!=r&&bn(n,["video"],function(e,t){const n={},r=xn(t,["gcsUri"]);null!=r&&bn(n,["uri"],r);const i=xn(t,["bytesBase64Encoded"]);null!=i&&bn(n,["videoBytes"],Zr(0,i));const o=xn(t,["mimeType"]);return null!=o&&bn(n,["mimeType"],o),n}(0,r)),n}(0,e))),bn(n,["generatedVideos"],e)}const i=xn(t,["raiMediaFilteredCount"]);null!=i&&bn(n,["raiMediaFilteredCount"],i);const o=xn(t,["raiMediaFilteredReasons"]);return null!=o&&bn(n,["raiMediaFilteredReasons"],o),n}(0,s)),n}const vo="x-goog-api-client",yo=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class bo extends Error{constructor(e,t){super(e,t?{cause:t}:{cause:(new Error).stack}),this.message=e,this.name="ClientError"}}class xo extends Error{constructor(e,t){super(e,t?{cause:t}:{cause:(new Error).stack}),this.message=e,this.name="ServerError"}}class _o{constructor(e){var t,n;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=null!==(t=this.clientOptions.apiVersion)&&void 0!==t?t:"v1beta1",r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=null!==(n=this.clientOptions.apiVersion)&&void 0!==n?n:"v1beta",r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&"global"!==this.clientOptions.location?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:(this.clientOptions.project=void 0,this.clientOptions.location=void 0)}isVertexAI(){var e;return null!==(e=this.clientOptions.vertexai)&&void 0!==e&&e}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&void 0!==this.clientOptions.httpOptions.apiVersion)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&void 0!==this.clientOptions.httpOptions.baseUrl)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&void 0!==this.clientOptions.httpOptions.headers)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||void 0===e.baseUrl||void 0===e.apiVersion)throw new Error("HTTP options are not correctly set.");const t=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&""!==e.apiVersion&&t.push(e.apiVersion),t.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),t=new URL(e);return t.protocol="http:"==t.protocol?"ws":"wss",t.toString()}setBaseUrl(e){if(!this.clientOptions.httpOptions)throw new Error("HTTP options are not correctly set.");this.clientOptions.httpOptions.baseUrl=e}constructUrl(e,t,n){const r=[this.getRequestUrlInternal(t)];return n&&r.push(this.getBaseResourcePath()),""!==e&&r.push(e),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||"GET"===e.httpMethod&&e.path.startsWith("publishers/google/models"))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const n=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,t,n);if(e.queryParams)for(const[t,n]of Object.entries(e.queryParams))r.searchParams.append(t,String(n));let i={};if("GET"===e.httpMethod){if(e.body&&"{}"!==e.body)throw new Error("Request body should be empty for GET request, but got non empty request body")}else i.body=e.body;return i=await this.includeExtraHttpOptionsToRequestInit(i,t,e.abortSignal),this.unaryApiCall(r,i,e.httpMethod)}patchHttpOptions(e,t){const n=JSON.parse(JSON.stringify(e));for(const[e,r]of Object.entries(t))"object"==typeof r?n[e]=Object.assign(Object.assign({},n[e]),r):void 0!==r&&(n[e]=r);return n}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const n=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,t,n);r.searchParams.has("alt")&&"sse"===r.searchParams.get("alt")||r.searchParams.set("alt","sse");let i={};return i.body=e.body,i=await this.includeExtraHttpOptionsToRequestInit(i,t,e.abortSignal),this.streamApiCall(r,i,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,n){if(t&&t.timeout||n){const r=new AbortController,i=r.signal;t.timeout&&(null==t?void 0:t.timeout)>0&&setTimeout(()=>r.abort(),t.timeout),n&&n.addEventListener("abort",()=>{r.abort()}),e.signal=i}return e.headers=await this.getHeadersInternal(t),e}async unaryApiCall(e,t,n){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:n})).then(async e=>(await wo(e),new br(e))).catch(e=>{throw e instanceof Error?e:new Error(JSON.stringify(e))})}async streamApiCall(e,t,n){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:n})).then(async e=>(await wo(e),this.processStreamResponse(e))).catch(e=>{throw e instanceof Error?e:new Error(JSON.stringify(e))})}processStreamResponse(e){var t;return hi(this,arguments,function*(){const n=null===(t=null==e?void 0:e.body)||void 0===t?void 0:t.getReader(),r=new TextDecoder("utf-8");if(!n)throw new Error("Response body is empty");try{let t="";for(;;){const{done:i,value:o}=yield fi(n.read());if(i){if(t.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const a=r.decode(o);try{const e=JSON.parse(a);if("error"in e){const t=JSON.parse(JSON.stringify(e.error)),n=t.status,r=t.code,i=`got status: ${n}. ${JSON.stringify(e)}`;if(r>=400&&r<500)throw new bo(i);if(r>=500&&r<600)throw new xo(i)}}catch(e){const t=e;if("ClientError"===t.name||"ServerError"===t.name)throw e}t+=a;let s=t.match(yo);for(;s;){const n=s[1];try{const r=new Response(n,{headers:null==e?void 0:e.headers,status:null==e?void 0:e.status,statusText:null==e?void 0:e.statusText});yield yield fi(new br(r)),t=t.slice(s[0].length),s=t.match(yo)}catch(e){throw new Error(`exception parsing stream chunk ${n}. ${e}`)}}}}finally{n.releaseLock()}})}async apiCall(e,t){return fetch(e,t).catch(e=>{throw new Error(`exception ${e} sending request`)})}getDefaultHeaders(){const e={},t="google-genai-sdk/1.5.1 "+this.clientOptions.userAgentExtra;return e["User-Agent"]=t,e[vo]=t,e["Content-Type"]="application/json",e}async getHeadersInternal(e){const t=new Headers;if(e&&e.headers){for(const[n,r]of Object.entries(e.headers))t.append(n,r);e.timeout&&e.timeout>0&&t.append("X-Server-Timeout",String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(t),t}async uploadFile(e,t){var n;const r={};null!=t&&(r.mimeType=t.mimeType,r.name=t.name,r.displayName=t.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const i=this.clientOptions.uploader,o=await i.stat(e);r.sizeBytes=String(o.size);const a=null!==(n=null==t?void 0:t.mimeType)&&void 0!==n?n:o.type;if(void 0===a||""===a)throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=a;const s=await this.fetchUploadUrl(r,t);return i.upload(e,s,this)}async downloadFile(e){const t=this.clientOptions.downloader;await t.download(e,this)}async fetchUploadUrl(e,t){var n;let r={};r=(null==t?void 0:t.httpOptions)?t.httpOptions:{apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const i={file:e},o=await this.request({path:yn("upload/v1beta/files",i._url),body:JSON.stringify(i),httpMethod:"POST",httpOptions:r});if(!o||!(null==o?void 0:o.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const a=null===(n=null==o?void 0:o.headers)||void 0===n?void 0:n["x-goog-upload-url"];if(void 0===a)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return a}}async function wo(e){var t;if(void 0===e)throw new xo("response is undefined");if(!e.ok){const n=e.status,r=e.statusText;let i;i=(null===(t=e.headers.get("content-type"))||void 0===t?void 0:t.includes("application/json"))?await e.json():{error:{message:await e.text(),code:e.status,status:e.statusText}};const o=`got status: ${n} ${r}. ${JSON.stringify(i)}`;if(n>=400&&n<500)throw new bo(o);if(n>=500&&n<600)throw new xo(o);throw new Error(o)}}function Co(e){for(const t of e){if(Eo(t))return!0;if("object"==typeof t&&"inputSchema"in t)return!0}return!1}function So(e){var t;const n=null!==(t=e[vo])&&void 0!==t?t:"";e[vo]=(n+" mcp_used/unknown").trimStart()}function Eo(e){return null!==e&&"object"==typeof e&&e instanceof ko}function To(e,t=100){return hi(this,arguments,function*(){let n,r=0;for(;r<t;){const t=yield fi(e.listTools({cursor:n}));for(const e of t.tools)yield yield fi(e),r++;if(!t.nextCursor)break;n=t.nextCursor}})}class ko{constructor(e=[],t){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=t}static create(e,t){return new ko(e,t)}async initialize(){var e,t,n,r;if(this.mcpTools.length>0)return;const i={},o=[];for(const u of this.mcpClients)try{for(var a,s=!0,l=(t=void 0,mi(To(u)));!(e=(a=await l.next()).done);s=!0){r=a.value,s=!1;const e=r;o.push(e);const t=e.name;if(i[t])throw new Error(`Duplicate function name ${t} found in MCP tools. Please ensure function names are unique.`);i[t]=u}}catch(e){t={error:e}}finally{try{s||e||!(n=l.return)||await n.call(l)}finally{if(t)throw t.error}}this.mcpTools=o,this.functionNameToMcpClient=i}async tool(){return await this.initialize(),function(e,t={}){const n=[],r=new Set;for(const i of e){const e=i.name;if(r.has(e))throw new Error(`Duplicate function name ${e} found in MCP tools. Please ensure function names are unique.`);r.add(e);const o=Qr(i,t);o.functionDeclarations&&n.push(...o.functionDeclarations)}return{functionDeclarations:n}}(this.mcpTools,this.config)}async callTool(e){await this.initialize();const t=[];for(const n of e)if(n.name in this.functionNameToMcpClient){const e=this.functionNameToMcpClient[n.name];let r;this.config.timeout&&(r={timeout:this.config.timeout});const i=await e.callTool({name:n.name,arguments:n.args},void 0,r);t.push({functionResponse:{name:n.name,response:i.isError?{error:i}:i}})}return t}}class Oo{constructor(e,t,n){this.apiClient=e,this.auth=t,this.webSocketFactory=n}async connect(e){var t,n;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),i=this.apiClient.getApiVersion(),o=function(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}(this.apiClient.getDefaultHeaders()),a=`${r}/ws/google.ai.generativelanguage.${i}.GenerativeService.BidiGenerateMusic?key=${this.apiClient.getApiKey()}`;let s=()=>{};const l=new Promise(e=>{s=e}),u=e.callbacks,c=(this.apiClient,{onopen:function(){s({})},onmessage:e=>{!async function(e,t,n){const r=new Cr;let i;i=n.data instanceof Blob?JSON.parse(await n.data.text()):JSON.parse(n.data);const o=Gi(0,i);Object.assign(r,o),t(r)}(0,u.onmessage,e)},onerror:null!==(t=null==u?void 0:u.onerror)&&void 0!==t?t:function(e){},onclose:null!==(n=null==u?void 0:u.onclose)&&void 0!==n?n:function(e){}}),d=this.webSocketFactory.create(a,function(e){const t={};return e.forEach((e,n)=>{t[n]=e}),t}(o),c);d.connect(),await l;const p=Sr(this.apiClient,e.model),f=Pi(this.apiClient,{model:p}),h=Ri(this.apiClient,{setup:f});return d.send(JSON.stringify(h)),new No(d,this.apiClient)}}class No{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||0===Object.keys(e.weightedPrompts).length)throw new Error("Weighted prompts must be set and contain at least one entry.");const t=function(e,t){const n={},r=xn(t,["weightedPrompts"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>Ai(0,e))),bn(n,["weightedPrompts"],e)}return n}(this.apiClient,e),n=ji(this.apiClient,t);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const t=function(e,t){const n={},r=xn(t,["musicGenerationConfig"]);return null!=r&&bn(n,["musicGenerationConfig"],Ii(0,r)),n}(this.apiClient,e),n=Ri(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const t=Ri(this.apiClient,{playbackControl:e});this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(or.PLAY)}pause(){this.sendPlaybackControl(or.PAUSE)}stop(){this.sendPlaybackControl(or.STOP)}resetContext(){this.sendPlaybackControl(or.RESET_CONTEXT)}close(){this.conn.close()}}class Ao{constructor(e,t,n){this.apiClient=e,this.auth=t,this.webSocketFactory=n,this.music=new Oo(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var t,n,r,i,o,a;const s=this.apiClient.getWebsocketBaseUrl(),l=this.apiClient.getApiVersion();let u;const c=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&Co(e.config.tools)&&So(c);const d=function(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}(c);if(this.apiClient.isVertexAI())u=`${s}/ws/google.cloud.aiplatform.${l}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(d);else{const e=this.apiClient.getApiKey();let t="BidiGenerateContent",n="key";(null==e?void 0:e.startsWith("auth_tokens/"))&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),t="BidiGenerateContentConstrained",n="access_token"),u=`${s}/ws/google.ai.generativelanguage.${l}.GenerativeService.${t}?${n}=${e}`}let p=()=>{};const f=new Promise(e=>{p=e}),h=e.callbacks,m=this.apiClient,g={onopen:function(){var e;null===(e=null==h?void 0:h.onopen)||void 0===e||e.call(h),p({})},onmessage:e=>{!async function(e,t,n){const r=new wr;let i;if(i=n.data instanceof Blob?JSON.parse(await n.data.text()):JSON.parse(n.data),e.isVertexAI()){const e=qi(0,i);Object.assign(r,e)}else{const e=Vi(0,i);Object.assign(r,e)}t(r)}(m,h.onmessage,e)},onerror:null!==(t=null==h?void 0:h.onerror)&&void 0!==t?t:function(e){},onclose:null!==(n=null==h?void 0:h.onclose)&&void 0!==n?n:function(e){}},v=this.webSocketFactory.create(u,function(e){const t={};return e.forEach((e,n)=>{t[n]=e}),t}(d),g);v.connect(),await f;let y=Sr(this.apiClient,e.model);this.apiClient.isVertexAI()&&y.startsWith("publishers/")&&(y=`projects/${this.apiClient.getProject()}/locations/${this.apiClient.getLocation()}/`+y);let b={};this.apiClient.isVertexAI()&&void 0===(null===(r=e.config)||void 0===r?void 0:r.responseModalities)&&(void 0===e.config?e.config={responseModalities:[Rn.AUDIO]}:e.config.responseModalities=[Rn.AUDIO]),(null===(i=e.config)||void 0===i?void 0:i.generationConfig)&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const x=null!==(a=null===(o=e.config)||void 0===o?void 0:o.tools)&&void 0!==a?a:[],_=[];for(const e of x)if(this.isCallableTool(e)){const t=e;_.push(await t.tool())}else _.push(e);_.length>0&&(e.config.tools=_);const w={model:y,config:e.config,callbacks:e.callbacks};return b=this.apiClient.isVertexAI()?function(e,t){const n={},r=xn(t,["model"]);null!=r&&bn(n,["setup","model"],Sr(e,r));const i=xn(t,["config"]);return null!=i&&bn(n,["config"],ki(0,i,n)),n}(this.apiClient,w):function(e,t){const n={},r=xn(t,["model"]);null!=r&&bn(n,["setup","model"],Sr(e,r));const i=xn(t,["config"]);return null!=i&&bn(n,["config"],Ti(0,i,n)),n}(this.apiClient,w),delete b.config,v.send(JSON.stringify(b)),new Po(v,this.apiClient)}isCallableTool(e){return"callTool"in e&&"function"==typeof e.callTool}}const Io={turnComplete:!0};class Po{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(null!==t.turns&&void 0!==t.turns){let n=[];try{n=Mr(0,t.turns),n=e.isVertexAI()?n.map(e=>Yi(0,e)):n.map(e=>Hi(0,e))}catch(e){throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:n,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let n=[];if(null==t.functionResponses)throw new Error("functionResponses is required.");if(n=Array.isArray(t.functionResponses)?t.functionResponses:[t.functionResponses],0===n.length)throw new Error("functionResponses is required.");for(const t of n){if("object"!=typeof t||null===t||!("name"in t)||!("response"in t))throw new Error(`Could not parse function response, type '${typeof t}'.`);if(!e.isVertexAI()&&!("id"in t))throw new Error("FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.")}return{toolResponse:{functionResponses:n}}}sendClientContent(e){e=Object.assign(Object.assign({},Io),e);const t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};t=this.apiClient.isVertexAI()?{realtimeInput:Ni(this.apiClient,e)}:{realtimeInput:Oi(this.apiClient,e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(null==e.functionResponses)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function jo(e){var t,n,r;if(null===(t=null==e?void 0:e.automaticFunctionCalling)||void 0===t?void 0:t.disable)return!0;let i=!1;for(const t of null!==(n=null==e?void 0:e.tools)&&void 0!==n?n:[])if(Ro(t)){i=!0;break}if(!i)return!0;const o=null===(r=null==e?void 0:e.automaticFunctionCalling)||void 0===r?void 0:r.maximumRemoteCalls;return!!(o&&(o<0||!Number.isInteger(o))||0==o)&&(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0)}function Ro(e){return"callTool"in e&&"function"==typeof e.callTool}function Mo(e){var t;return!(null===(t=null==e?void 0:e.automaticFunctionCalling)||void 0===t?void 0:t.ignoreCallHistory)}class Do extends vn{constructor(e){super(),this.apiClient=e,this.generateContent=async e=>{var t,n,r,i,o;const a=await this.processParamsForMcpUsage(e);if(!function(e){var t,n,r;return null!==(r=null===(n=null===(t=e.config)||void 0===t?void 0:t.tools)||void 0===n?void 0:n.some(e=>Eo(e)))&&void 0!==r&&r}(e)||jo(e.config))return await this.generateContentInternal(a);if(function(e){var t,n,r;return null!==(r=null===(n=null===(t=e.config)||void 0===t?void 0:t.tools)||void 0===n?void 0:n.some(e=>!Eo(e)))&&void 0!==r&&r}(e))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let s,l;const u=Mr(this.apiClient,a.contents),c=null!==(r=null===(n=null===(t=a.config)||void 0===t?void 0:t.automaticFunctionCalling)||void 0===n?void 0:n.maximumRemoteCalls)&&void 0!==r?r:10;let d=0;for(;d<c&&(s=await this.generateContentInternal(a),s.functionCalls&&0!==s.functionCalls.length);){const t=s.candidates[0].content,n=[];for(const t of null!==(o=null===(i=e.config)||void 0===i?void 0:i.tools)&&void 0!==o?o:[])if(Ro(t)){const e=t,r=await e.callTool(s.functionCalls);n.push(...r)}d++,l={role:"user",parts:n},a.contents=Mr(this.apiClient,a.contents),a.contents.push(t),a.contents.push(l),Mo(a.config)&&(u.push(t),u.push(l))}return Mo(a.config)&&(s.automaticFunctionCallingHistory=u),s},this.generateContentStream=async e=>{if(jo(e.config)){const t=await this.processParamsForMcpUsage(e);return await this.generateContentStreamInternal(t)}return await this.processAfcStream(e)},this.generateImages=async e=>await this.generateImagesInternal(e).then(e=>{var t;let n;const r=[];if(null==e?void 0:e.generatedImages)for(const i of e.generatedImages)i&&(null==i?void 0:i.safetyAttributes)&&"Positive Prompt"===(null===(t=null==i?void 0:i.safetyAttributes)||void 0===t?void 0:t.contentType)?n=null==i?void 0:i.safetyAttributes:r.push(i);let i;return i=n?{generatedImages:r,positivePromptSafetyAttributes:n}:{generatedImages:r},i}),this.list=async e=>{var t;const n={config:Object.assign(Object.assign({},{queryBase:!0}),null==e?void 0:e.config)};if(this.apiClient.isVertexAI()&&!n.config.queryBase){if(null===(t=n.config)||void 0===t?void 0:t.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");n.config.filter="labels.tune-type:*"}return new di(ci.PAGED_ITEM_MODELS,e=>this.listInternal(e),await this.listInternal(n),n)},this.editImage=async e=>{const t={model:e.model,prompt:e.prompt,referenceImages:[],config:e.config};return e.referenceImages&&e.referenceImages&&(t.referenceImages=e.referenceImages.map(e=>e.toReferenceImageAPI())),await this.editImageInternal(t)},this.upscaleImage=async e=>{let t={numberOfImages:1,mode:"upscale"};e.config&&(t=Object.assign(Object.assign({},t),e.config));const n={model:e.model,image:e.image,upscaleFactor:e.upscaleFactor,config:t};return await this.upscaleImageInternal(n)}}async processParamsForMcpUsage(e){var t,n,r;const i=null===(t=e.config)||void 0===t?void 0:t.tools;if(!i)return e;const o=await Promise.all(i.map(async e=>{if(Ro(e)){const t=e;return await t.tool()}return e})),a={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:o})};if(a.config.tools=o,e.config&&e.config.tools&&Co(e.config.tools)){const t=null!==(r=null===(n=e.config.httpOptions)||void 0===n?void 0:n.headers)&&void 0!==r?r:{};let i=Object.assign({},t);0===Object.keys(i).length&&(i=this.apiClient.getDefaultHeaders()),So(i),a.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:i})}return a}async initAfcToolsMap(e){var t,n,r;const i=new Map;for(const o of null!==(n=null===(t=e.config)||void 0===t?void 0:t.tools)&&void 0!==n?n:[])if(Ro(o)){const e=o,t=await e.tool();for(const n of null!==(r=t.functionDeclarations)&&void 0!==r?r:[]){if(!n.name)throw new Error("Function declaration name is required.");if(i.has(n.name))throw new Error(`Duplicate tool declaration name: ${n.name}`);i.set(n.name,e)}}return i}async processAfcStream(e){var t,n,r;const i=null!==(r=null===(n=null===(t=e.config)||void 0===t?void 0:t.automaticFunctionCalling)||void 0===n?void 0:n.maximumRemoteCalls)&&void 0!==r?r:10;let o=!1,a=0;return function(e,t,n){var r,s;return hi(this,arguments,function*(){for(var l,u,c,d;a<i;){o&&(a++,o=!1);const m=yield fi(e.processParamsForMcpUsage(n)),g=yield fi(e.generateContentStreamInternal(m)),v=[],y=[];try{for(var p,f=!0,h=(u=void 0,mi(g));!(l=(p=yield fi(h.next())).done);f=!0){d=p.value,f=!1;const e=d;if(yield yield fi(e),e.candidates&&(null===(r=e.candidates[0])||void 0===r?void 0:r.content)){y.push(e.candidates[0].content);for(const n of null!==(s=e.candidates[0].content.parts)&&void 0!==s?s:[])if(a<i&&n.functionCall){if(!n.functionCall.name)throw new Error("Function call name was not returned by the model.");if(!t.has(n.functionCall.name))throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${t.keys()}, mising tool: ${n.functionCall.name}`);{const e=yield fi(t.get(n.functionCall.name).callTool([n.functionCall]));v.push(...e)}}}}}catch(e){u={error:e}}finally{try{f||l||!(c=h.return)||(yield fi(c.call(h)))}finally{if(u)throw u.error}}if(!(v.length>0))break;{o=!0;const t=new ar;t.candidates=[{content:{role:"user",parts:v}}],yield yield fi(t);const r=[];r.push(...y),r.push({role:"user",parts:v});const i=Mr(e.apiClient,n.contents).concat(r);n.contents=i}}})}(this,await this.initAfcToolsMap(e),e)}async generateContentInternal(e){var t,n,r,i;let o,a="",s={};if(this.apiClient.isVertexAI()){const r=to(this.apiClient,e);return a=yn("{model}:generateContent",r._url),s=r._query,delete r.config,delete r._url,delete r._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),o.then(e=>{const t=co(this.apiClient,e),n=new ar;return Object.assign(n,t),n})}{const t=Ki(this.apiClient,e);return a=yn("{model}:generateContent",t._url),s=t._query,delete t.config,delete t._url,delete t._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(i=e.config)||void 0===i?void 0:i.abortSignal}).then(e=>e.json()),o.then(e=>{const t=oo(this.apiClient,e),n=new ar;return Object.assign(n,t),n})}}async generateContentStreamInternal(e){var t,n,r,i;let o,a="",s={};if(this.apiClient.isVertexAI()){const r=to(this.apiClient,e);a=yn("{model}:streamGenerateContent?alt=sse",r._url),s=r._query,delete r.config,delete r._url,delete r._query;return o=this.apiClient.requestStream({path:a,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}),o.then(function(e){return hi(this,arguments,function*(){var t,n,r,i;try{for(var o,a=!0,s=mi(e);!(t=(o=yield fi(s.next())).done);a=!0){i=o.value,a=!1;const e=i,t=co(0,yield fi(e.json())),n=new ar;Object.assign(n,t),yield yield fi(n)}}catch(e){n={error:e}}finally{try{a||t||!(r=s.return)||(yield fi(r.call(s)))}finally{if(n)throw n.error}}})})}{const t=Ki(this.apiClient,e);a=yn("{model}:streamGenerateContent?alt=sse",t._url),s=t._query,delete t.config,delete t._url,delete t._query;return o=this.apiClient.requestStream({path:a,queryParams:s,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(i=e.config)||void 0===i?void 0:i.abortSignal}),o.then(function(e){return hi(this,arguments,function*(){var t,n,r,i;try{for(var o,a=!0,s=mi(e);!(t=(o=yield fi(s.next())).done);a=!0){i=o.value,a=!1;const e=i,t=oo(0,yield fi(e.json())),n=new ar;Object.assign(n,t),yield yield fi(n)}}catch(e){n={error:e}}finally{try{a||t||!(r=s.return)||(yield fi(r.call(s)))}finally{if(n)throw n.error}}})})}}async embedContent(e){var t,n,r,i;let o,a="",s={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=xn(t,["model"]);null!=r&&bn(n,["_url","model"],Sr(e,r));const i=xn(t,["contents"]);null!=i&&bn(n,["instances[]","content"],Rr(e,i));const o=xn(t,["config"]);return null!=o&&bn(n,["config"],function(e,t,n){const r=xn(t,["taskType"]);void 0!==n&&null!=r&&bn(n,["instances[]","task_type"],r);const i=xn(t,["title"]);void 0!==n&&null!=i&&bn(n,["instances[]","title"],i);const o=xn(t,["outputDimensionality"]);void 0!==n&&null!=o&&bn(n,["parameters","outputDimensionality"],o);const a=xn(t,["mimeType"]);void 0!==n&&null!=a&&bn(n,["instances[]","mimeType"],a);const s=xn(t,["autoTruncate"]);return void 0!==n&&null!=s&&bn(n,["parameters","autoTruncate"],s),{}}(0,o,n)),n}(this.apiClient,e);return a=yn("{model}:predict",r._url),s=r._query,delete r.config,delete r._url,delete r._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),o.then(e=>{const t=po(this.apiClient,e),n=new sr;return Object.assign(n,t),n})}{const t=function(e,t){const n={},r=xn(t,["model"]);null!=r&&bn(n,["_url","model"],Sr(e,r));const i=xn(t,["contents"]);null!=i&&bn(n,["requests[]","content"],Rr(e,i));const o=xn(t,["config"]);null!=o&&bn(n,["config"],function(e,t,n){const r=xn(t,["taskType"]);void 0!==n&&null!=r&&bn(n,["requests[]","taskType"],r);const i=xn(t,["title"]);void 0!==n&&null!=i&&bn(n,["requests[]","title"],i);const o=xn(t,["outputDimensionality"]);if(void 0!==n&&null!=o&&bn(n,["requests[]","outputDimensionality"],o),void 0!==xn(t,["mimeType"]))throw new Error("mimeType parameter is not supported in Gemini API.");if(void 0!==xn(t,["autoTruncate"]))throw new Error("autoTruncate parameter is not supported in Gemini API.");return{}}(0,o,n));const a=xn(t,["model"]);return void 0!==a&&bn(n,["requests[]","model"],Sr(e,a)),n}(this.apiClient,e);return a=yn("{model}:batchEmbedContents",t._url),s=t._query,delete t.config,delete t._url,delete t._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(i=e.config)||void 0===i?void 0:i.abortSignal}).then(e=>e.json()),o.then(e=>{const t=function(e,t){const n={},r=xn(t,["embeddings"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>function(e,t){const n={},r=xn(t,["values"]);return null!=r&&bn(n,["values"],r),n}(0,e))),bn(n,["embeddings"],e)}return null!=xn(t,["metadata"])&&bn(n,["metadata"],{}),n}(this.apiClient,e),n=new sr;return Object.assign(n,t),n})}}async generateImagesInternal(e){var t,n,r,i;let o,a="",s={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=xn(t,["model"]);null!=r&&bn(n,["_url","model"],Sr(e,r));const i=xn(t,["prompt"]);null!=i&&bn(n,["instances[0]","prompt"],i);const o=xn(t,["config"]);return null!=o&&bn(n,["config"],function(e,t,n){const r=xn(t,["outputGcsUri"]);void 0!==n&&null!=r&&bn(n,["parameters","storageUri"],r);const i=xn(t,["negativePrompt"]);void 0!==n&&null!=i&&bn(n,["parameters","negativePrompt"],i);const o=xn(t,["numberOfImages"]);void 0!==n&&null!=o&&bn(n,["parameters","sampleCount"],o);const a=xn(t,["aspectRatio"]);void 0!==n&&null!=a&&bn(n,["parameters","aspectRatio"],a);const s=xn(t,["guidanceScale"]);void 0!==n&&null!=s&&bn(n,["parameters","guidanceScale"],s);const l=xn(t,["seed"]);void 0!==n&&null!=l&&bn(n,["parameters","seed"],l);const u=xn(t,["safetyFilterLevel"]);void 0!==n&&null!=u&&bn(n,["parameters","safetySetting"],u);const c=xn(t,["personGeneration"]);void 0!==n&&null!=c&&bn(n,["parameters","personGeneration"],c);const d=xn(t,["includeSafetyAttributes"]);void 0!==n&&null!=d&&bn(n,["parameters","includeSafetyAttributes"],d);const p=xn(t,["includeRaiReason"]);void 0!==n&&null!=p&&bn(n,["parameters","includeRaiReason"],p);const f=xn(t,["language"]);void 0!==n&&null!=f&&bn(n,["parameters","language"],f);const h=xn(t,["outputMimeType"]);void 0!==n&&null!=h&&bn(n,["parameters","outputOptions","mimeType"],h);const m=xn(t,["outputCompressionQuality"]);void 0!==n&&null!=m&&bn(n,["parameters","outputOptions","compressionQuality"],m);const g=xn(t,["addWatermark"]);void 0!==n&&null!=g&&bn(n,["parameters","addWatermark"],g);const v=xn(t,["enhancePrompt"]);return void 0!==n&&null!=v&&bn(n,["parameters","enhancePrompt"],v),{}}(0,o,n)),n}(this.apiClient,e);return a=yn("{model}:predict",r._url),s=r._query,delete r.config,delete r._url,delete r._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),o.then(e=>{const t=function(e,t){const n={},r=xn(t,["predictions"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>ho(0,e))),bn(n,["generatedImages"],e)}const i=xn(t,["positivePromptSafetyAttributes"]);return null!=i&&bn(n,["positivePromptSafetyAttributes"],fo(0,i)),n}(this.apiClient,e),n=new lr;return Object.assign(n,t),n})}{const t=function(e,t){const n={},r=xn(t,["model"]);null!=r&&bn(n,["_url","model"],Sr(e,r));const i=xn(t,["prompt"]);null!=i&&bn(n,["instances[0]","prompt"],i);const o=xn(t,["config"]);return null!=o&&bn(n,["config"],function(e,t,n){if(void 0!==xn(t,["outputGcsUri"]))throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(void 0!==xn(t,["negativePrompt"]))throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=xn(t,["numberOfImages"]);void 0!==n&&null!=r&&bn(n,["parameters","sampleCount"],r);const i=xn(t,["aspectRatio"]);void 0!==n&&null!=i&&bn(n,["parameters","aspectRatio"],i);const o=xn(t,["guidanceScale"]);if(void 0!==n&&null!=o&&bn(n,["parameters","guidanceScale"],o),void 0!==xn(t,["seed"]))throw new Error("seed parameter is not supported in Gemini API.");const a=xn(t,["safetyFilterLevel"]);void 0!==n&&null!=a&&bn(n,["parameters","safetySetting"],a);const s=xn(t,["personGeneration"]);void 0!==n&&null!=s&&bn(n,["parameters","personGeneration"],s);const l=xn(t,["includeSafetyAttributes"]);void 0!==n&&null!=l&&bn(n,["parameters","includeSafetyAttributes"],l);const u=xn(t,["includeRaiReason"]);void 0!==n&&null!=u&&bn(n,["parameters","includeRaiReason"],u);const c=xn(t,["language"]);void 0!==n&&null!=c&&bn(n,["parameters","language"],c);const d=xn(t,["outputMimeType"]);void 0!==n&&null!=d&&bn(n,["parameters","outputOptions","mimeType"],d);const p=xn(t,["outputCompressionQuality"]);if(void 0!==n&&null!=p&&bn(n,["parameters","outputOptions","compressionQuality"],p),void 0!==xn(t,["addWatermark"]))throw new Error("addWatermark parameter is not supported in Gemini API.");if(void 0!==xn(t,["enhancePrompt"]))throw new Error("enhancePrompt parameter is not supported in Gemini API.");return{}}(0,o,n)),n}(this.apiClient,e);return a=yn("{model}:predict",t._url),s=t._query,delete t.config,delete t._url,delete t._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(i=e.config)||void 0===i?void 0:i.abortSignal}).then(e=>e.json()),o.then(e=>{const t=function(e,t){const n={},r=xn(t,["predictions"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>function(e,t){const n={},r=xn(t,["_self"]);null!=r&&bn(n,["image"],function(e,t){const n={},r=xn(t,["bytesBase64Encoded"]);null!=r&&bn(n,["imageBytes"],Zr(0,r));const i=xn(t,["mimeType"]);return null!=i&&bn(n,["mimeType"],i),n}(0,r));const i=xn(t,["raiFilteredReason"]);null!=i&&bn(n,["raiFilteredReason"],i);const o=xn(t,["_self"]);return null!=o&&bn(n,["safetyAttributes"],ao(0,o)),n}(0,e))),bn(n,["generatedImages"],e)}const i=xn(t,["positivePromptSafetyAttributes"]);return null!=i&&bn(n,["positivePromptSafetyAttributes"],ao(0,i)),n}(this.apiClient,e),n=new lr;return Object.assign(n,t),n})}}async editImageInternal(e){var t,n;let r,i="",o={};if(this.apiClient.isVertexAI()){const a=ro(this.apiClient,e);return i=yn("{model}:predict",a._url),o=a._query,delete a.config,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>{const t=function(e,t){const n={},r=xn(t,["predictions"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>ho(0,e))),bn(n,["generatedImages"],e)}return n}(this.apiClient,e),n=new ur;return Object.assign(n,t),n})}throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var t,n;let r,i="",o={};if(this.apiClient.isVertexAI()){const a=function(e,t){const n={},r=xn(t,["model"]);null!=r&&bn(n,["_url","model"],Sr(e,r));const i=xn(t,["image"]);null!=i&&bn(n,["instances[0]","image"],no(0,i));const o=xn(t,["upscaleFactor"]);null!=o&&bn(n,["parameters","upscaleConfig","upscaleFactor"],o);const a=xn(t,["config"]);return null!=a&&bn(n,["config"],function(e,t,n){const r=xn(t,["includeRaiReason"]);void 0!==n&&null!=r&&bn(n,["parameters","includeRaiReason"],r);const i=xn(t,["outputMimeType"]);void 0!==n&&null!=i&&bn(n,["parameters","outputOptions","mimeType"],i);const o=xn(t,["outputCompressionQuality"]);void 0!==n&&null!=o&&bn(n,["parameters","outputOptions","compressionQuality"],o);const a=xn(t,["numberOfImages"]);void 0!==n&&null!=a&&bn(n,["parameters","sampleCount"],a);const s=xn(t,["mode"]);return void 0!==n&&null!=s&&bn(n,["parameters","mode"],s),{}}(0,a,n)),n}(this.apiClient,e);return i=yn("{model}:predict",a._url),o=a._query,delete a.config,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>{const t=function(e,t){const n={},r=xn(t,["predictions"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>ho(0,e))),bn(n,["generatedImages"],e)}return n}(this.apiClient,e),n=new cr;return Object.assign(n,t),n})}throw new Error("This method is only supported by the Vertex AI.")}async get(e){var t,n,r,i;let o,a="",s={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=xn(t,["model"]);null!=r&&bn(n,["_url","name"],Sr(e,r));const i=xn(t,["config"]);return null!=i&&bn(n,["config"],i),n}(this.apiClient,e);return a=yn("{name}",r._url),s=r._query,delete r.config,delete r._url,delete r._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),o.then(e=>mo(this.apiClient,e))}{const t=function(e,t){const n={},r=xn(t,["model"]);null!=r&&bn(n,["_url","name"],Sr(e,r));const i=xn(t,["config"]);return null!=i&&bn(n,["config"],i),n}(this.apiClient,e);return a=yn("{name}",t._url),s=t._query,delete t.config,delete t._url,delete t._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(i=e.config)||void 0===i?void 0:i.abortSignal}).then(e=>e.json()),o.then(e=>so(this.apiClient,e))}}async listInternal(e){var t,n,r,i;let o,a="",s={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=xn(t,["config"]);return null!=r&&bn(n,["config"],function(e,t,n){const r=xn(t,["pageSize"]);void 0!==n&&null!=r&&bn(n,["_query","pageSize"],r);const i=xn(t,["pageToken"]);void 0!==n&&null!=i&&bn(n,["_query","pageToken"],i);const o=xn(t,["filter"]);void 0!==n&&null!=o&&bn(n,["_query","filter"],o);const a=xn(t,["queryBase"]);return void 0!==n&&null!=a&&bn(n,["_url","models_url"],Jr(e,a)),{}}(e,r,n)),n}(this.apiClient,e);return a=yn("{models_url}",r._url),s=r._query,delete r.config,delete r._url,delete r._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),o.then(e=>{const t=function(e,t){const n={},r=xn(t,["nextPageToken"]);null!=r&&bn(n,["nextPageToken"],r);const i=xn(t,["_self"]);if(null!=i){let e=Kr(0,i);Array.isArray(e)&&(e=e.map(e=>mo(0,e))),bn(n,["models"],e)}return n}(this.apiClient,e),n=new dr;return Object.assign(n,t),n})}{const t=function(e,t){const n={},r=xn(t,["config"]);return null!=r&&bn(n,["config"],function(e,t,n){const r=xn(t,["pageSize"]);void 0!==n&&null!=r&&bn(n,["_query","pageSize"],r);const i=xn(t,["pageToken"]);void 0!==n&&null!=i&&bn(n,["_query","pageToken"],i);const o=xn(t,["filter"]);void 0!==n&&null!=o&&bn(n,["_query","filter"],o);const a=xn(t,["queryBase"]);return void 0!==n&&null!=a&&bn(n,["_url","models_url"],Jr(e,a)),{}}(e,r,n)),n}(this.apiClient,e);return a=yn("{models_url}",t._url),s=t._query,delete t.config,delete t._url,delete t._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(i=e.config)||void 0===i?void 0:i.abortSignal}).then(e=>e.json()),o.then(e=>{const t=function(e,t){const n={},r=xn(t,["nextPageToken"]);null!=r&&bn(n,["nextPageToken"],r);const i=xn(t,["_self"]);if(null!=i){let e=Kr(0,i);Array.isArray(e)&&(e=e.map(e=>so(0,e))),bn(n,["models"],e)}return n}(this.apiClient,e),n=new dr;return Object.assign(n,t),n})}}async update(e){var t,n,r,i;let o,a="",s={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=xn(t,["model"]);null!=r&&bn(n,["_url","model"],Sr(e,r));const i=xn(t,["config"]);return null!=i&&bn(n,["config"],function(e,t,n){const r=xn(t,["displayName"]);void 0!==n&&null!=r&&bn(n,["displayName"],r);const i=xn(t,["description"]);void 0!==n&&null!=i&&bn(n,["description"],i);const o=xn(t,["defaultCheckpointId"]);return void 0!==n&&null!=o&&bn(n,["defaultCheckpointId"],o),{}}(0,i,n)),n}(this.apiClient,e);return a=yn("{model}",r._url),s=r._query,delete r.config,delete r._url,delete r._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(r),httpMethod:"PATCH",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),o.then(e=>mo(this.apiClient,e))}{const t=function(e,t){const n={},r=xn(t,["model"]);null!=r&&bn(n,["_url","name"],Sr(e,r));const i=xn(t,["config"]);return null!=i&&bn(n,["config"],function(e,t,n){const r=xn(t,["displayName"]);void 0!==n&&null!=r&&bn(n,["displayName"],r);const i=xn(t,["description"]);void 0!==n&&null!=i&&bn(n,["description"],i);const o=xn(t,["defaultCheckpointId"]);return void 0!==n&&null!=o&&bn(n,["defaultCheckpointId"],o),{}}(0,i,n)),n}(this.apiClient,e);return a=yn("{name}",t._url),s=t._query,delete t.config,delete t._url,delete t._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(t),httpMethod:"PATCH",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(i=e.config)||void 0===i?void 0:i.abortSignal}).then(e=>e.json()),o.then(e=>so(this.apiClient,e))}}async delete(e){var t,n,r,i;let o,a="",s={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=xn(t,["model"]);null!=r&&bn(n,["_url","name"],Sr(e,r));const i=xn(t,["config"]);return null!=i&&bn(n,["config"],i),n}(this.apiClient,e);return a=yn("{name}",r._url),s=r._query,delete r.config,delete r._url,delete r._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(r),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),o.then(()=>{const e=new pr;return Object.assign(e,{}),e})}{const t=function(e,t){const n={},r=xn(t,["model"]);null!=r&&bn(n,["_url","name"],Sr(e,r));const i=xn(t,["config"]);return null!=i&&bn(n,["config"],i),n}(this.apiClient,e);return a=yn("{name}",t._url),s=t._query,delete t.config,delete t._url,delete t._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(t),httpMethod:"DELETE",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(i=e.config)||void 0===i?void 0:i.abortSignal}).then(e=>e.json()),o.then(()=>{const e=new pr;return Object.assign(e,{}),e})}}async countTokens(e){var t,n,r,i;let o,a="",s={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=xn(t,["model"]);null!=r&&bn(n,["_url","model"],Sr(e,r));const i=xn(t,["contents"]);if(null!=i){let e=Mr(0,i);Array.isArray(e)&&(e=e.map(e=>Yi(0,e))),bn(n,["contents"],e)}const o=xn(t,["config"]);return null!=o&&bn(n,["config"],function(e,t,n){const r=xn(t,["systemInstruction"]);void 0!==n&&null!=r&&bn(n,["systemInstruction"],Yi(0,jr(0,r)));const i=xn(t,["tools"]);if(void 0!==n&&null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>Qi(0,e))),bn(n,["tools"],e)}const o=xn(t,["generationConfig"]);return void 0!==n&&null!=o&&bn(n,["generationConfig"],o),{}}(0,o,n)),n}(this.apiClient,e);return a=yn("{model}:countTokens",r._url),s=r._query,delete r.config,delete r._url,delete r._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),o.then(e=>{const t=function(e,t){const n={},r=xn(t,["totalTokens"]);return null!=r&&bn(n,["totalTokens"],r),n}(this.apiClient,e),n=new fr;return Object.assign(n,t),n})}{const t=function(e,t){const n={},r=xn(t,["model"]);null!=r&&bn(n,["_url","model"],Sr(e,r));const i=xn(t,["contents"]);if(null!=i){let e=Mr(0,i);Array.isArray(e)&&(e=e.map(e=>Hi(0,e))),bn(n,["contents"],e)}const o=xn(t,["config"]);return null!=o&&bn(n,["config"],function(e,t){if(void 0!==xn(t,["systemInstruction"]))throw new Error("systemInstruction parameter is not supported in Gemini API.");if(void 0!==xn(t,["tools"]))throw new Error("tools parameter is not supported in Gemini API.");if(void 0!==xn(t,["generationConfig"]))throw new Error("generationConfig parameter is not supported in Gemini API.");return{}}(0,o)),n}(this.apiClient,e);return a=yn("{model}:countTokens",t._url),s=t._query,delete t.config,delete t._url,delete t._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(i=e.config)||void 0===i?void 0:i.abortSignal}).then(e=>e.json()),o.then(e=>{const t=function(e,t){const n={},r=xn(t,["totalTokens"]);null!=r&&bn(n,["totalTokens"],r);const i=xn(t,["cachedContentTokenCount"]);return null!=i&&bn(n,["cachedContentTokenCount"],i),n}(this.apiClient,e),n=new fr;return Object.assign(n,t),n})}}async computeTokens(e){var t,n;let r,i="",o={};if(this.apiClient.isVertexAI()){const a=function(e,t){const n={},r=xn(t,["model"]);null!=r&&bn(n,["_url","model"],Sr(e,r));const i=xn(t,["contents"]);if(null!=i){let e=Mr(0,i);Array.isArray(e)&&(e=e.map(e=>Yi(0,e))),bn(n,["contents"],e)}const o=xn(t,["config"]);return null!=o&&bn(n,["config"],o),n}(this.apiClient,e);return i=yn("{model}:computeTokens",a._url),o=a._query,delete a.config,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>{const t=function(e,t){const n={},r=xn(t,["tokensInfo"]);return null!=r&&bn(n,["tokensInfo"],r),n}(this.apiClient,e),n=new hr;return Object.assign(n,t),n})}throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var t,n,r,i;let o,a="",s={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=xn(t,["model"]);null!=r&&bn(n,["_url","model"],Sr(e,r));const i=xn(t,["prompt"]);null!=i&&bn(n,["instances[0]","prompt"],i);const o=xn(t,["image"]);null!=o&&bn(n,["instances[0]","image"],no(0,o));const a=xn(t,["video"]);null!=a&&bn(n,["instances[0]","video"],function(e,t){const n={},r=xn(t,["uri"]);null!=r&&bn(n,["gcsUri"],r);const i=xn(t,["videoBytes"]);null!=i&&bn(n,["bytesBase64Encoded"],Zr(0,i));const o=xn(t,["mimeType"]);return null!=o&&bn(n,["mimeType"],o),n}(0,a));const s=xn(t,["config"]);return null!=s&&bn(n,["config"],function(e,t,n){const r=xn(t,["numberOfVideos"]);void 0!==n&&null!=r&&bn(n,["parameters","sampleCount"],r);const i=xn(t,["outputGcsUri"]);void 0!==n&&null!=i&&bn(n,["parameters","storageUri"],i);const o=xn(t,["fps"]);void 0!==n&&null!=o&&bn(n,["parameters","fps"],o);const a=xn(t,["durationSeconds"]);void 0!==n&&null!=a&&bn(n,["parameters","durationSeconds"],a);const s=xn(t,["seed"]);void 0!==n&&null!=s&&bn(n,["parameters","seed"],s);const l=xn(t,["aspectRatio"]);void 0!==n&&null!=l&&bn(n,["parameters","aspectRatio"],l);const u=xn(t,["resolution"]);void 0!==n&&null!=u&&bn(n,["parameters","resolution"],u);const c=xn(t,["personGeneration"]);void 0!==n&&null!=c&&bn(n,["parameters","personGeneration"],c);const d=xn(t,["pubsubTopic"]);void 0!==n&&null!=d&&bn(n,["parameters","pubsubTopic"],d);const p=xn(t,["negativePrompt"]);void 0!==n&&null!=p&&bn(n,["parameters","negativePrompt"],p);const f=xn(t,["enhancePrompt"]);void 0!==n&&null!=f&&bn(n,["parameters","enhancePrompt"],f);const h=xn(t,["generateAudio"]);void 0!==n&&null!=h&&bn(n,["parameters","generateAudio"],h);const m=xn(t,["lastFrame"]);return void 0!==n&&null!=m&&bn(n,["instances[0]","lastFrame"],no(0,m)),{}}(0,s,n)),n}(this.apiClient,e);return a=yn("{model}:predictLongRunning",r._url),s=r._query,delete r.config,delete r._url,delete r._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),o.then(e=>go(this.apiClient,e))}{const t=function(e,t){const n={},r=xn(t,["model"]);null!=r&&bn(n,["_url","model"],Sr(e,r));const i=xn(t,["prompt"]);null!=i&&bn(n,["instances[0]","prompt"],i);const o=xn(t,["image"]);if(null!=o&&bn(n,["instances[0]","image"],function(e,t){const n={};if(void 0!==xn(t,["gcsUri"]))throw new Error("gcsUri parameter is not supported in Gemini API.");const r=xn(t,["imageBytes"]);null!=r&&bn(n,["bytesBase64Encoded"],Zr(0,r));const i=xn(t,["mimeType"]);return null!=i&&bn(n,["mimeType"],i),n}(0,o)),void 0!==xn(t,["video"]))throw new Error("video parameter is not supported in Gemini API.");const a=xn(t,["config"]);return null!=a&&bn(n,["config"],function(e,t,n){const r=xn(t,["numberOfVideos"]);if(void 0!==n&&null!=r&&bn(n,["parameters","sampleCount"],r),void 0!==xn(t,["outputGcsUri"]))throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(void 0!==xn(t,["fps"]))throw new Error("fps parameter is not supported in Gemini API.");const i=xn(t,["durationSeconds"]);if(void 0!==n&&null!=i&&bn(n,["parameters","durationSeconds"],i),void 0!==xn(t,["seed"]))throw new Error("seed parameter is not supported in Gemini API.");const o=xn(t,["aspectRatio"]);if(void 0!==n&&null!=o&&bn(n,["parameters","aspectRatio"],o),void 0!==xn(t,["resolution"]))throw new Error("resolution parameter is not supported in Gemini API.");const a=xn(t,["personGeneration"]);if(void 0!==n&&null!=a&&bn(n,["parameters","personGeneration"],a),void 0!==xn(t,["pubsubTopic"]))throw new Error("pubsubTopic parameter is not supported in Gemini API.");const s=xn(t,["negativePrompt"]);void 0!==n&&null!=s&&bn(n,["parameters","negativePrompt"],s);const l=xn(t,["enhancePrompt"]);if(void 0!==n&&null!=l&&bn(n,["parameters","enhancePrompt"],l),void 0!==xn(t,["generateAudio"]))throw new Error("generateAudio parameter is not supported in Gemini API.");if(void 0!==xn(t,["lastFrame"]))throw new Error("lastFrame parameter is not supported in Gemini API.");return{}}(0,a,n)),n}(this.apiClient,e);return a=yn("{model}:predictLongRunning",t._url),s=t._query,delete t.config,delete t._url,delete t._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(i=e.config)||void 0===i?void 0:i.abortSignal}).then(e=>e.json()),o.then(e=>lo(this.apiClient,e))}}}function Lo(e,t){const n={},r=xn(t,["name"]);null!=r&&bn(n,["name"],r);const i=xn(t,["metadata"]);null!=i&&bn(n,["metadata"],i);const o=xn(t,["done"]);null!=o&&bn(n,["done"],o);const a=xn(t,["error"]);null!=a&&bn(n,["error"],a);const s=xn(t,["response","generateVideoResponse"]);return null!=s&&bn(n,["response"],function(e,t){const n={},r=xn(t,["generatedSamples"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>function(e,t){const n={},r=xn(t,["_self"]);return null!=r&&bn(n,["video"],function(e,t){const n={},r=xn(t,["video","uri"]);null!=r&&bn(n,["uri"],r);const i=xn(t,["video","encodedVideo"]);null!=i&&bn(n,["videoBytes"],Zr(0,i));const o=xn(t,["encoding"]);return null!=o&&bn(n,["mimeType"],o),n}(0,r)),n}(0,e))),bn(n,["generatedVideos"],e)}const i=xn(t,["raiMediaFilteredCount"]);null!=i&&bn(n,["raiMediaFilteredCount"],i);const o=xn(t,["raiMediaFilteredReasons"]);return null!=o&&bn(n,["raiMediaFilteredReasons"],o),n}(0,s)),n}function Uo(e,t){const n={},r=xn(t,["name"]);null!=r&&bn(n,["name"],r);const i=xn(t,["metadata"]);null!=i&&bn(n,["metadata"],i);const o=xn(t,["done"]);null!=o&&bn(n,["done"],o);const a=xn(t,["error"]);null!=a&&bn(n,["error"],a);const s=xn(t,["response"]);return null!=s&&bn(n,["response"],function(e,t){const n={},r=xn(t,["videos"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>function(e,t){const n={},r=xn(t,["_self"]);return null!=r&&bn(n,["video"],function(e,t){const n={},r=xn(t,["gcsUri"]);null!=r&&bn(n,["uri"],r);const i=xn(t,["bytesBase64Encoded"]);null!=i&&bn(n,["videoBytes"],Zr(0,i));const o=xn(t,["mimeType"]);return null!=o&&bn(n,["mimeType"],o),n}(0,r)),n}(0,e))),bn(n,["generatedVideos"],e)}const i=xn(t,["raiMediaFilteredCount"]);null!=i&&bn(n,["raiMediaFilteredCount"],i);const o=xn(t,["raiMediaFilteredReasons"]);return null!=o&&bn(n,["raiMediaFilteredReasons"],o),n}(0,s)),n}class Fo extends vn{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const t=e.operation,n=e.config;if(void 0===t.name||""===t.name)throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const e=t.name.split("/operations/")[0];let r;return n&&"httpOptions"in n&&(r=n.httpOptions),this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:e,config:{httpOptions:r}})}return this.getVideosOperationInternal({operationName:t.name,config:n})}async getVideosOperationInternal(e){var t,n,r,i;let o,a="",s={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=xn(t,["operationName"]);null!=r&&bn(n,["_url","operationName"],r);const i=xn(t,["config"]);return null!=i&&bn(n,["config"],i),n}(this.apiClient,e);return a=yn("{operationName}",r._url),s=r._query,delete r.config,delete r._url,delete r._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),o.then(e=>Uo(this.apiClient,e))}{const t=function(e,t){const n={},r=xn(t,["operationName"]);null!=r&&bn(n,["_url","operationName"],r);const i=xn(t,["config"]);return null!=i&&bn(n,["config"],i),n}(this.apiClient,e);return a=yn("{operationName}",t._url),s=t._query,delete t.config,delete t._url,delete t._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(i=e.config)||void 0===i?void 0:i.abortSignal}).then(e=>e.json()),o.then(e=>Lo(this.apiClient,e))}}async fetchPredictVideosOperationInternal(e){var t,n;let r,i="",o={};if(this.apiClient.isVertexAI()){const a=function(e,t){const n={},r=xn(t,["operationName"]);null!=r&&bn(n,["operationName"],r);const i=xn(t,["resourceName"]);null!=i&&bn(n,["_url","resourceName"],i);const o=xn(t,["config"]);return null!=o&&bn(n,["config"],o),n}(this.apiClient,e);return i=yn("{resourceName}:fetchPredictOperation",a._url),o=a._query,delete a.config,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>Uo(this.apiClient,e))}throw new Error("This method is only supported by the Vertex AI.")}}function zo(e,t){const n={},r=xn(t,["prebuiltVoiceConfig"]);return null!=r&&bn(n,["prebuiltVoiceConfig"],function(e,t){const n={},r=xn(t,["voiceName"]);return null!=r&&bn(n,["voiceName"],r),n}(0,r)),n}function Vo(e,t){const n={},r=xn(t,["functionDeclarations"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>function(e,t){const n={},r=xn(t,["behavior"]);null!=r&&bn(n,["behavior"],r);const i=xn(t,["description"]);null!=i&&bn(n,["description"],i);const o=xn(t,["name"]);null!=o&&bn(n,["name"],o);const a=xn(t,["parameters"]);null!=a&&bn(n,["parameters"],a);const s=xn(t,["response"]);return null!=s&&bn(n,["response"],s),n}(0,e))),bn(n,["functionDeclarations"],e)}if(void 0!==xn(t,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const i=xn(t,["googleSearch"]);null!=i&&bn(n,["googleSearch"],function(e,t){const n={},r=xn(t,["timeRangeFilter"]);return null!=r&&bn(n,["timeRangeFilter"],function(e,t){const n={},r=xn(t,["startTime"]);null!=r&&bn(n,["startTime"],r);const i=xn(t,["endTime"]);return null!=i&&bn(n,["endTime"],i),n}(0,r)),n}(0,i));const o=xn(t,["googleSearchRetrieval"]);if(null!=o&&bn(n,["googleSearchRetrieval"],function(e,t){const n={},r=xn(t,["dynamicRetrievalConfig"]);return null!=r&&bn(n,["dynamicRetrievalConfig"],function(e,t){const n={},r=xn(t,["mode"]);null!=r&&bn(n,["mode"],r);const i=xn(t,["dynamicThreshold"]);return null!=i&&bn(n,["dynamicThreshold"],i),n}(0,r)),n}(0,o)),void 0!==xn(t,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(void 0!==xn(t,["googleMaps"]))throw new Error("googleMaps parameter is not supported in Gemini API.");null!=xn(t,["urlContext"])&&bn(n,["urlContext"],{});const a=xn(t,["codeExecution"]);return null!=a&&bn(n,["codeExecution"],a),n}function qo(e,t,n){const r=xn(t,["generationConfig"]);void 0!==n&&null!=r&&bn(n,["setup","generationConfig"],r);const i=xn(t,["responseModalities"]);void 0!==n&&null!=i&&bn(n,["setup","generationConfig","responseModalities"],i);const o=xn(t,["temperature"]);void 0!==n&&null!=o&&bn(n,["setup","generationConfig","temperature"],o);const a=xn(t,["topP"]);void 0!==n&&null!=a&&bn(n,["setup","generationConfig","topP"],a);const s=xn(t,["topK"]);void 0!==n&&null!=s&&bn(n,["setup","generationConfig","topK"],s);const l=xn(t,["maxOutputTokens"]);void 0!==n&&null!=l&&bn(n,["setup","generationConfig","maxOutputTokens"],l);const u=xn(t,["mediaResolution"]);void 0!==n&&null!=u&&bn(n,["setup","generationConfig","mediaResolution"],u);const c=xn(t,["seed"]);void 0!==n&&null!=c&&bn(n,["setup","generationConfig","seed"],c);const d=xn(t,["speechConfig"]);void 0!==n&&null!=d&&bn(n,["setup","generationConfig","speechConfig"],function(e,t){const n={},r=xn(t,["voiceConfig"]);null!=r&&bn(n,["voiceConfig"],zo(0,r));const i=xn(t,["multiSpeakerVoiceConfig"]);null!=i&&bn(n,["multiSpeakerVoiceConfig"],function(e,t){const n={},r=xn(t,["speakerVoiceConfigs"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>function(e,t){const n={},r=xn(t,["speaker"]);null!=r&&bn(n,["speaker"],r);const i=xn(t,["voiceConfig"]);return null!=i&&bn(n,["voiceConfig"],zo(0,i)),n}(0,e))),bn(n,["speakerVoiceConfigs"],e)}return n}(0,i));const o=xn(t,["languageCode"]);return null!=o&&bn(n,["languageCode"],o),n}(0,qr(0,d)));const p=xn(t,["enableAffectiveDialog"]);void 0!==n&&null!=p&&bn(n,["setup","generationConfig","enableAffectiveDialog"],p);const f=xn(t,["systemInstruction"]);void 0!==n&&null!=f&&bn(n,["setup","systemInstruction"],function(e,t){const n={},r=xn(t,["parts"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>function(e,t){const n={},r=xn(t,["videoMetadata"]);null!=r&&bn(n,["videoMetadata"],function(e,t){const n={},r=xn(t,["fps"]);null!=r&&bn(n,["fps"],r);const i=xn(t,["endOffset"]);null!=i&&bn(n,["endOffset"],i);const o=xn(t,["startOffset"]);return null!=o&&bn(n,["startOffset"],o),n}(0,r));const i=xn(t,["thought"]);null!=i&&bn(n,["thought"],i);const o=xn(t,["inlineData"]);null!=o&&bn(n,["inlineData"],function(e,t){const n={};if(void 0!==xn(t,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const r=xn(t,["data"]);null!=r&&bn(n,["data"],r);const i=xn(t,["mimeType"]);return null!=i&&bn(n,["mimeType"],i),n}(0,o));const a=xn(t,["fileData"]);null!=a&&bn(n,["fileData"],function(e,t){const n={};if(void 0!==xn(t,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const r=xn(t,["fileUri"]);null!=r&&bn(n,["fileUri"],r);const i=xn(t,["mimeType"]);return null!=i&&bn(n,["mimeType"],i),n}(0,a));const s=xn(t,["thoughtSignature"]);null!=s&&bn(n,["thoughtSignature"],s);const l=xn(t,["codeExecutionResult"]);null!=l&&bn(n,["codeExecutionResult"],l);const u=xn(t,["executableCode"]);null!=u&&bn(n,["executableCode"],u);const c=xn(t,["functionCall"]);null!=c&&bn(n,["functionCall"],c);const d=xn(t,["functionResponse"]);null!=d&&bn(n,["functionResponse"],d);const p=xn(t,["text"]);return null!=p&&bn(n,["text"],p),n}(0,e))),bn(n,["parts"],e)}const i=xn(t,["role"]);return null!=i&&bn(n,["role"],i),n}(0,jr(0,f)));const h=xn(t,["tools"]);if(void 0!==n&&null!=h){let e=Gr(0,h);Array.isArray(e)&&(e=e.map(e=>Vo(0,Br(0,e)))),bn(n,["setup","tools"],e)}const m=xn(t,["sessionResumption"]);void 0!==n&&null!=m&&bn(n,["setup","sessionResumption"],function(e,t){const n={},r=xn(t,["handle"]);if(null!=r&&bn(n,["handle"],r),void 0!==xn(t,["transparent"]))throw new Error("transparent parameter is not supported in Gemini API.");return n}(0,m));const g=xn(t,["inputAudioTranscription"]);void 0!==n&&null!=g&&bn(n,["setup","inputAudioTranscription"],{});const v=xn(t,["outputAudioTranscription"]);void 0!==n&&null!=v&&bn(n,["setup","outputAudioTranscription"],{});const y=xn(t,["realtimeInputConfig"]);void 0!==n&&null!=y&&bn(n,["setup","realtimeInputConfig"],function(e,t){const n={},r=xn(t,["automaticActivityDetection"]);null!=r&&bn(n,["automaticActivityDetection"],function(e,t){const n={},r=xn(t,["disabled"]);null!=r&&bn(n,["disabled"],r);const i=xn(t,["startOfSpeechSensitivity"]);null!=i&&bn(n,["startOfSpeechSensitivity"],i);const o=xn(t,["endOfSpeechSensitivity"]);null!=o&&bn(n,["endOfSpeechSensitivity"],o);const a=xn(t,["prefixPaddingMs"]);null!=a&&bn(n,["prefixPaddingMs"],a);const s=xn(t,["silenceDurationMs"]);return null!=s&&bn(n,["silenceDurationMs"],s),n}(0,r));const i=xn(t,["activityHandling"]);null!=i&&bn(n,["activityHandling"],i);const o=xn(t,["turnCoverage"]);return null!=o&&bn(n,["turnCoverage"],o),n}(0,y));const b=xn(t,["contextWindowCompression"]);void 0!==n&&null!=b&&bn(n,["setup","contextWindowCompression"],function(e,t){const n={},r=xn(t,["triggerTokens"]);null!=r&&bn(n,["triggerTokens"],r);const i=xn(t,["slidingWindow"]);return null!=i&&bn(n,["slidingWindow"],function(e,t){const n={},r=xn(t,["targetTokens"]);return null!=r&&bn(n,["targetTokens"],r),n}(0,i)),n}(0,b));const x=xn(t,["proactivity"]);return void 0!==n&&null!=x&&bn(n,["setup","proactivity"],function(e,t){const n={},r=xn(t,["proactiveAudio"]);return null!=r&&bn(n,["proactiveAudio"],r),n}(0,x)),{}}class Bo extends vn{constructor(e){super(),this.apiClient=e}async create(e){var t,n;let r,i="",o={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const a=function(e,t){const n={},r=xn(t,["config"]);return null!=r&&bn(n,["config"],function(e,t,n){const r=xn(t,["expireTime"]);void 0!==n&&null!=r&&bn(n,["expireTime"],r);const i=xn(t,["newSessionExpireTime"]);void 0!==n&&null!=i&&bn(n,["newSessionExpireTime"],i);const o=xn(t,["uses"]);void 0!==n&&null!=o&&bn(n,["uses"],o);const a=xn(t,["liveConnectConstraints"]);void 0!==n&&null!=a&&bn(n,["bidiGenerateContentSetup"],function(e,t){const n={},r=xn(t,["model"]);null!=r&&bn(n,["setup","model"],Sr(e,r));const i=xn(t,["config"]);return null!=i&&bn(n,["config"],qo(0,i,n)),n}(e,a));const s=xn(t,["lockAdditionalFields"]);return void 0!==n&&null!=s&&bn(n,["fieldMask"],s),{}}(e,r,n)),n}(this.apiClient,e);i=yn("auth_tokens",a._url),o=a._query,delete a.config,delete a._url,delete a._query;const s=function(e,t){let n=null;const r=e.bidiGenerateContentSetup;if("object"==typeof r&&null!==r&&"setup"in r){const t=r.setup;"object"==typeof t&&null!==t?(e.bidiGenerateContentSetup=t,n=t):delete e.bidiGenerateContentSetup}else void 0!==r&&delete e.bidiGenerateContentSetup;const i=e.fieldMask;if(n){const r=function(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const r=e[n];if("object"==typeof r&&null!=r&&Object.keys(r).length>0){const e=Object.keys(r).map(e=>`${n}.${e}`);t.push(...e)}else t.push(n)}return t.join(",")}(n);if(Array.isArray(null==t?void 0:t.lockAdditionalFields)&&0===(null==t?void 0:t.lockAdditionalFields.length))r?e.fieldMask=r:delete e.fieldMask;else if((null==t?void 0:t.lockAdditionalFields)&&t.lockAdditionalFields.length>0&&null!==i&&Array.isArray(i)&&i.length>0){const t=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let n=[];i.length>0&&(n=i.map(e=>t.includes(e)?`generationConfig.${e}`:e));const o=[];r&&o.push(r),n.length>0&&o.push(...n),o.length>0?e.fieldMask=o.join(","):delete e.fieldMask}else delete e.fieldMask}else null!==i&&Array.isArray(i)&&i.length>0?e.fieldMask=i.join(","):delete e.fieldMask;return e}(a,e.config);return r=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(s),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>function(e,t){const n={},r=xn(t,["name"]);return null!=r&&bn(n,["name"],r),n}(this.apiClient,e))}}}function Go(e,t){const n={},r=xn(t,["baseModel"]);null!=r&&bn(n,["baseModel"],r);const i=xn(t,["trainingDataset"]);null!=i&&bn(n,["tuningTask","trainingData"],function(e,t){const n={};if(void 0!==xn(t,["gcsUri"]))throw new Error("gcsUri parameter is not supported in Gemini API.");const r=xn(t,["examples"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map(e=>function(e,t){const n={},r=xn(t,["textInput"]);null!=r&&bn(n,["textInput"],r);const i=xn(t,["output"]);return null!=i&&bn(n,["output"],i),n}(0,e))),bn(n,["examples","examples"],e)}return n}(0,i));const o=xn(t,["config"]);return null!=o&&bn(n,["config"],function(e,t,n){const r={};if(void 0!==xn(t,["validationDataset"]))throw new Error("validationDataset parameter is not supported in Gemini API.");const i=xn(t,["tunedModelDisplayName"]);if(void 0!==n&&null!=i&&bn(n,["displayName"],i),void 0!==xn(t,["description"]))throw new Error("description parameter is not supported in Gemini API.");const o=xn(t,["epochCount"]);void 0!==n&&null!=o&&bn(n,["tuningTask","hyperparameters","epochCount"],o);const a=xn(t,["learningRateMultiplier"]);if(null!=a&&bn(r,["tuningTask","hyperparameters","learningRateMultiplier"],a),void 0!==xn(t,["exportLastCheckpointOnly"]))throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(void 0!==xn(t,["adapterSize"]))throw new Error("adapterSize parameter is not supported in Gemini API.");const s=xn(t,["batchSize"]);void 0!==n&&null!=s&&bn(n,["tuningTask","hyperparameters","batchSize"],s);const l=xn(t,["learningRate"]);return void 0!==n&&null!=l&&bn(n,["tuningTask","hyperparameters","learningRate"],l),r}(0,o,n)),n}function Ho(e,t){const n={},r=xn(t,["baseModel"]);null!=r&&bn(n,["baseModel"],r);const i=xn(t,["trainingDataset"]);null!=i&&bn(n,["supervisedTuningSpec","trainingDatasetUri"],function(e,t,n){const r=xn(t,["gcsUri"]);if(void 0!==n&&null!=r&&bn(n,["supervisedTuningSpec","trainingDatasetUri"],r),void 0!==xn(t,["examples"]))throw new Error("examples parameter is not supported in Vertex AI.");return{}}(0,i,n));const o=xn(t,["config"]);return null!=o&&bn(n,["config"],function(e,t,n){const r=xn(t,["validationDataset"]);void 0!==n&&null!=r&&bn(n,["supervisedTuningSpec"],function(e,t){const n={},r=xn(t,["gcsUri"]);return null!=r&&bn(n,["validationDatasetUri"],r),n}(0,r));const i=xn(t,["tunedModelDisplayName"]);void 0!==n&&null!=i&&bn(n,["tunedModelDisplayName"],i);const o=xn(t,["description"]);void 0!==n&&null!=o&&bn(n,["description"],o);const a=xn(t,["epochCount"]);void 0!==n&&null!=a&&bn(n,["supervisedTuningSpec","hyperParameters","epochCount"],a);const s=xn(t,["learningRateMultiplier"]);void 0!==n&&null!=s&&bn(n,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],s);const l=xn(t,["exportLastCheckpointOnly"]);void 0!==n&&null!=l&&bn(n,["supervisedTuningSpec","exportLastCheckpointOnly"],l);const u=xn(t,["adapterSize"]);if(void 0!==n&&null!=u&&bn(n,["supervisedTuningSpec","hyperParameters","adapterSize"],u),void 0!==xn(t,["batchSize"]))throw new Error("batchSize parameter is not supported in Vertex AI.");if(void 0!==xn(t,["learningRate"]))throw new Error("learningRate parameter is not supported in Vertex AI.");return{}}(0,o,n)),n}function $o(e,t){const n={},r=xn(t,["name"]);null!=r&&bn(n,["name"],r);const i=xn(t,["state"]);null!=i&&bn(n,["state"],$r(0,i));const o=xn(t,["createTime"]);null!=o&&bn(n,["createTime"],o);const a=xn(t,["tuningTask","startTime"]);null!=a&&bn(n,["startTime"],a);const s=xn(t,["tuningTask","completeTime"]);null!=s&&bn(n,["endTime"],s);const l=xn(t,["updateTime"]);null!=l&&bn(n,["updateTime"],l);const u=xn(t,["description"]);null!=u&&bn(n,["description"],u);const c=xn(t,["baseModel"]);null!=c&&bn(n,["baseModel"],c);const d=xn(t,["_self"]);null!=d&&bn(n,["tunedModel"],function(e,t){const n={},r=xn(t,["name"]);null!=r&&bn(n,["model"],r);const i=xn(t,["name"]);return null!=i&&bn(n,["endpoint"],i),n}(0,d));const p=xn(t,["distillationSpec"]);null!=p&&bn(n,["distillationSpec"],p);const f=xn(t,["experiment"]);null!=f&&bn(n,["experiment"],f);const h=xn(t,["labels"]);null!=h&&bn(n,["labels"],h);const m=xn(t,["pipelineJob"]);null!=m&&bn(n,["pipelineJob"],m);const g=xn(t,["serviceAccount"]);null!=g&&bn(n,["serviceAccount"],g);const v=xn(t,["tunedModelDisplayName"]);return null!=v&&bn(n,["tunedModelDisplayName"],v),n}function Zo(e,t){const n={},r=xn(t,["name"]);null!=r&&bn(n,["name"],r);const i=xn(t,["state"]);null!=i&&bn(n,["state"],$r(0,i));const o=xn(t,["createTime"]);null!=o&&bn(n,["createTime"],o);const a=xn(t,["startTime"]);null!=a&&bn(n,["startTime"],a);const s=xn(t,["endTime"]);null!=s&&bn(n,["endTime"],s);const l=xn(t,["updateTime"]);null!=l&&bn(n,["updateTime"],l);const u=xn(t,["error"]);null!=u&&bn(n,["error"],u);const c=xn(t,["description"]);null!=c&&bn(n,["description"],c);const d=xn(t,["baseModel"]);null!=d&&bn(n,["baseModel"],d);const p=xn(t,["tunedModel"]);null!=p&&bn(n,["tunedModel"],function(e,t){const n={},r=xn(t,["model"]);null!=r&&bn(n,["model"],r);const i=xn(t,["endpoint"]);null!=i&&bn(n,["endpoint"],i);const o=xn(t,["checkpoints"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map(e=>function(e,t){const n={},r=xn(t,["checkpointId"]);null!=r&&bn(n,["checkpointId"],r);const i=xn(t,["epoch"]);null!=i&&bn(n,["epoch"],i);const o=xn(t,["step"]);null!=o&&bn(n,["step"],o);const a=xn(t,["endpoint"]);return null!=a&&bn(n,["endpoint"],a),n}(0,e))),bn(n,["checkpoints"],e)}return n}(0,p));const f=xn(t,["supervisedTuningSpec"]);null!=f&&bn(n,["supervisedTuningSpec"],f);const h=xn(t,["tuningDataStats"]);null!=h&&bn(n,["tuningDataStats"],h);const m=xn(t,["encryptionSpec"]);null!=m&&bn(n,["encryptionSpec"],m);const g=xn(t,["partnerModelTuningSpec"]);null!=g&&bn(n,["partnerModelTuningSpec"],g);const v=xn(t,["distillationSpec"]);null!=v&&bn(n,["distillationSpec"],v);const y=xn(t,["experiment"]);null!=y&&bn(n,["experiment"],y);const b=xn(t,["labels"]);null!=b&&bn(n,["labels"],b);const x=xn(t,["pipelineJob"]);null!=x&&bn(n,["pipelineJob"],x);const _=xn(t,["serviceAccount"]);null!=_&&bn(n,["serviceAccount"],_);const w=xn(t,["tunedModelDisplayName"]);return null!=w&&bn(n,["tunedModelDisplayName"],w),n}class Wo extends vn{constructor(e){super(),this.apiClient=e,this.get=async e=>await this.getInternal(e),this.list=async(e={})=>new di(ci.PAGED_ITEM_TUNING_JOBS,e=>this.listInternal(e),await this.listInternal(e),e),this.tune=async e=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(e);{const t=await this.tuneMldevInternal(e);let n="";return void 0!==t.metadata&&void 0!==t.metadata.tunedModel?n=t.metadata.tunedModel:void 0!==t.name&&t.name.includes("/operations/")&&(n=t.name.split("/operations/")[0]),{name:n,state:Dn.JOB_STATE_QUEUED}}}}async getInternal(e){var t,n,r,i;let o,a="",s={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=xn(t,["name"]);null!=r&&bn(n,["_url","name"],r);const i=xn(t,["config"]);return null!=i&&bn(n,["config"],i),n}(this.apiClient,e);return a=yn("{name}",r._url),s=r._query,delete r.config,delete r._url,delete r._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),o.then(e=>Zo(this.apiClient,e))}{const t=function(e,t){const n={},r=xn(t,["name"]);null!=r&&bn(n,["_url","name"],r);const i=xn(t,["config"]);return null!=i&&bn(n,["config"],i),n}(this.apiClient,e);return a=yn("{name}",t._url),s=t._query,delete t.config,delete t._url,delete t._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(i=e.config)||void 0===i?void 0:i.abortSignal}).then(e=>e.json()),o.then(e=>$o(this.apiClient,e))}}async listInternal(e){var t,n,r,i;let o,a="",s={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=xn(t,["config"]);return null!=r&&bn(n,["config"],function(e,t,n){const r=xn(t,["pageSize"]);void 0!==n&&null!=r&&bn(n,["_query","pageSize"],r);const i=xn(t,["pageToken"]);void 0!==n&&null!=i&&bn(n,["_query","pageToken"],i);const o=xn(t,["filter"]);return void 0!==n&&null!=o&&bn(n,["_query","filter"],o),{}}(0,r,n)),n}(this.apiClient,e);return a=yn("tuningJobs",r._url),s=r._query,delete r.config,delete r._url,delete r._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),o.then(e=>{const t=function(e,t){const n={},r=xn(t,["nextPageToken"]);null!=r&&bn(n,["nextPageToken"],r);const i=xn(t,["tuningJobs"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>Zo(0,e))),bn(n,["tuningJobs"],e)}return n}(this.apiClient,e),n=new mr;return Object.assign(n,t),n})}{const t=function(e,t){const n={},r=xn(t,["config"]);return null!=r&&bn(n,["config"],function(e,t,n){const r=xn(t,["pageSize"]);void 0!==n&&null!=r&&bn(n,["_query","pageSize"],r);const i=xn(t,["pageToken"]);void 0!==n&&null!=i&&bn(n,["_query","pageToken"],i);const o=xn(t,["filter"]);return void 0!==n&&null!=o&&bn(n,["_query","filter"],o),{}}(0,r,n)),n}(this.apiClient,e);return a=yn("tunedModels",t._url),s=t._query,delete t.config,delete t._url,delete t._query,o=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(i=e.config)||void 0===i?void 0:i.abortSignal}).then(e=>e.json()),o.then(e=>{const t=function(e,t){const n={},r=xn(t,["nextPageToken"]);null!=r&&bn(n,["nextPageToken"],r);const i=xn(t,["tunedModels"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map(e=>$o(0,e))),bn(n,["tuningJobs"],e)}return n}(this.apiClient,e),n=new mr;return Object.assign(n,t),n})}}async tuneInternal(e){var t,n;let r,i="",o={};if(this.apiClient.isVertexAI()){const a=Ho(this.apiClient,e);return i=yn("tuningJobs",a._url),o=a._query,delete a.config,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>Zo(this.apiClient,e))}throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,n;let r,i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const a=Go(this.apiClient,e);return i=yn("tunedModels",a._url),o=a._query,delete a.config,delete a._url,delete a._query,r=this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(a),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then(e=>e.json()),r.then(e=>function(e,t){const n={},r=xn(t,["name"]);null!=r&&bn(n,["name"],r);const i=xn(t,["metadata"]);null!=i&&bn(n,["metadata"],i);const o=xn(t,["done"]);null!=o&&bn(n,["done"],o);const a=xn(t,["error"]);return null!=a&&bn(n,["error"],a),n}(this.apiClient,e))}}}class Jo{async download(e,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Ko="x-goog-upload-status";function Yo(e){return new Promise(t=>setTimeout(t,e))}class Qo{async upload(e,t,n){if("string"==typeof e)throw new Error("File path is not supported in browser uploader.");return await async function(e,t,n){var r,i,o;let a=0,s=0,l=new br(new Response),u="upload";for(a=e.size;s<a;){const o=Math.min(8388608,a-s),c=e.slice(s,s+o);s+o>=a&&(u+=", finalize");let d=0,p=1e3;for(;d<3&&(l=await n.request({path:"",body:c,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":u,"X-Goog-Upload-Offset":String(s),"Content-Length":String(o)}}}),!(null===(r=null==l?void 0:l.headers)||void 0===r?void 0:r[Ko]));)d++,await Yo(p),p*=2;if(s+=o,"active"!==(null===(i=null==l?void 0:l.headers)||void 0===i?void 0:i[Ko]))break;if(a<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const c=await(null==l?void 0:l.json());if("final"!==(null===(o=null==l?void 0:l.headers)||void 0===o?void 0:o[Ko]))throw new Error("Failed to upload file: Upload status is not finalized.");return c.file}(e,t,n)}async stat(e){if("string"==typeof e)throw new Error("File path is not supported in browser uploader.");return await async function(e){return{size:e.size,type:e.type}}(e)}}class Xo{create(e,t,n){return new ea(e,t,n)}}class ea{constructor(e,t,n){this.url=e,this.headers=t,this.callbacks=n}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(void 0===this.ws)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(void 0===this.ws)throw new Error("WebSocket is not connected");this.ws.close()}}const ta="x-goog-api-key";class na{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(null===e.get(ta)){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(ta,this.apiKey)}}}console.error("API_KEY environment variable not set. Gemini features will not work.");const ra=new class{constructor(e){var t;if(null==e.apiKey)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=null!==(t=e.vertexai)&&void 0!==t&&t,this.apiKey=e.apiKey;const n=function(e,t,n){var r,i,o;if(!(null===(r=e.httpOptions)||void 0===r?void 0:r.baseUrl)){const r={geminiUrl:void 0,vertexUrl:void 0};return e.vertexai?null!==(i=r.vertexUrl)&&void 0!==i?i:t:null!==(o=r.geminiUrl)&&void 0!==o?o:n}return e.httpOptions.baseUrl}(e,void 0,void 0);n&&(e.httpOptions?e.httpOptions.baseUrl=n:e.httpOptions={baseUrl:n}),this.apiVersion=e.apiVersion;const r=new na(this.apiKey);this.apiClient=new _o({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:"gl-node/web",uploader:new Qo,downloader:new Jo}),this.models=new Do(this.apiClient),this.live=new Ao(this.apiClient,r,new Xo),this.chats=new bi(this.models,this.apiClient),this.caches=new pi(this.apiClient),this.files=new wi(this.apiClient),this.operations=new Fo(this.apiClient),this.authTokens=new Bo(this.apiClient),this.tunings=new Wo(this.apiClient)}}({apiKey:"",vertexai:!0}),ia=Array.from({length:32},()=>.4*Math.random()+.1),oa={before:{lufs:-24.5,peak:-3.1,crest:12.3,spectrum:ia},after:{lufs:-24.5,peak:-3.1,crest:12.3,spectrum:ia}},aa=[{name:"Streaming Master",description:"Optimized for Spotify, Apple Music (-14 LUFS)."},{name:"CD Master",description:"Full dynamic range, ready for physical media."},{name:"Loud Master",description:"Competitive loudness for specific use cases."},{name:"Analog Taste",description:"Master with subtle saturation and warmth."}],sa=e=>new Promise(t=>setTimeout(t,e)),la=()=>{const[e,t]=(0,i.useState)(null),[n,o]=(0,i.useState)({platform:"streaming",tags:[]}),{processSteps:a,analytics:s,finalVersions:l,isProcessing:u,statusMessage:c,startMasteringProcess:d,reset:p}=(()=>{const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(oa),[o,a]=(0,i.useState)([]),[s,l]=(0,i.useState)(!1),[u,c]=(0,i.useState)(""),d=(0,i.useCallback)(()=>{t([]),r(oa),a([]),l(!1),c("")},[]),p=(0,i.useCallback)(async i=>{var o,s;d(),l(!0),c("Initializing AI agents...");try{const e=`You are an AI mastering engineer task scheduler. Based on the user's structured request, break down the mastering process into a sequence of tasks for different AI agents. The agents are: 'Analysis', 'EQ', 'Dynamics', 'StereoImage', 'Enhancement', 'QualityCheck'. Respond ONLY with a JSON array of objects, where each object has 'agent' (string) and 'task' (string) properties. The user's goal is to release on '${i.platform}' and they want the track to be '${i.tags.join(", ")}'. Be professional and logical.`,l=await ra.models.generateContent({model:"gemini-2.5-flash",contents:{role:"user",parts:[{text:`Target Platform: ${i.platform}, Desired Characteristics: ${i.tags.join(", ")}`}]},config:{systemInstruction:e,responseMimeType:"application/json",responseSchema:{type:Cn.ARRAY,items:{type:Cn.OBJECT,properties:{agent:{type:Cn.STRING},task:{type:Cn.STRING}}}}}});let u=JSON.parse(null!==(o=l.text)&&void 0!==o?o:"[]").map((e,t)=>({id:t,agent:e.agent,task:e.task,status:"pending"}));t(u),await sa(1e3);let d=Object.assign({},n);for(let e=0;e<u.length;e++)u=u.map((t,n)=>n===e?Object.assign(Object.assign({},t),{status:"in-progress"}):t),t([...u]),c(`Agent [${u[e].agent}] is executing: ${u[e].task}`),await sa(2e3+1500*Math.random()),d=Object.assign(Object.assign({},d),{after:{lufs:d.after.lufs+.2*(14-d.after.lufs),peak:d.after.peak+.2*(-1-d.after.peak),crest:d.after.crest+.2*(9-d.after.crest),spectrum:d.after.spectrum.map(e=>Math.min(1,e+.2*(Math.random()-.45)))}}),r(d),u=u.map((t,n)=>n===e?Object.assign(Object.assign({},t),{status:"complete"}):t),t([...u]);c("Agents evaluating results for improvement...");const p={id:u.length,agent:"Improvement",task:"Self-evaluating overall balance and dynamics.",status:"in-progress"};u.push(p),t([...u]),await sa(2500);const f=`You are a quality assurance AI for audio mastering. The goal was: platform '${i.platform}', characteristics '${i.tags.join(", ")}'. The current metrics are LUFS: ${d.after.lufs.toFixed(1)}, Peak: ${d.after.peak.toFixed(1)}. Based on the goal, suggest one final micro-adjustment. Respond with a JSON object: {"evaluation": "brief summary", "reworkStep": { "agent": "EQ" | "Dynamics", "task": "specific micro-adjustment" } }.`,h=await ra.models.generateContent({model:"gemini-2.5-flash",contents:{role:"user",parts:[{text:f}]},config:{responseMimeType:"application/json",responseSchema:{type:Cn.OBJECT,properties:{evaluation:{type:Cn.STRING},reworkStep:{type:Cn.OBJECT,properties:{agent:{type:Cn.STRING},task:{type:Cn.STRING}}}}}}}),m=JSON.parse(null!==(s=h.text)&&void 0!==s?s:'{"evaluation":"","reworkStep":{"agent":"EQ","task":"Fine-tune high-frequency balance."}}');u=u.map(e=>"Improvement"===e.agent?Object.assign(Object.assign({},e),{status:"complete",details:m.evaluation}):e),t([...u]),await sa(1e3);const g={id:u.length,agent:m.reworkStep.agent,task:m.reworkStep.task,status:"reworking"};u.push(g),t([...u]),c(`Reworking: ${g.task}`),await sa(2e3),d=Object.assign(Object.assign({},d),{after:{lufs:-14.1,peak:-1,crest:9.2,spectrum:d.after.spectrum.map(e=>Math.min(1,e+.1*(Math.random()-.4)))}}),r(d),u=u.map(e=>"reworking"===e.status?Object.assign(Object.assign({},e),{status:"complete"}):e),t([...u]);const v={id:u.length,agent:"Delivery",task:"Generating final versions for different platforms.",status:"in-progress"};u.push(v),t([...u]),c("Finalizing and generating output files..."),await sa(1500),u=u.map(e=>"Delivery"===e.agent?Object.assign(Object.assign({},e),{status:"complete"}):e),t([...u]),a(aa)}catch(n){console.error("Error during mastering process:",n),c("An error occurred. Please check the console.");const r={id:e.length,agent:"Improvement",task:"Process failed",status:"error",details:n.message};t(e=>[...e,r])}finally{l(!1),c("Mastering process complete.")}},[d,n,e]);return{processSteps:e,analytics:n,finalVersions:o,isProcessing:s,statusMessage:u,startMasteringProcess:p,reset:d}})(),f=(0,i.useCallback)(()=>{e&&d(n)},[e,n,d]),h=l.length>0;return(0,r.jsx)("div",{className:"w-full",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[(0,r.jsx)("div",{className:"lg:col-span-3",children:(0,r.jsx)(I,{audioFile:e,setAudioFile:t,masteringGoal:n,setMasteringGoal:o,onStart:f,onReset:()=>{t(null),p()},isProcessing:u,isFinished:h})}),(0,r.jsx)("div",{className:"lg:col-span-9 flex flex-col gap-6",children:u||h?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[(0,r.jsx)("div",{className:"xl:col-span-2",children:(0,r.jsx)(R,{steps:a,statusMessage:c,isProcessing:u})}),(0,r.jsx)("div",{className:"xl:col-span-1",children:(0,r.jsx)(L,{data:s,isProcessing:u})})]}),h&&(0,r.jsx)(F,{versions:l})]}):(0,r.jsx)(B,{file:e,platform:n.platform})})]})})};const ua="aimastering:users",ca="aimastering:session",da=(()=>{const e={};return{getItem:t=>t in e?e[t]:null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}})(),pa="undefined"!=typeof window&&window.localStorage?window.localStorage:da,fa="undefined"!=typeof globalThis?globalThis.crypto:void 0,ha=[{user:{id:"user-123",name:"Nova Spark",email:"nova@example.com",isAdmin:!0,plan:"Pro",joinedAt:"2024-01-05"},password:"demo1234"},{user:{id:"user-002",name:"Jane Smith",email:"jane.s@example.com",isAdmin:!1,plan:"Free",joinedAt:"2024-02-14"},password:"password123"},{user:{id:"user-003",name:"Alex Rivera",email:"alex.r@example.com",isAdmin:!1,plan:"Pro",joinedAt:"2024-03-22"},password:"supersecure"}],ma=(e=250,t=650)=>new Promise(n=>setTimeout(n,Math.random()*(t-e)+e)),ga=e=>btoa(`aimastering::${e}::pepper`),va=()=>{const e=pa.getItem(ua);if(!e)return ya(),va();try{const t=JSON.parse(e);return Array.isArray(t)?t:[]}catch(e){return console.error("Failed to parse users from storage:",e),[]}},ya=()=>{const e=ha.map(({user:e,password:t})=>Object.assign(Object.assign({},e),{passwordHash:ga(t)}));pa.setItem(ua,JSON.stringify(e))},ba=e=>{pa.setItem(ua,JSON.stringify(e))},xa=e=>{const{passwordHash:t}=e;return function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["passwordHash"])},_a=(e,t=va())=>t.find(t=>t.email.toLowerCase()===e.toLowerCase()),wa=e=>{e?pa.setItem(ca,JSON.stringify(e)):pa.removeItem(ca)},Ca=()=>{var e,t;return null!==(t=null===(e=null==fa?void 0:fa.randomUUID)||void 0===e?void 0:e.call(fa))&&void 0!==t?t:`id-${Math.random().toString(36).slice(2)}-${Date.now()}`},Sa=()=>`token-${Ca()}`,Ea=(e,t)=>e===ga(t),Ta=new class{async getSession(){await ma();const e=(()=>{const e=pa.getItem(ca);if(!e)return null;try{return JSON.parse(e)}catch(e){return console.error("Failed to parse session record:",e),pa.removeItem(ca),null}})();if(!e)return null;const t=va().find(t=>t.id===e.userId);return t?{token:e.token,user:xa(t)}:(wa(null),null)}async signup(e){await ma();const t=va();if(_a(e.email,t))throw new Error("An account with this email already exists.");if(!e.name.trim())throw new Error("Name is required.");if(!e.email.trim())throw new Error("Email is required.");if(e.password.length<8)throw new Error("Password must be at least 8 characters long.");const n={id:Ca(),name:e.name.trim(),email:e.email.trim().toLowerCase(),isAdmin:!1,plan:"Free",joinedAt:(new Date).toISOString().split("T")[0],passwordHash:ga(e.password)};t.push(n),ba(t);const r=Sa();return wa({token:r,userId:n.id}),{token:r,user:xa(n)}}async login(e){await ma();const t=_a(e.email);if(!t||!Ea(t.passwordHash,e.password))throw new Error("Invalid email or password.");const n=Sa();return wa({token:n,userId:t.id}),{token:n,user:xa(t)}}async logout(){await ma(),wa(null)}async updateProfile(e,t){if(await ma(),!t.name.trim())throw new Error("Name cannot be empty.");if(!t.email.trim())throw new Error("Email is required.");const n=va();if(n.some(n=>n.id!==e&&n.email.toLowerCase()===t.email.trim().toLowerCase()))throw new Error("Another account already uses this email.");const r=n.findIndex(t=>t.id===e);if(-1===r)throw new Error("User not found.");return n[r]=Object.assign(Object.assign({},n[r]),{name:t.name.trim(),email:t.email.trim().toLowerCase()}),ba(n),xa(n[r])}async updatePassword(e,t){if(await ma(),!t.currentPassword)throw new Error("Please enter your current password.");if(t.newPassword.length<8)throw new Error("New password must be at least 8 characters long.");const n=va(),r=n.findIndex(t=>t.id===e);if(-1===r)throw new Error("User not found.");const i=n[r];if(!Ea(i.passwordHash,t.currentPassword))throw new Error("Current password is incorrect.");n[r]=Object.assign(Object.assign({},i),{passwordHash:ga(t.newPassword)}),ba(n)}async listUsers(){return await ma(),[...va()].sort((e,t)=>t.joinedAt.localeCompare(e.joinedAt)).map(xa)}},ka=()=>{const[e,t]=(0,i.useState)([]),[n,o]=(0,i.useState)(!0),[a,s]=(0,i.useState)(null),l=async()=>{o(!0),s(null);try{const e=await Ta.listUsers();t(e)}catch(e){console.error("Failed to load users:",e),s(e instanceof Error?e.message:"Unable to load users.")}finally{o(!1)}};(0,i.useEffect)(()=>{l()},[]);const u=e.length,c=e.filter(e=>"Pro"===e.plan).length,d=Math.max(Math.round(2.5*u),12),p=[{name:"Total Users",value:u.toString()},{name:"Active Subscriptions",value:c.toString()},{name:"Masters Processed (24h)",value:d.toString()},{name:"Server Status",value:"Operational",status:"ok"}];return(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Admin Dashboard"}),(0,r.jsx)("p",{className:"text-gray-400 mt-1",children:"Service overview and management."})]}),(0,r.jsx)("button",{onClick:l,className:"btn-secondary",disabled:n,children:n?"Refreshing...":"Refresh Data"})]}),a&&(0,r.jsx)("div",{className:"text-sm text-red-400 bg-red-500/10 border border-red-500/30 rounded-md p-3",children:a}),(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:p.map(e=>(0,r.jsxs)("div",{className:"glass-card rounded-xl p-6",children:[(0,r.jsx)("p",{className:"text-sm font-medium text-gray-400",children:e.name}),(0,r.jsx)("p",{className:"text-3xl font-bold mt-1 "+("ok"===e.status?"text-green-400":"text-white"),children:e.value})]},e.name))}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-white mb-4",children:"User Management"}),(0,r.jsx)("div",{className:"glass-card rounded-xl overflow-hidden",children:(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full text-sm text-left",children:[(0,r.jsx)("thead",{className:"bg-gray-900/50",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-6 py-3 font-medium",children:"Name"}),(0,r.jsx)("th",{className:"px-6 py-3 font-medium",children:"Email"}),(0,r.jsx)("th",{className:"px-6 py-3 font-medium",children:"Plan"}),(0,r.jsx)("th",{className:"px-6 py-3 font-medium",children:"Joined"}),(0,r.jsx)("th",{className:"px-6 py-3 font-medium",children:"Actions"})]})}),(0,r.jsx)("tbody",{className:"divide-y divide-gray-800",children:n?(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:5,className:"px-6 py-6 text-center text-gray-400",children:"Loading users..."})}):0===e.length?(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:5,className:"px-6 py-6 text-center text-gray-500",children:"No users found."})}):e.map(e=>(0,r.jsxs)("tr",{className:"hover:bg-gray-800/50",children:[(0,r.jsx)("td",{className:"px-6 py-4 font-semibold",children:e.name}),(0,r.jsx)("td",{className:"px-6 py-4 text-gray-400",children:e.email}),(0,r.jsx)("td",{className:"px-6 py-4",children:(0,r.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium "+("Pro"===e.plan?"bg-blue-900/70 text-blue-300":"bg-gray-700 text-gray-300"),children:e.plan})}),(0,r.jsx)("td",{className:"px-6 py-4 text-gray-400",children:e.joinedAt}),(0,r.jsx)("td",{className:"px-6 py-4",children:(0,r.jsx)("button",{className:"text-blue-400 hover:text-blue-300 font-medium",disabled:!0,children:"Edit"})})]},e.id))})]})})})]})]})},Oa=({user:e,onUserUpdate:t})=>{const[n,o]=(0,i.useState)(e.name),[a,s]=(0,i.useState)(e.email),[l,u]=(0,i.useState)(!1),[c,d]=(0,i.useState)(!1),[p,f]=(0,i.useState)(null),[h,y]=(0,i.useState)(null);return(0,i.useEffect)(()=>{o(e.name),s(e.email)},[e]),(0,r.jsxs)("div",{className:"max-w-4xl mx-auto space-y-12",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Settings"}),(0,r.jsx)("p",{className:"text-gray-400 mt-1",children:"Manage your account settings and preferences."})]}),(0,r.jsxs)("div",{className:"glass-card rounded-xl p-8",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-white mb-6",children:"Profile Information"}),(0,r.jsxs)("form",{onSubmit:async r=>{r.preventDefault(),u(!0),f(null);try{const r=await Ta.updateProfile(e.id,{name:n,email:a});t(r),o(r.name),s(r.email),f({type:"success",message:"Profile updated successfully."})}catch(e){console.error("Profile update failed:",e),f({type:"error",message:e instanceof Error?e.message:"Failed to update profile."})}finally{u(!1)}},className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-300 mb-1",children:"Name"}),(0,r.jsxs)("div",{className:"relative input-container",children:[(0,r.jsx)("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:(0,r.jsx)(m,{className:"h-5 w-5 text-gray-400 transition-colors"})}),(0,r.jsx)("input",{id:"name",name:"name",type:"text",value:n,onChange:e=>o(e.target.value),className:"input-field pl-10"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-300 mb-1",children:"Email"}),(0,r.jsxs)("div",{className:"relative input-container",children:[(0,r.jsx)("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:(0,r.jsx)(g,{className:"h-5 w-5 text-gray-400 transition-colors"})}),(0,r.jsx)("input",{id:"email",name:"email",type:"email",value:a,onChange:e=>s(e.target.value),className:"input-field pl-10"})]})]}),(0,r.jsx)("div",{className:"text-right pt-2",children:(0,r.jsx)("button",{type:"submit",className:"btn-primary",disabled:l,children:l?"Saving...":"Save Changes"})}),p&&(0,r.jsx)("p",{className:"text-sm "+("success"===p.type?"text-green-400":"text-red-400"),children:p.message})]})]}),(0,r.jsxs)("div",{className:"glass-card rounded-xl p-8",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-white mb-6",children:"Change Password"}),(0,r.jsxs)("form",{onSubmit:async t=>{var n,r;t.preventDefault(),d(!0),y(null);const i=new FormData(t.currentTarget),o=String(null!==(n=i.get("currentPassword"))&&void 0!==n?n:""),a=String(null!==(r=i.get("newPassword"))&&void 0!==r?r:"");try{await Ta.updatePassword(e.id,{currentPassword:o,newPassword:a}),t.currentTarget.reset(),y({type:"success",message:"Password updated successfully."})}catch(e){console.error("Password update failed:",e),y({type:"error",message:e instanceof Error?e.message:"Failed to update password."})}finally{d(!1)}},className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"current-password",className:"block text-sm font-medium text-gray-300 mb-1",children:"Current Password"}),(0,r.jsxs)("div",{className:"relative input-container",children:[(0,r.jsx)("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:(0,r.jsx)(v,{className:"h-5 w-5 text-gray-400 transition-colors"})}),(0,r.jsx)("input",{id:"current-password",name:"currentPassword",type:"password",className:"input-field pl-10",placeholder:"",required:!0})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"new-password",className:"block text-sm font-medium text-gray-300 mb-1",children:"New Password"}),(0,r.jsxs)("div",{className:"relative input-container",children:[(0,r.jsx)("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:(0,r.jsx)(v,{className:"h-5 w-5 text-gray-400 transition-colors"})}),(0,r.jsx)("input",{id:"new-password",name:"newPassword",type:"password",className:"input-field pl-10",placeholder:"",required:!0})]})]}),(0,r.jsx)("div",{className:"text-right pt-2",children:(0,r.jsx)("button",{type:"submit",className:"btn-primary",disabled:c,children:c?"Saving...":"Update Password"})}),h&&(0,r.jsx)("p",{className:"text-sm "+("success"===h.type?"text-green-400":"text-red-400"),children:h.message})]})]})]})},Na=()=>{const[e,t]=(0,i.useState)(window.location.hash||"#/"),[n,o]=(0,i.useState)(!1),[a,s]=(0,i.useState)(null),[l,u]=(0,i.useState)(!0);(0,i.useEffect)(()=>{const e=()=>{t(window.location.hash||"#/")};return window.addEventListener("hashchange",e),()=>window.removeEventListener("hashchange",e)},[]);const c=(0,i.useCallback)(e=>{window.location.hash=e},[]);(0,i.useEffect)(()=>{let e=!0;return(async()=>{try{const t=await Ta.getSession();t&&e&&(o(!0),s(t.user))}finally{e&&u(!1)}})(),()=>{e=!1}},[]);const d=(0,i.useCallback)(async(e,t)=>{const n=await Ta.login({email:e,password:t});o(!0),s(n.user),c("#/dashboard")},[c]),p=(0,i.useCallback)(async()=>{await Ta.logout(),o(!1),s(null),c("#/")},[c]),f=(0,i.useCallback)(async(e,t,n)=>{const r=await Ta.signup({name:e,email:t,password:n});o(!0),s(r.user),c("#/dashboard")},[c]),h=(0,i.useCallback)(e=>{s(e)},[]),m=l?(0,r.jsx)("div",{className:"text-center text-gray-400 py-16",children:"Restoring your workspace..."}):(()=>{if(n)switch(e){case"#/dashboard":default:return(0,r.jsx)(O,{user:a,navigate:c});case"#/mastering":return(0,r.jsx)(la,{});case"#/settings":return(0,r.jsx)(Oa,{user:a,onUserUpdate:h});case"#/admin":return(null==a?void 0:a.isAdmin)?(0,r.jsx)(ka,{}):(0,r.jsx)(O,{user:a,navigate:c})}return"#/login"===e?(0,r.jsx)(E,{onLogin:d,onSignup:f}):(0,r.jsx)(S,{navigate:c})})();return(0,r.jsx)(w,{isLoggedIn:n,user:a,onLogout:p,children:m})},Aa=document.getElementById("root");Aa&&o.createRoot(Aa).render((0,r.jsx)(i.StrictMode,{children:(0,r.jsx)(Na,{})}))})();